crystal_doc_search_index_callback({"repository_name":"ph-core","body":"# ph-core\n\nPhase is a family of scientific computing libraries written for Crystal. This repository\nimplements Phase's core functionality, including generic multidimensional arrays,\nviews, array slicing, pretty-printing, and fluent arithmetic.\n\n## NOTE\nIf you're seeing this repo right now, please note that Phase is not quite\nready for public use. We have a lot of documentation to write, compatibility\nmodules to test and ship, and specs to implement.\n\nIf you have any questions, feel free to reach out to [sethhinz@me.com](mailto:sethhinz@me.com) or open an issue.\n\n## Links\n- [API Documentation](https://in-phase.github.io/api)\n- [Introduction & Reference Material](https://in-phase.github.io/reference)\n\n## Examples\n\n```crystal\n# You can construct n-dimensional arrays from literals:\nnarr = NArray[[1, 0, 0], [0, 1, 0]]\n\n# Or programatically using the coordinates:\nnarr2 = NArray.build(2,3) do |coord| \n    10 * coord[0] + coord[1]\nend\n\nputs narr2\n# 2x3 Phase::NArray(Int32)\n# [[1, 0, 0],\n#  [0, 1, 0]]\n\nputs narr2\n# 2x3 Phase::NArray(Int32)\n# [[ 0,  1,  2],\n#  [10, 11, 12]]\n\n# Use infix operators to easily do element-wise arithmetic\nnarr + narr2 # => NArray[[1, 1, 2], [10, 12, 12]]\nnarr * narr2 # => NArray[[0, 0, 0], [ 0, 11,  0]]\n\n# Access a single element from your n-array:\nnarr.get(0, 0) # => 1\n\n# Or a chunk, via slicing:\nnarr[.., 1] # => NArray[0, 1] (all rows, column one only)\n\n# Create views of your data (to avoid copying it):\nnarr.view(.., 1) # => [0, 1] (as a View)\n\n# And even define procedures to lazily transform data:\nnarr.view(.., 1).process {|x| (x + 4)**2 } # => [16, 25] (as a ProcView)\n\n# Iterate over data in a performance and syntax friendly way:\nargmax = [0, 0]\nmax = narr.get(argmax)\nnarr2.each_with_coord do |el, coord|\n  max, argmax = el, coord if el > max\nend\nputs({max, argmax}) # => {12, [1, 2]}\n\n# Easily take axial slices of data:\nnarr2.slices(axis: 1) # => [NArray[0, 10], NArray[1, 11], NArray[2, 12]]\n\n# Perform any operation on each element of the n-array with `apply`:\nstr_narr = NArray.build(3,3) {|_, i| \"hello world\"[i] }\nputs str_narr.apply.upcase\n```\n\n## Compatibility\nPhase is designed to be modular, extensible, and compatible with other\nscientific computing libraries via [ph-compat](https://github.com/in-phase/ph-compat).\n\n```crystal\nrequire \"ishi\"\n\nrequire \"ph-core\"\nrequire \"ph-compat/ishi\"\n\n# demo this\n```\n\nthings to show off:\n- ease of constructing NArrays\n- slicing\n- arithmetic\n- masking\n- views\n- iterating over an NArray\n- slices\n- demo of ph-compat\n- #.apply\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     ph-core:\n       github: in-phase/ph-core\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"ph-core\"\n```\n\nTODO: Write usage instructions here\n\n## Core Principles\n\nOur primary motivation is to make scientific computing enjoyable, and we do that by putting **user experience above all else**. Phase only requires that you add it to your `shard.yml` - there are no C libraries you have to install.\n\nWe also aim to keep our contribution useful by making Phase as **modular and well-contained** as possible. Writing a serious scientific computing library is a large undertaking. Because ph-core is small and modular, it should still be useful and expansible even after core maintainers leave.\n\n## Development\n\nTODO: Write development instructions here\n\n## Contributing\n\n1. Fork it (<https://github.com/in-phase/ph-core/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n- [Emily Love](https://github.com/emgineering) - co-author\n- [Seth Hinz](https://github.com/shinzlet) - co-author\n","program":{"html_id":"ph-core/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"ph-core","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"ph-core/Complex","path":"Complex.html","kind":"struct","full_name":"Complex","name":"Complex","abstract":false,"superclass":{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/patches/complex.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L6"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"doc":"this patch makes it possible to operate elementwise on a Number and an NArray (in that order)\ne.g.\n``` 5 + NArray.new([1,2,3]) #=> [6,7,8] ```","summary":"<p>this patch makes it possible to operate elementwise on a Number and an NArray (in that order) e.g.</p>","instance_methods":[{"html_id":"%(other:MultiIndexable(U))forallU-instance-method","name":"%","doc":"Invokes `#%` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code>#%</code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"%","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self % elem\nend"}},{"html_id":"&(other:MultiIndexable(U))forallU-instance-method","name":"&","doc":"Invokes `#&` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%26%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"&","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self & elem\nend"}},{"html_id":"&**(other:MultiIndexable(U))forallU-instance-method","name":"&**","doc":"Invokes `#&**` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%26%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&**</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"&**","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self &** elem\nend"}},{"html_id":"&+(other:MultiIndexable(U))forallU-instance-method","name":"&+","doc":"Invokes `#&+` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%26%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&+</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"&+","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self &+ elem\nend"}},{"html_id":"&-(other:MultiIndexable(U))forallU-instance-method","name":"&-","doc":"Invokes `#&-` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%26-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&-</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"&-","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self &- elem\nend"}},{"html_id":"*(other:MultiIndexable(U))forallU-instance-method","name":"*","doc":"Invokes `#*` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#*</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"*","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self * elem\nend"}},{"html_id":"**(other:MultiIndexable(U))forallU-instance-method","name":"**","doc":"Invokes `#**` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#**</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"**","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self ** elem\nend"}},{"html_id":"+(other:MultiIndexable(U))forallU-instance-method","name":"+","doc":"Invokes `#+` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#+</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self + elem\nend"}},{"html_id":"-(other:MultiIndexable(U))forallU-instance-method","name":"-","doc":"Invokes `#-` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#-</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"-","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self - elem\nend"}},{"html_id":"/(other:MultiIndexable(U))forallU-instance-method","name":"/","doc":"Invokes `#/` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#/%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#/</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"/","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self / elem\nend"}},{"html_id":"//(other:MultiIndexable(U))forallU-instance-method","name":"//","doc":"Invokes `#//` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#//%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#//</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"//","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self // elem\nend"}},{"html_id":"<(other:MultiIndexable(U))forallU-instance-method","name":"<","doc":"Invokes `#<` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%3C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"<","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self < elem\nend"}},{"html_id":"<=(other:MultiIndexable(U))forallU-instance-method","name":"<=","doc":"Invokes `#<=` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%3C%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<=</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"<=","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self <= elem\nend"}},{"html_id":">(other:MultiIndexable(U))forallU-instance-method","name":">","doc":"Invokes `#>` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%3E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#></a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":">","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self > elem\nend"}},{"html_id":">=(other:MultiIndexable(U))forallU-instance-method","name":">=","doc":"Invokes `#>=` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%3E%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#>=</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":">=","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self >= elem\nend"}},{"html_id":"^(other:MultiIndexable(U))forallU-instance-method","name":"^","doc":"Invokes `#^` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%5E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#^</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"^","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self ^ elem\nend"}},{"html_id":"eq(other:MultiIndexable(U)):MultiIndexable(Bool)forallU-instance-method","name":"eq","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) : MultiIndexable(Bool) forall U","args_html":"(other : MultiIndexable(U)) : MultiIndexable(Bool) forall U","location":{"filename":"src/patches/complex.cr","line_number":19,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L19"},"def":{"name":"eq","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"return_type":"MultiIndexable(Bool)","visibility":"Public","body":"other.map do |elem|\n  self == elem\nend"}},{"html_id":"|(other:MultiIndexable(U))forallU-instance-method","name":"|","doc":"Invokes `#|` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"Complex.html#%7C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#|</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/complex.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/complex.cr#L7"},"def":{"name":"|","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self | elem\nend"}}]},{"html_id":"ph-core/Number","path":"Number.html","kind":"struct","full_name":"Number","name":"Number","abstract":true,"superclass":{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},"ancestors":[{"html_id":"ph-core/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"ph-core/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"},{"html_id":"ph-core/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/patches/number.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"ph-core/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"ph-core/Steppable","kind":"module","full_name":"Steppable","name":"Steppable"}],"doc":"this patch makes it possible to operate elementwise on a Number and an NArray (in that order)\ne.g.\n``` 5 + NArray.new([1,2,3]) #=> [6,7,8] ```","summary":"<p>this patch makes it possible to operate elementwise on a Number and an NArray (in that order) e.g.</p>","instance_methods":[{"html_id":"%(other:MultiIndexable(U))forallU-instance-method","name":"%","doc":"Invokes `#%` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code>#%</code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"%","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self % elem\nend"}},{"html_id":"&(other:MultiIndexable(U))forallU-instance-method","name":"&","doc":"Invokes `#&` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%26%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"&","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self & elem\nend"}},{"html_id":"&**(other:MultiIndexable(U))forallU-instance-method","name":"&**","doc":"Invokes `#&**` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%26%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&**</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"&**","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self &** elem\nend"}},{"html_id":"&+(other:MultiIndexable(U))forallU-instance-method","name":"&+","doc":"Invokes `#&+` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%26%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&+</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"&+","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self &+ elem\nend"}},{"html_id":"&-(other:MultiIndexable(U))forallU-instance-method","name":"&-","doc":"Invokes `#&-` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%26-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&-</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"&-","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self &- elem\nend"}},{"html_id":"*(other:MultiIndexable(U))forallU-instance-method","name":"*","doc":"Invokes `#*` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#*</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"*","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self * elem\nend"}},{"html_id":"**(other:MultiIndexable(U))forallU-instance-method","name":"**","doc":"Invokes `#**` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#**</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"**","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self ** elem\nend"}},{"html_id":"+(other:MultiIndexable(U))forallU-instance-method","name":"+","doc":"Invokes `#+` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#+</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self + elem\nend"}},{"html_id":"-(other:MultiIndexable(U))forallU-instance-method","name":"-","doc":"Invokes `#-` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#-</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"-","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self - elem\nend"}},{"html_id":"/(other:MultiIndexable(U))forallU-instance-method","name":"/","doc":"Invokes `#/` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#/%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#/</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"/","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self / elem\nend"}},{"html_id":"//(other:MultiIndexable(U))forallU-instance-method","name":"//","doc":"Invokes `#//` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#//%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#//</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"//","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self // elem\nend"}},{"html_id":"<(other:MultiIndexable(U))forallU-instance-method","name":"<","doc":"Invokes `#<` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%3C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"<","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self < elem\nend"}},{"html_id":"<=(other:MultiIndexable(U))forallU-instance-method","name":"<=","doc":"Invokes `#<=` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%3C%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<=</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"<=","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self <= elem\nend"}},{"html_id":">(other:MultiIndexable(U))forallU-instance-method","name":">","doc":"Invokes `#>` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%3E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#></a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":">","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self > elem\nend"}},{"html_id":">=(other:MultiIndexable(U))forallU-instance-method","name":">=","doc":"Invokes `#>=` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%3E%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#>=</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":">=","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self >= elem\nend"}},{"html_id":"^(other:MultiIndexable(U))forallU-instance-method","name":"^","doc":"Invokes `#^` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%5E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#^</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"^","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self ^ elem\nend"}},{"html_id":"eq(other:MultiIndexable(U)):MultiIndexable(Bool)forallU-instance-method","name":"eq","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) : MultiIndexable(Bool) forall U","args_html":"(other : MultiIndexable(U)) : MultiIndexable(Bool) forall U","location":{"filename":"src/patches/number.cr","line_number":17,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L17"},"def":{"name":"eq","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"return_type":"MultiIndexable(Bool)","visibility":"Public","body":"other.map do |elem|\n  self == elem\nend"}},{"html_id":"|(other:MultiIndexable(U))forallU-instance-method","name":"|","doc":"Invokes `#|` element-wise between `self` and *other*, returning\r\nan `NArray` that contains the results.\r","summary":"<p>Invokes <code><a href=\"Number.html#%7C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#|</a></code> element-wise between <code>self</code> and <em>other</em>, returning\r an <code>NArray</code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : MultiIndexable(U)) forall U","location":{"filename":"src/patches/number.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/patches/number.cr#L5"},"def":{"name":"|","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"other.map do |elem|\n  self | elem\nend"}}]},{"html_id":"ph-core/Phase","path":"Phase.html","kind":"module","full_name":"Phase","name":"Phase","abstract":false,"locations":[{"filename":"src/coord_util.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L1"},{"filename":"src/exceptions/exceptions.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/exceptions/exceptions.cr#L1"},{"filename":"src/formatter/formatter.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L6"},{"filename":"src/index_region.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L5"},{"filename":"src/iterators/chunk_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L3"},{"filename":"src/iterators/chunk_region_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L3"},{"filename":"src/iterators/colex_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/colex_iterator.cr#L3"},{"filename":"src/iterators/coord_iterator.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L1"},{"filename":"src/iterators/elem_coord_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L3"},{"filename":"src/iterators/elem_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L3"},{"filename":"src/iterators/general_coord_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L3"},{"filename":"src/iterators/lex_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/lex_iterator.cr#L3"},{"filename":"src/iterators/region_iterator.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L1"},{"filename":"src/multi_indexable.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1"},{"filename":"src/multi_writable.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L1"},{"filename":"src/n_array.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L7"},{"filename":"src/n_array/buffer_util.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L5"},{"filename":"src/ph-core.cr","line_number":37,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/ph-core.cr#L37"},{"filename":"src/proc_view.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L1"},{"filename":"src/range_syntax/range_syntax.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L3"},{"filename":"src/readonly_view.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L1"},{"filename":"src/shape_util.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/shape_util.cr#L1"},{"filename":"src/type_aliases.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/type_aliases.cr#L1"},{"filename":"src/view.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view.cr#L1"},{"filename":"src/view_util/transforms.cr","line_number":1,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L1"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.0\""}],"doc":"DOCUMENT: Write documentation for `Phase::Core`","summary":"<p>DOCUMENT: Write documentation for <code>Phase::Core</code></p>","types":[{"html_id":"ph-core/Phase/ChunkAndRegionIterator","path":"Phase/ChunkAndRegionIterator.html","kind":"class","full_name":"Phase::ChunkAndRegionIterator(C, E, I)","name":"ChunkAndRegionIterator","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/chunk_region_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(src:MultiIndexable,chunk_shape:Shape,strides:Coord?=nil,degeneracy=nil,fringe_behaviour:FB=FB::DISCARD,&)-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"MultiIndexable"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"args_string":"(src : MultiIndexable, chunk_shape : Shape, strides : Coord? = nil, degeneracy = nil, fringe_behaviour : FB = FB::DISCARD, &)","args_html":"(src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>, chunk_shape : <a href=\"../Phase/Shape.html\">Shape</a>, strides : <a href=\"../Phase/Coord.html\">Coord</a>? = <span class=\"n\">nil</span>, degeneracy = <span class=\"n\">nil</span>, fringe_behaviour : <a href=\"../Phase/ChunkAndRegionIterator/FB.html\">FB</a> = <span class=\"t\">FB</span><span class=\"t\">::</span><span class=\"t\">DISCARD</span>, &)","location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":14,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L14"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":"MultiIndexable"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"yields":1,"visibility":"Public","body":"region_iter = RegionIterator.new(src.shape, chunk_shape, strides, degeneracy, fringe_behaviour) do |region|\n  yield region\nend\nfrom(src, region_iter)\n"}},{"html_id":"new(src:MultiIndexable(E),region_iter:RegionIterator(I))-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"MultiIndexable(E)"},{"name":"region_iter","external_name":"region_iter","restriction":"RegionIterator(I)"}],"args_string":"(src : MultiIndexable(E), region_iter : RegionIterator(I))","args_html":"(src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(E), region_iter : <a href=\"../Phase/RegionIterator.html\">RegionIterator</a>(I))","location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":30,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L30"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":"MultiIndexable(E)"},{"name":"region_iter","external_name":"region_iter","restriction":"RegionIterator(I)"}],"visibility":"Public","body":"_ = ChunkAndRegionIterator(C, E, I).allocate\n_.initialize(src, region_iter)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(src:MultiIndexable,chunk_shape:Shape,strides:Coord?=nil,degeneracy=nil,fringe_behaviour:FB=FB::DISCARD)-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"MultiIndexable"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"args_string":"(src : MultiIndexable, chunk_shape : Shape, strides : Coord? = nil, degeneracy = nil, fringe_behaviour : FB = FB::DISCARD)","args_html":"(src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>, chunk_shape : <a href=\"../Phase/Shape.html\">Shape</a>, strides : <a href=\"../Phase/Coord.html\">Coord</a>? = <span class=\"n\">nil</span>, degeneracy = <span class=\"n\">nil</span>, fringe_behaviour : <a href=\"../Phase/ChunkAndRegionIterator/FB.html\">FB</a> = <span class=\"t\">FB</span><span class=\"t\">::</span><span class=\"t\">DISCARD</span>)","location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":20,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L20"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":"MultiIndexable"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"visibility":"Public","body":"region_iter = RegionIterator.new(src.shape, chunk_shape, strides, degeneracy, fringe_behaviour)\nfrom(src, region_iter)\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":33,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L33"},"def":{"name":"clone","visibility":"Public","body":"({{ @type }}).new(@src, @region_iter.clone)"}},{"html_id":"next:Stop|Tuple(C,IndexRegion(I))-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":37,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L37"},"def":{"name":"next","return_type":"Stop | Tuple(C, IndexRegion(I))","visibility":"Public","body":"case region = @region_iter.next\nin IndexRegion\n  chunk = (@src.unsafe_fetch_chunk(region)).as(C)\n  {chunk, region}\nin Stop\n  stop\nend"}},{"html_id":"next_value:Stop|C-instance-method","name":"next_value","abstract":false,"location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":47,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L47"},"def":{"name":"next_value","return_type":"Stop | C","visibility":"Public","body":"case maybe_tuple = self.next\nin Tuple\n  maybe_tuple[0]\nin Stop\n  stop\nend"}},{"html_id":"reset(*args,**options)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L12"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@region_iter.reset(*args, **options)"}},{"html_id":"reset(*args,**options,&)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/chunk_region_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L12"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@region_iter.reset(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"types":[{"html_id":"ph-core/Phase/ChunkAndRegionIterator/FB","path":"Phase/ChunkAndRegionIterator/FB.html","kind":"alias","full_name":"Phase::ChunkAndRegionIterator::FB","name":"FB","abstract":false,"locations":[{"filename":"src/iterators/chunk_region_iterator.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_region_iterator.cr#L7"}],"repository_name":"ph-core","program":false,"enum":false,"alias":true,"aliased":"Phase::RegionIterator::FringeBehaviour","aliased_html":"<a href=\"../../Phase/RegionIterator/FringeBehaviour.html\">Phase::RegionIterator::FringeBehaviour</a>","const":false,"constants":[{"id":"ALL_START_POINTS","name":"ALL_START_POINTS","value":"2"},{"id":"COVER","name":"COVER","value":"1"},{"id":"DISCARD","name":"DISCARD","value":"0"}],"namespace":{"html_id":"ph-core/Phase/ChunkAndRegionIterator","kind":"class","full_name":"Phase::ChunkAndRegionIterator(C, E, I)","name":"ChunkAndRegionIterator"}}]},{"html_id":"ph-core/Phase/ChunkIterator","path":"Phase/ChunkIterator.html","kind":"class","full_name":"Phase::ChunkIterator(C, E, I)","name":"ChunkIterator","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/chunk_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(src,chunk_shape,strides=nil,degeneracy=nil,fringe_behaviour:FB=FB::DISCARD)-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"chunk_shape","external_name":"chunk_shape","restriction":""},{"name":"strides","default_value":"nil","external_name":"strides","restriction":""},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"args_string":"(src, chunk_shape, strides = nil, degeneracy = nil, fringe_behaviour : FB = FB::DISCARD)","args_html":"(src, chunk_shape, strides = <span class=\"n\">nil</span>, degeneracy = <span class=\"n\">nil</span>, fringe_behaviour : <a href=\"../Phase/ChunkIterator/FB.html\">FB</a> = <span class=\"t\">FB</span><span class=\"t\">::</span><span class=\"t\">DISCARD</span>)","location":{"filename":"src/iterators/chunk_iterator.cr","line_number":22,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L22"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":""},{"name":"chunk_shape","external_name":"chunk_shape","restriction":""},{"name":"strides","default_value":"nil","external_name":"strides","restriction":""},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"visibility":"Public","body":"new(ChunkAndRegionIterator.new(src, chunk_shape, strides, degeneracy, fringe_behaviour))"}},{"html_id":"new(chunk_and_region_iterator:ChunkAndRegionIterator(C,E,I))-class-method","name":"new","abstract":false,"args":[{"name":"chunk_and_region_iterator","external_name":"chunk_and_region_iterator","restriction":"ChunkAndRegionIterator(C, E, I)"}],"args_string":"(chunk_and_region_iterator : ChunkAndRegionIterator(C, E, I))","args_html":"(chunk_and_region_iterator : <a href=\"../Phase/ChunkAndRegionIterator.html\">ChunkAndRegionIterator</a>(C, E, I))","location":{"filename":"src/iterators/chunk_iterator.cr","line_number":14,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L14"},"def":{"name":"new","args":[{"name":"chunk_and_region_iterator","external_name":"chunk_and_region_iterator","restriction":"ChunkAndRegionIterator(C, E, I)"}],"visibility":"Public","body":"_ = ChunkIterator(C, E, I).allocate\n_.initialize(chunk_and_region_iterator)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(src,chunk_shape,strides=nil,degeneracy=nil,fringe_behaviour:FB=FB::DISCARD,&)-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"chunk_shape","external_name":"chunk_shape","restriction":""},{"name":"strides","default_value":"nil","external_name":"strides","restriction":""},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"args_string":"(src, chunk_shape, strides = nil, degeneracy = nil, fringe_behaviour : FB = FB::DISCARD, &)","args_html":"(src, chunk_shape, strides = <span class=\"n\">nil</span>, degeneracy = <span class=\"n\">nil</span>, fringe_behaviour : <a href=\"../Phase/ChunkIterator/FB.html\">FB</a> = <span class=\"t\">FB</span><span class=\"t\">::</span><span class=\"t\">DISCARD</span>, &)","location":{"filename":"src/iterators/chunk_iterator.cr","line_number":17,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L17"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":""},{"name":"chunk_shape","external_name":"chunk_shape","restriction":""},{"name":"strides","default_value":"nil","external_name":"strides","restriction":""},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FB::DISCARD","external_name":"fringe_behaviour","restriction":"FB"}],"yields":1,"visibility":"Public","body":"new(ChunkAndRegionIterator.new(src, chunk_shape, strides, degeneracy, fringe_behaviour) do |region|\n  yield region\nend)"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/iterators/chunk_iterator.cr","line_number":11,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L11"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}},{"html_id":"next:C|Stop-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/iterators/chunk_iterator.cr","line_number":27,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L27"},"def":{"name":"next","return_type":"C | Stop","visibility":"Public","body":"@chunk_and_region_iterator.next_value"}},{"html_id":"reset(*args,**options)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/chunk_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L12"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@chunk_and_region_iterator.reset(*args, **options)"}},{"html_id":"reset(*args,**options,&)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/chunk_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L12"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@chunk_and_region_iterator.reset(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}}],"types":[{"html_id":"ph-core/Phase/ChunkIterator/FB","path":"Phase/ChunkIterator/FB.html","kind":"alias","full_name":"Phase::ChunkIterator::FB","name":"FB","abstract":false,"locations":[{"filename":"src/iterators/chunk_iterator.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/chunk_iterator.cr#L7"}],"repository_name":"ph-core","program":false,"enum":false,"alias":true,"aliased":"Phase::RegionIterator::FringeBehaviour","aliased_html":"<a href=\"../../Phase/RegionIterator/FringeBehaviour.html\">Phase::RegionIterator::FringeBehaviour</a>","const":false,"constants":[{"id":"ALL_START_POINTS","name":"ALL_START_POINTS","value":"2"},{"id":"COVER","name":"COVER","value":"1"},{"id":"DISCARD","name":"DISCARD","value":"0"}],"namespace":{"html_id":"ph-core/Phase/ChunkIterator","kind":"class","full_name":"Phase::ChunkIterator(C, E, I)","name":"ChunkIterator"}}]},{"html_id":"ph-core/Phase/ColexIterator","path":"Phase/ColexIterator.html","kind":"class","full_name":"Phase::ColexIterator(T)","name":"ColexIterator","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/colex_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/colex_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(region:IndexRegion(T))-class-method","name":"new","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion(T)"}],"args_string":"(region : IndexRegion(T))","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>(T))","location":{"filename":"src/iterators/colex_iterator.cr","line_number":8,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/colex_iterator.cr#L8"},"def":{"name":"new","args":[{"name":"region","external_name":"region","restriction":"IndexRegion(T)"}],"visibility":"Public","body":"_ = ColexIterator(T).allocate\n_.initialize(region)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(region_literal)-class-method","name":"new","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":""}],"args_string":"(region_literal)","args_html":"(region_literal)","location":{"filename":"src/iterators/colex_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/colex_iterator.cr#L12"},"def":{"name":"new","args":[{"name":"region_literal","external_name":"region_literal","restriction":""}],"visibility":"Public","body":"_ = ColexIterator(T).allocate\n_.initialize(region_literal)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"advance_coord-instance-method","name":"advance_coord","abstract":false,"location":{"filename":"src/iterators/colex_iterator.cr","line_number":16,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/colex_iterator.cr#L16"},"def":{"name":"advance_coord","visibility":"Public","body":"@coord.each_index do |i|\n  if (@coord.unsafe_fetch(i)) == (@last.unsafe_fetch(i))\n    @coord[i] = @first.unsafe_fetch(i)\n    if i == (@coord.size - 1)\n      return stop\n    end\n  else\n    __temp_47 = i\n    @coord[__temp_47] = @coord[__temp_47] + (@step.unsafe_fetch(i))\n    break\n  end\nend\n@coord\n"}},{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/iterators/colex_iterator.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/colex_iterator.cr#L6"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}}]},{"html_id":"ph-core/Phase/ComposedTransform","path":"Phase/ComposedTransform.html","kind":"struct","full_name":"Phase::ComposedTransform","name":"ComposedTransform","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},"ancestors":[{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":26,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L26"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"probably done for now","summary":"<p>probably done for now</p>","class_methods":[{"html_id":"[](*transforms)-class-method","name":"[]","abstract":false,"args":[{"name":"transforms","external_name":"transforms","restriction":""}],"args_string":"(*transforms)","args_html":"(*transforms)","location":{"filename":"src/view_util/transforms.cr","line_number":32,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L32"},"def":{"name":"[]","args":[{"name":"transforms","external_name":"transforms","restriction":""}],"splat_index":0,"visibility":"Public","body":"new((transforms.map do |__arg0|\n  __arg0.as(CoordTransform)\nend).to_a)"}}],"constructors":[{"html_id":"new(transforms=[]ofCoordTransform)-class-method","name":"new","abstract":false,"args":[{"name":"transforms","default_value":"[] of CoordTransform","external_name":"transforms","restriction":""}],"args_string":"(transforms = [] of CoordTransform)","args_html":"(transforms = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">CoordTransform</span>)","location":{"filename":"src/view_util/transforms.cr","line_number":29,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L29"},"def":{"name":"new","args":[{"name":"transforms","default_value":"[] of CoordTransform","external_name":"transforms","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(transforms)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","doc":"TODO: is this in-place? Should it not be?","summary":"<p><span class=\"flag orange\">TODO</span>  is this in-place? Should it not be?</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":73,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L73"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":"@transforms.reduce(coord) do |coord, trans|\n  trans.apply(coord)\nend"}},{"html_id":"clone-instance-method","name":"clone","abstract":false,"location":{"filename":"src/view_util/transforms.cr","line_number":36,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L36"},"def":{"name":"clone","visibility":"Public","body":"ComposedTransform.new(@transforms.dup)"}},{"html_id":"compose(t:CoordTransform):ComposedTransform-instance-method","name":"compose","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : ComposedTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/ComposedTransform.html\">ComposedTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":68,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L68"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"ComposedTransform","visibility":"Public","body":"clone.compose!(t)"}},{"html_id":"compose!(t:ComposedTransform)-instance-method","name":"compose!","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"ComposedTransform"}],"args_string":"(t : ComposedTransform)","args_html":"(t : <a href=\"../Phase/ComposedTransform.html\">ComposedTransform</a>)","location":{"filename":"src/view_util/transforms.cr","line_number":64,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L64"},"def":{"name":"compose!","args":[{"name":"t","external_name":"t","restriction":"ComposedTransform"}],"visibility":"Public","body":"@transforms = t.transforms + @transforms"}},{"html_id":"compose!(t:CoordTransform)-instance-method","name":"compose!","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform)","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>)","location":{"filename":"src/view_util/transforms.cr","line_number":41,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L41"},"def":{"name":"compose!","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"visibility":"Public","body":"@transforms.unshift(t)"}},{"html_id":"transforms-instance-method","name":"transforms","doc":"TODO: see clone","summary":"<p><span class=\"flag orange\">TODO</span>  see clone</p>","abstract":false,"location":{"filename":"src/view_util/transforms.cr","line_number":79,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L79"},"def":{"name":"transforms","visibility":"Public","body":"@transforms.dup"}}]},{"html_id":"ph-core/Phase/Coord","path":"Phase/Coord.html","kind":"alias","full_name":"Phase::Coord","name":"Coord","abstract":false,"locations":[{"filename":"src/type_aliases.cr","line_number":11,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/type_aliases.cr#L11"}],"repository_name":"ph-core","program":false,"enum":false,"alias":true,"aliased":"Indexable(T)","aliased_html":"Indexable(T)","const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"Should be used for return types and type restriction. This will always be\ndefined as loosely as possible","summary":"<p>Should be used for return types and type restriction.</p>"},{"html_id":"ph-core/Phase/CoordIterator","path":"Phase/CoordIterator.html","kind":"class","full_name":"Phase::CoordIterator(T)","name":"CoordIterator","abstract":true,"superclass":{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/coord_iterator.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L3"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"ph-core/Phase/ColexIterator","kind":"class","full_name":"Phase::ColexIterator(T)","name":"ColexIterator"},{"html_id":"ph-core/Phase/LexIterator","kind":"class","full_name":"Phase::LexIterator(T)","name":"LexIterator"},{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedCoordIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedCoordIterator(I)","name":"IndexedCoordIterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"Strictly finite regions","summary":"<p>Strictly finite regions</p>","class_methods":[{"html_id":"cover(shape:Shape)-class-method","name":"cover","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":"Shape"}],"args_string":"(shape : Shape)","args_html":"(shape : <a href=\"../Phase/Shape.html\">Shape</a>)","location":{"filename":"src/iterators/coord_iterator.cr","line_number":11,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L11"},"def":{"name":"cover","args":[{"name":"shape","external_name":"shape","restriction":"Shape"}],"visibility":"Public","body":"new(IndexRegion.cover(shape))"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","abstract":true,"location":{"filename":"src/iterators/coord_iterator.cr","line_number":9,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L9"},"def":{"name":"clone","visibility":"Public","body":""}},{"html_id":"coord-instance-method","name":"coord","abstract":false,"location":{"filename":"src/iterators/coord_iterator.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L7"},"def":{"name":"coord","visibility":"Public","body":"@coord"}},{"html_id":"reverse-instance-method","name":"reverse","abstract":false,"location":{"filename":"src/iterators/coord_iterator.cr","line_number":30,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L30"},"def":{"name":"reverse","visibility":"Public","body":"clone.reverse!"}},{"html_id":"reverse!-instance-method","name":"reverse!","abstract":false,"location":{"filename":"src/iterators/coord_iterator.cr","line_number":24,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L24"},"def":{"name":"reverse!","visibility":"Public","body":"@last, @first = @first, @last\n@step.map!(&.-)\nreset\n"}},{"html_id":"size:BigInt-instance-method","name":"size","doc":"Returns the number of elements in the collection.\n\n```\n[1, 2, 3, 4].size # => 4\n```","summary":"<p>Returns the number of elements in the collection.</p>","abstract":false,"location":{"filename":"src/iterators/coord_iterator.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/coord_iterator.cr#L6"},"def":{"name":"size","return_type":"BigInt","visibility":"Public","body":"@size"}}]},{"html_id":"ph-core/Phase/CoordTransform","path":"Phase/CoordTransform.html","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform","abstract":true,"superclass":{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L3"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"ph-core/Phase/ComposedTransform","kind":"struct","full_name":"Phase::ComposedTransform","name":"ComposedTransform"},{"html_id":"ph-core/Phase/IdentityTransform","kind":"struct","full_name":"Phase::IdentityTransform","name":"IdentityTransform"},{"html_id":"ph-core/Phase/PermuteTransform","kind":"struct","full_name":"Phase::PermuteTransform","name":"PermuteTransform"},{"html_id":"ph-core/Phase/RegionTransform","kind":"struct","full_name":"Phase::RegionTransform","name":"RegionTransform"},{"html_id":"ph-core/Phase/ReshapeTransform","kind":"struct","full_name":"Phase::ReshapeTransform","name":"ReshapeTransform"},{"html_id":"ph-core/Phase/ReverseTransform","kind":"struct","full_name":"Phase::ReverseTransform","name":"ReverseTransform"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"probably done","summary":"<p>probably done</p>","constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/view_util/transforms.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L3"},"def":{"name":"new","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","abstract":true,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":22,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L22"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":""}},{"html_id":"commutes_with?(t:CoordTransform):Bool-instance-method","name":"commutes_with?","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : Bool","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : Bool","location":{"filename":"src/view_util/transforms.cr","line_number":14,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L14"},"def":{"name":"commutes_with?","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"Bool","visibility":"Public","body":"return commutes.any? do |type|\n  type == t.class\nend || t.commutes.any? do |type|\n  type == self.class\nend"}},{"html_id":"compose(t:CoordTransform):CoordTransform-instance-method","name":"compose","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : CoordTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L6"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"CoordTransform","visibility":"Public","body":"return ComposedTransform[t, self]"}},{"html_id":"initialize-instance-method","name":"initialize","abstract":false,"location":{"filename":"src/view_util/transforms.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L3"},"def":{"name":"initialize","visibility":"Public","body":""}}]},{"html_id":"ph-core/Phase/CoordUtil","path":"Phase/CoordUtil.html","kind":"module","full_name":"Phase::CoordUtil","name":"CoordUtil","abstract":false,"locations":[{"filename":"src/coord_util.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"extended_modules":[{"html_id":"ph-core/Phase/CoordUtil","kind":"module","full_name":"Phase::CoordUtil","name":"CoordUtil"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"instance_methods":[{"html_id":"canonicalize_coord(coord,shape):Coord-instance-method","name":"canonicalize_coord","doc":"Converts a `coord` into canonical form, such that each index in `coord` is positive.\nThrows an `IndexError` if at least one index specified in `coord` is out of range for the\ncorresponding axis of `shape`.","summary":"<p>Converts a <code>coord</code> into canonical form, such that each index in <code>coord</code> is positive.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(coord, shape) : Coord","args_html":"(coord, shape) : <a href=\"../Phase/Coord.html\">Coord</a>","location":{"filename":"src/coord_util.cr","line_number":64,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L64"},"def":{"name":"canonicalize_coord","args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"return_type":"Coord","visibility":"Public","body":"if coord.size != shape.size\n  raise(DimensionError.new(\"Could not canonicalize coordinate #{coord} to fit in shape #{shape}: shape has #{shape.size} dimensions, while coord has #{coord.size}.\"))\nend\ncoord.to_a.map_with_index do |index, axis|\n  (canonicalize_index(index, shape, axis)).to_i32\nend\n"}},{"html_id":"canonicalize_index(index,shape,axis)-instance-method","name":"canonicalize_index","doc":"Returns the canonical (positive) form of `index` along a particular `axis` of `shape`.\nThrows an `IndexError` if `index` is out of range of `shape` along this axis.","summary":"<p>Returns the canonical (positive) form of <code>index</code> along a particular <code>axis</code> of <code>shape</code>.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"shape","external_name":"shape","restriction":""},{"name":"axis","external_name":"axis","restriction":""}],"args_string":"(index, shape, axis)","args_html":"(index, shape, axis)","location":{"filename":"src/coord_util.cr","line_number":27,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L27"},"def":{"name":"canonicalize_index","args":[{"name":"index","external_name":"index","restriction":""},{"name":"shape","external_name":"shape","restriction":""},{"name":"axis","external_name":"axis","restriction":""}],"visibility":"Public","body":"canonicalize_index(index, shape[axis])"}},{"html_id":"canonicalize_index(index,size)-instance-method","name":"canonicalize_index","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"size","external_name":"size","restriction":""}],"args_string":"(index, size)","args_html":"(index, size)","location":{"filename":"src/coord_util.cr","line_number":31,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L31"},"def":{"name":"canonicalize_index","args":[{"name":"index","external_name":"index","restriction":""},{"name":"size","external_name":"size","restriction":""}],"visibility":"Public","body":"if !(has_index?(index, size))\n  raise(IndexError.new(\"Could not canonicalize index: #{index} is not a valid index for an axis of length #{size}.\"))\nend\ncanonicalize_index_unsafe(index, size)\n"}},{"html_id":"has_coord?(coord,shape)-instance-method","name":"has_coord?","doc":"Checks if `coord` is a valid coordinate for an array-like object with dimensions specified by `shape`.\nA coord is a list (Enumerable) of integers specifying an index along each axis in `shape`.","summary":"<p>Checks if <code>coord</code> is a valid coordinate for an array-like object with dimensions specified by <code>shape</code>.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(coord, shape)","args_html":"(coord, shape)","location":{"filename":"src/coord_util.cr","line_number":20,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L20"},"def":{"name":"has_coord?","args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"visibility":"Public","body":"if coord.size != shape.size\n  return false\nend\ncoord.to_a.map_with_index do |index, axis|\n  has_index?(index, shape, axis)\nend.all?\n"}},{"html_id":"has_index?(index,shape,axis)-instance-method","name":"has_index?","doc":"Checks if `index` is a valid index along `axis` for an array-like object with dimensions specified by `shape`.","summary":"<p>Checks if <code>index</code> is a valid index along <code>axis</code> for an array-like object with dimensions specified by <code>shape</code>.</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"shape","external_name":"shape","restriction":""},{"name":"axis","external_name":"axis","restriction":""}],"args_string":"(index, shape, axis)","args_html":"(index, shape, axis)","location":{"filename":"src/coord_util.cr","line_number":14,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L14"},"def":{"name":"has_index?","args":[{"name":"index","external_name":"index","restriction":""},{"name":"shape","external_name":"shape","restriction":""},{"name":"axis","external_name":"axis","restriction":""}],"visibility":"Public","body":"has_index?(index, shape[axis])"}},{"html_id":"has_index?(index,size:Int::Unsigned)-instance-method","name":"has_index?","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"size","external_name":"size","restriction":"Int::Unsigned"}],"args_string":"(index, size : Int::Unsigned)","args_html":"(index, size : Int::Unsigned)","location":{"filename":"src/coord_util.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L5"},"def":{"name":"has_index?","args":[{"name":"index","external_name":"index","restriction":""},{"name":"size","external_name":"size","restriction":"Int::Unsigned"}],"visibility":"Public","body":"index < size && index >= (-(size.to_big_i))"}},{"html_id":"has_index?(index,size:Int)-instance-method","name":"has_index?","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"size","external_name":"size","restriction":"Int"}],"args_string":"(index, size : Int)","args_html":"(index, size : Int)","location":{"filename":"src/coord_util.cr","line_number":9,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/coord_util.cr#L9"},"def":{"name":"has_index?","args":[{"name":"index","external_name":"index","restriction":""},{"name":"size","external_name":"size","restriction":"Int"}],"visibility":"Public","body":"index < size && index >= (-size)"}}]},{"html_id":"ph-core/Phase/DimensionError","path":"Phase/DimensionError.html","kind":"class","full_name":"Phase::DimensionError","name":"DimensionError","abstract":false,"superclass":{"html_id":"ph-core/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"ph-core/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/exceptions/exceptions.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/exceptions/exceptions.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"class_methods":[{"html_id":"initialize(message=\"Wrongnumberofdimensionsforthisoperation.\")-class-method","name":"initialize","abstract":false,"args":[{"name":"message","default_value":"\"Wrong number of dimensions for this operation.\"","external_name":"message","restriction":""}],"args_string":"(message = \"Wrong number of dimensions for this operation.\")","args_html":"(message = <span class=\"s\">&quot;Wrong number of dimensions for this operation.&quot;</span>)","location":{"filename":"src/exceptions/exceptions.cr","line_number":3,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/exceptions/exceptions.cr#L3"},"def":{"name":"initialize","args":[{"name":"message","default_value":"\"Wrong number of dimensions for this operation.\"","external_name":"message","restriction":""}],"visibility":"Public","body":"super(message)"}}]},{"html_id":"ph-core/Phase/ElemAndCoordIterator","path":"Phase/ElemAndCoordIterator.html","kind":"class","full_name":"Phase::ElemAndCoordIterator(E, I)","name":"ElemAndCoordIterator","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/elem_coord_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"subclasses":[{"html_id":"ph-core/Phase/NArray/BufferUtil/BufferedECIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::BufferedECIterator(T, I)","name":"BufferedECIterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"class_methods":[{"html_id":"of(src,iter:CoordIterator(I))-class-method","name":"of","doc":"discussed on signal: have an overload where iter is a mandatory named param","summary":"<p>discussed on signal: have an overload where iter is a mandatory named param</p>","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"args_string":"(src, iter : CoordIterator(I))","args_html":"(src, iter : <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>(I))","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":13,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L13"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"visibility":"Public","body":"new(src, iter)"}},{"html_id":"of(src,region=nil)-class-method","name":"of","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"args_string":"(src, region = nil)","args_html":"(src, region = <span class=\"n\">nil</span>)","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":17,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L17"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":""},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"visibility":"Public","body":"if region.nil?\n  iter = LexIterator.cover(src.shape)\nelse\n  iter = LexIterator.new(region)\nend\nnew(src, iter)\n"}}],"constructors":[{"html_id":"new(src:MultiIndexable(E),coord_iter:CoordIterator(I))-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"MultiIndexable(E)"},{"name":"coord_iter","external_name":"coord_iter","restriction":"CoordIterator(I)"}],"args_string":"(src : MultiIndexable(E), coord_iter : CoordIterator(I))","args_html":"(src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(E), coord_iter : <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>(I))","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":26,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L26"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":"MultiIndexable(E)"},{"name":"coord_iter","external_name":"coord_iter","restriction":"CoordIterator(I)"}],"visibility":"Public","body":"_ = ElemAndCoordIterator(E, I).allocate\n_.initialize(src, coord_iter)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","doc":"Clone the iterator (while maintaining reference to the same source array)","summary":"<p>Clone the iterator (while maintaining reference to the same source array)</p>","abstract":false,"location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":30,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L30"},"def":{"name":"clone","visibility":"Public","body":"({{ @type }}).new(@src, @coord_iter.clone)"}},{"html_id":"coord_iter:CoordIterator(I)-instance-method","name":"coord_iter","abstract":false,"location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L7"},"def":{"name":"coord_iter","return_type":"CoordIterator(I)","visibility":"Public","body":"@coord_iter"}},{"html_id":"next-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":38,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L38"},"def":{"name":"next","visibility":"Public","body":"coord = @coord_iter.next\nif coord.is_a?(Iterator::Stop)\n  return stop\nend\n{get_element(coord), coord}\n"}},{"html_id":"next_value:E|Iterator::Stop-instance-method","name":"next_value","abstract":false,"location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":44,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L44"},"def":{"name":"next_value","return_type":"E | Iterator::Stop","visibility":"Public","body":"coord = @coord_iter.next\nif coord.is_a?(Iterator::Stop)\n  return stop\nend\nget_element(coord)\n"}},{"html_id":"reset(*args,**options)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L10"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@coord_iter.reset(*args, **options)"}},{"html_id":"reset(*args,**options,&)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L10"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@coord_iter.reset(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"reverse-instance-method","name":"reverse","abstract":false,"location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":55,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L55"},"def":{"name":"reverse","visibility":"Public","body":"clone.reverse!"}},{"html_id":"reverse!(*args,**options)-instance-method","name":"reverse!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L10"},"def":{"name":"reverse!","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@coord_iter.reverse!(*args, **options)"}},{"html_id":"reverse!(*args,**options,&)-instance-method","name":"reverse!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L10"},"def":{"name":"reverse!","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@coord_iter.reverse!(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"unsafe_next_value:E-instance-method","name":"unsafe_next_value","abstract":false,"location":{"filename":"src/iterators/elem_coord_iterator.cr","line_number":50,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_coord_iterator.cr#L50"},"def":{"name":"unsafe_next_value","return_type":"E","visibility":"Public","body":"coord = @coord_iter.next.as(Array(I))\nget_element(coord)\n"}}]},{"html_id":"ph-core/Phase/ElemIterator","path":"Phase/ElemIterator.html","kind":"class","full_name":"Phase::ElemIterator(E, I)","name":"ElemIterator","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/elem_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"class_methods":[{"html_id":"of(src,iter:CoordIterator)-class-method","name":"of","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator"}],"args_string":"(src, iter : CoordIterator)","args_html":"(src, iter : <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L12"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator"}],"visibility":"Public","body":"new(src, iter)"}},{"html_id":"of(src,region=nil)-class-method","name":"of","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"args_string":"(src, region = nil)","args_html":"(src, region = <span class=\"n\">nil</span>)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":16,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L16"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":""},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"visibility":"Public","body":"if region.nil?\n  iter = LexIterator.cover(src.shape)\nelse\n  iter = LexIterator.new(region)\nend\nnew(src, iter)\n"}}],"constructors":[{"html_id":"new(src,iter:CoordIterator)-class-method","name":"new","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator"}],"args_string":"(src, iter : CoordIterator)","args_html":"(src, iter : <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":26,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L26"},"def":{"name":"new","args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator"}],"visibility":"Public","body":"new(ElemAndCoordIterator.new(src, iter))"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/iterators/elem_iterator.cr","line_number":9,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L9"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}},{"html_id":"coord_iter(*args,**options)-instance-method","name":"coord_iter","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L10"},"def":{"name":"coord_iter","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@ec_iter.coord_iter(*args, **options)"}},{"html_id":"coord_iter(*args,**options,&)-instance-method","name":"coord_iter","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L10"},"def":{"name":"coord_iter","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@ec_iter.coord_iter(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"ec_iter:ElemAndCoordIterator(E,I)-instance-method","name":"ec_iter","abstract":false,"location":{"filename":"src/iterators/elem_iterator.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L7"},"def":{"name":"ec_iter","return_type":"ElemAndCoordIterator(E, I)","visibility":"Public","body":"@ec_iter"}},{"html_id":"next-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/iterators/elem_iterator.cr","line_number":33,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L33"},"def":{"name":"next","visibility":"Public","body":"@ec_iter.next_value"}},{"html_id":"reset(*args,**options)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L10"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@ec_iter.reset(*args, **options)"}},{"html_id":"reset(*args,**options,&)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L10"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@ec_iter.reset(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"reverse-instance-method","name":"reverse","abstract":false,"location":{"filename":"src/iterators/elem_iterator.cr","line_number":41,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L41"},"def":{"name":"reverse","visibility":"Public","body":"clone.reverse!"}},{"html_id":"reverse!(*args,**options)-instance-method","name":"reverse!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L10"},"def":{"name":"reverse!","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@ec_iter.reverse!(*args, **options)"}},{"html_id":"reverse!(*args,**options,&)-instance-method","name":"reverse!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/elem_iterator.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L10"},"def":{"name":"reverse!","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@ec_iter.reverse!(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"unsafe_next-instance-method","name":"unsafe_next","abstract":false,"location":{"filename":"src/iterators/elem_iterator.cr","line_number":37,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/elem_iterator.cr#L37"},"def":{"name":"unsafe_next","visibility":"Public","body":"@ec_iter.unsafe_next_value"}}]},{"html_id":"ph-core/Phase/GeneralCoordIterator","path":"Phase/GeneralCoordIterator.html","kind":"class","full_name":"Phase::GeneralCoordIterator(T)","name":"GeneralCoordIterator","abstract":true,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/general_coord_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"subclasses":[{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator(T)","name":"CoordIterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"instance_methods":[{"html_id":"advance_coord-instance-method","name":"advance_coord","abstract":true,"location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":22,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L22"},"def":{"name":"advance_coord","visibility":"Public","body":""}},{"html_id":"coord:Array(T)-instance-method","name":"coord","abstract":false,"location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L7"},"def":{"name":"coord","return_type":"Array(T)","visibility":"Public","body":"@coord"}},{"html_id":"next:Array(T)|Stop-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":37,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L37"},"def":{"name":"next","return_type":"Array(T) | Stop","visibility":"Public","body":"if @hold_coord\n  if @empty\n    return stop\n  end\n  @hold_coord = false\n  return @coord\nend\nadvance_coord\n"}},{"html_id":"reset:self-instance-method","name":"reset","doc":"Set up any incrementing variables (such as @coord) here prior to iteration.","summary":"<p>Set up any incrementing variables (such as @coord) here prior to iteration.</p>","abstract":false,"location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":31,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L31"},"def":{"name":"reset","return_type":"self","visibility":"Public","body":"@coord = @first.dup\n@hold_coord = true\nself\n"}},{"html_id":"to_a:Array(Array(T))-instance-method","name":"to_a","doc":"Returns an `Array` with all the elements in the collection.\n\n```\n(1..5).to_a # => [1, 2, 3, 4, 5]\n```","summary":"<p>Returns an <code>Array</code> with all the elements in the collection.</p>","abstract":false,"location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":56,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L56"},"def":{"name":"to_a","return_type":"Array(Array(T))","visibility":"Public","body":"arr = [] of Array(T)\neach do |coord|\n  arr << coord.clone\nend\narr\n"}},{"html_id":"unsafe_next:Array(T)-instance-method","name":"unsafe_next","abstract":false,"location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":47,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L47"},"def":{"name":"unsafe_next","return_type":"Array(T)","visibility":"Public","body":"self.next.as(Array(T))"}},{"html_id":"unsafe_skip(axis,amount):Nil-instance-method","name":"unsafe_skip","doc":"TODO: constrain, figure out what +1 means and if it should depend on step, generally test heavily","summary":"<p><span class=\"flag orange\">TODO</span>  constrain, figure out what +1 means and if it should depend on step, generally test heavily</p>","abstract":false,"args":[{"name":"axis","external_name":"axis","restriction":""},{"name":"amount","external_name":"amount","restriction":""}],"args_string":"(axis, amount) : Nil","args_html":"(axis, amount) : Nil","location":{"filename":"src/iterators/general_coord_iterator.cr","line_number":52,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/general_coord_iterator.cr#L52"},"def":{"name":"unsafe_skip","args":[{"name":"axis","external_name":"axis","restriction":""},{"name":"amount","external_name":"amount","restriction":""}],"return_type":"Nil","visibility":"Public","body":"__temp_45 = axis\n@coord[__temp_45] = @coord[__temp_45] + (amount + 1)\n"}}]},{"html_id":"ph-core/Phase/IdentityTransform","path":"Phase/IdentityTransform.html","kind":"struct","full_name":"Phase::IdentityTransform","name":"IdentityTransform","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},"ancestors":[{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":89,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L89"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"done","summary":"<p>done</p>","instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":94,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L94"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":"coord"}},{"html_id":"compose(t:CoordTransform):CoordTransform-instance-method","name":"compose","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : CoordTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":90,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L90"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"CoordTransform","visibility":"Public","body":"t"}}]},{"html_id":"ph-core/Phase/IndexRegion","path":"Phase/IndexRegion.html","kind":"struct","full_name":"Phase::IndexRegion(T)","name":"IndexRegion","abstract":false,"superclass":{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/index_region.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L6"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"DROP_BY_DEFAULT","name":"DROP_BY_DEFAULT","value":"MultiIndexable::DROP_BY_DEFAULT"}],"included_modules":[{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"class_methods":[{"html_id":"cover(bound_shape:Indexable(T),*,drop:Bool=DROP_BY_DEFAULT,degeneracy:Array(Bool)?=nil)-class-method","name":"cover","doc":"Gets the region including all coordinates in the given bound_shape","summary":"<p>Gets the region including all coordinates in the given bound_shape</p>","abstract":false,"args":[{"name":"bound_shape","external_name":"bound_shape","restriction":"Indexable(T)"},{"name":"","external_name":"","restriction":""},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":"Array(Bool) | ::Nil"}],"args_string":"(bound_shape : Indexable(T), *, drop : Bool = DROP_BY_DEFAULT, degeneracy : Array(Bool)? = nil)","args_html":"(bound_shape : Indexable(T), *, drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>, degeneracy : Array(Bool)? = <span class=\"n\">nil</span>)","location":{"filename":"src/index_region.cr","line_number":108,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L108"},"def":{"name":"cover","args":[{"name":"bound_shape","external_name":"bound_shape","restriction":"Indexable(T)"},{"name":"","external_name":"","restriction":""},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":"Array(Bool) | ::Nil"}],"splat_index":1,"visibility":"Public","body":"first = Array.new(bound_shape.size, T.zero)\nstep = Array.new(bound_shape.size, 1)\nlast = bound_shape.map(&.pred)\nshape = bound_shape.dup\nnew(first, step, last, shape, drop, degeneracy)\n"}}],"constructors":[{"html_id":"new(region:IndexRegion,bound_shape)-class-method","name":"new","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"args_string":"(region : IndexRegion, bound_shape)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, bound_shape)","location":{"filename":"src/index_region.cr","line_number":31,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L31"},"def":{"name":"new","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"visibility":"Public","body":"if region.fits_in?(bound_shape)\n  return region.clone\nend\nraise(IndexError.new(\"Region #{region} does not fit inside #{bound_shape}\"))\n"}},{"html_id":"new(region_literal:Enumerable,bound_shape:Indexable(T),drop:Bool=DROP_BY_DEFAULT):IndexRegion(T)-class-method","name":"new","doc":"Main constructor","summary":"<p>Main constructor</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Enumerable"},{"name":"bound_shape","external_name":"bound_shape","restriction":"Indexable(T)"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region_literal : Enumerable, bound_shape : Indexable(T), drop : Bool = DROP_BY_DEFAULT) : IndexRegion(T)","args_html":"(region_literal : Enumerable, bound_shape : Indexable(T), drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>) : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>(T)","location":{"filename":"src/index_region.cr","line_number":77,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L77"},"def":{"name":"new","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Enumerable"},{"name":"bound_shape","external_name":"bound_shape","restriction":"Indexable(T)"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"return_type":"IndexRegion(T)","visibility":"Public","body":"first = Array.new(bound_shape.size, T.zero)\nstep = Array.new(bound_shape.size, 1)\nlast = Array.new(bound_shape.size, T.zero)\nshape = Array.new(bound_shape.size, T.zero)\ndegeneracy = Array(Bool).new(bound_shape.size, false)\nregion_literal.each_with_index do |range, i|\n  r = RangeSyntax.canonicalize_range(range, bound_shape[i])\n  first[i] = r[:first]\n  step[i] = r[:step]\n  last[i] = r[:last]\n  shape[i] = r[:size]\n  if range.is_a?(Int)\n    degeneracy[i] = drop\n  end\nend\n(region_literal.size...bound_shape.size).each do |axis|\n  last[axis] = bound_shape[axis] - 1\n  shape[axis] = bound_shape[axis]\nend\nnew(first, step, last, shape, drop, degeneracy)\n"}},{"html_id":"new(region_literal:Enumerable,drop:Bool=DROP_BY_DEFAULT)-class-method","name":"new","doc":"creates an indexRegion from positive, bounded literals","summary":"<p>creates an indexRegion from positive, bounded literals</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Enumerable"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region_literal : Enumerable, drop : Bool = DROP_BY_DEFAULT)","args_html":"(region_literal : Enumerable, drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/index_region.cr","line_number":118,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L118"},"def":{"name":"new","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Enumerable"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"visibility":"Public","body":"dims = region_literal.size\nfirst = Array(T).new(dims, T.zero)\nstep = Array(Int32).new(dims, 0)\nlast = Array(T).new(dims, T.zero)\nshape = Array(T).new(dims, T.zero)\ndegeneracy = Array(Bool).new(dims, false)\nregion_literal.each_with_index do |range, i|\n  RangeSyntax.ensure_nonnegative(range)\n  if !(RangeSyntax.bounded?(range))\n    raise(\"Cannot create IndexRegion without an explicit upper bound unless you provide a bounding shape\")\n  end\n  if range.is_a?(Int)\n    degeneracy[i] = true\n  end\n  r = RangeSyntax.infer_range(range, T.zero)\n  first[i] = r[:first]\n  step[i] = r[:step]\n  last[i] = r[:last]\n  shape[i] = r[:size]\nend\nnew(first, step, last, shape, drop, degeneracy)\n"}},{"html_id":"new(region_literal:Enumerable,bound_shape:Indexable?=nil,drop:Bool=DROP_BY_DEFAULT,*,trim_to:Indexable(T))-class-method","name":"new","doc":"doesn't allow negative (relative) indices, and allows you to clip\na region_literal down so it will fit inside of *trim_to*.","summary":"<p>doesn't allow negative (relative) indices, and allows you to clip a region_literal down so it will fit inside of <em>trim_to</em>.</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Enumerable"},{"name":"bound_shape","default_value":"nil","external_name":"bound_shape","restriction":"Indexable | ::Nil"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"},{"name":"","external_name":"","restriction":""},{"name":"trim_to","external_name":"trim_to","restriction":"Indexable(T)"}],"args_string":"(region_literal : Enumerable, bound_shape : Indexable? = nil, drop : Bool = DROP_BY_DEFAULT, *, trim_to : Indexable(T))","args_html":"(region_literal : Enumerable, bound_shape : Indexable? = <span class=\"n\">nil</span>, drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>, *, trim_to : Indexable(T))","location":{"filename":"src/index_region.cr","line_number":40,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L40"},"def":{"name":"new","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Enumerable"},{"name":"bound_shape","default_value":"nil","external_name":"bound_shape","restriction":"Indexable | ::Nil"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"},{"name":"","external_name":"","restriction":""},{"name":"trim_to","external_name":"trim_to","restriction":"Indexable(T)"}],"splat_index":3,"visibility":"Public","body":"first = Array.new(trim_to.size, T.zero)\nstep = Array.new(trim_to.size, 1)\nlast = Array.new(trim_to.size, T.zero)\nshape = Array.new(trim_to.size, T.zero)\ndegeneracy = Array(Bool).new(trim_to.size, false)\nallow_relative = !bound_shape.nil?\nbound_shape || (bound_shape = trim_to)\nregion_literal.each_with_index do |range, i|\n  if allow_relative\n  else\n    RangeSyntax.ensure_nonnegative(range)\n  end\n  r = RangeSyntax.infer_range(range, bound_shape[i])\n  first[i] = r[:first]\n  step[i] = r[:step]\n  last[i] = r[:last]\n  shape[i] = r[:size]\n  if range.is_a?(Int)\n    degeneracy[i] = drop\n  end\nend\n(region_literal.size...bound_shape.size).each do |axis|\n  last[axis] = bound_shape[axis] - 1\n  shape[axis] = bound_shape[axis]\nend\n(new(first, step, last, shape, drop, degeneracy)).trim!(trim_to)\n"}}],"instance_methods":[{"html_id":"==(other:self)-instance-method","name":"==","doc":"Returns true if both the shape and elements of `self` and *other* are equal.\n\n```crystal\nNArray.new([1, 2]) == NArray.new([1, 2]) # => true\nNArray.new([[1], [2]]) == NArray.new([1, 2]) # => false\nNArray.new([8, 2]) == NArray.new([1, 2]) # => false\n```","summary":"<p>Returns true if both the shape and elements of <code>self</code> and <em>other</em> are equal.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self)","args_html":"(other : <span class=\"k\">self</span>)","def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"self"}],"visibility":"Public","body":"if @first == (other.@first)\nelse\n  return false\nend\nif @step == (other.@step)\nelse\n  return false\nend\nif @last == (other.@last)\nelse\n  return false\nend\nif @degeneracy == (other.@degeneracy)\nelse\n  return false\nend\nif @drop == (other.@drop)\nelse\n  return false\nend\ntrue\n"}},{"html_id":"absolute_to_local(coord)-instance-method","name":"absolute_to_local","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord)","args_html":"(coord)","location":{"filename":"src/index_region.cr","line_number":346,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L346"},"def":{"name":"absolute_to_local","args":[{"name":"coord","external_name":"coord","restriction":""}],"visibility":"Public","body":"if !(includes?(coord))\n  raise(IndexError.new(\"Could not convert coordinate: #{coord} does not exist in region #{self}\"))\nend\nabsolute_to_local_unsafe(coord)\n"}},{"html_id":"absolute_to_local_unsafe(coord)-instance-method","name":"absolute_to_local_unsafe","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord)","args_html":"(coord)","location":{"filename":"src/index_region.cr","line_number":353,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L353"},"def":{"name":"absolute_to_local_unsafe","args":[{"name":"coord","external_name":"coord","restriction":""}],"visibility":"Public","body":"local = coord.map_with_index do |ord, i|\n  (ord - (@first.unsafe_fetch(i))) // (@step.unsafe_fetch(i))\nend\nif @drop\n  drop_degenerate(local) do\n    [T.zero]\n  end\nelse\n  local\nend\n"}},{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/index_region.cr","line_number":27,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L27"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}},{"html_id":"degeneracy:Array(Bool)-instance-method","name":"degeneracy","abstract":false,"location":{"filename":"src/index_region.cr","line_number":23,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L23"},"def":{"name":"degeneracy","return_type":"Array(Bool)","visibility":"Public","body":"@degeneracy"}},{"html_id":"degeneracy=(degeneracy:Array(Bool))-instance-method","name":"degeneracy=","abstract":false,"args":[{"name":"degeneracy","external_name":"degeneracy","restriction":"Array(Bool)"}],"args_string":"(degeneracy : Array(Bool))","args_html":"(degeneracy : Array(Bool))","location":{"filename":"src/index_region.cr","line_number":23,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L23"},"def":{"name":"degeneracy=","args":[{"name":"degeneracy","external_name":"degeneracy","restriction":"Array(Bool)"}],"visibility":"Public","body":"@degeneracy = degeneracy"}},{"html_id":"drop:Bool-instance-method","name":"drop","abstract":false,"location":{"filename":"src/index_region.cr","line_number":24,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L24"},"def":{"name":"drop","return_type":"Bool","visibility":"Public","body":"@drop"}},{"html_id":"each:CoordIterator(T)-instance-method","name":"each","doc":"Returns an iterator that will yield each element of `self` in lexicographic (row-major) order.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\niter = narr.each\niter.next # => 1\niter.next # => 2\niter.next # => 3\niter.next # => 4\niter.next # => 5\niter.next # => 6\niter.next # => Iterator::Stop\n```","summary":"<p>Returns an iterator that will yield each element of <code>self</code> in lexicographic (row-major) order.</p>","abstract":false,"location":{"filename":"src/index_region.cr","line_number":365,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L365"},"def":{"name":"each","return_type":"CoordIterator(T)","visibility":"Public","body":"LexIterator.new(self)"}},{"html_id":"fits_in?(bound_shape):Bool-instance-method","name":"fits_in?","abstract":false,"args":[{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"args_string":"(bound_shape) : Bool","args_html":"(bound_shape) : Bool","location":{"filename":"src/index_region.cr","line_number":243,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L243"},"def":{"name":"fits_in?","args":[{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"return_type":"Bool","visibility":"Public","body":"if bound_shape.size != proper_dimensions\n  return false\nend\nbound_shape.map_with_index do |bound, i|\n  if bound <= {@first.unsafe_fetch(i), @last.unsafe_fetch(i)}.max\n    return false\n  end\nend\ntrue\n"}},{"html_id":"hash(hasher)-instance-method","name":"hash","doc":"See `Object#hash(hasher)`","summary":"<p>See <code>Object#hash(hasher)</code></p>","abstract":false,"args":[{"name":"hasher","external_name":"hasher","restriction":""}],"args_string":"(hasher)","args_html":"(hasher)","def":{"name":"hash","args":[{"name":"hasher","external_name":"hasher","restriction":""}],"visibility":"Public","body":"hasher = @first.hash(hasher)\nhasher = @step.hash(hasher)\nhasher = @last.hash(hasher)\nhasher = @degeneracy.hash(hasher)\nhasher = @drop.hash(hasher)\nhasher\n"}},{"html_id":"includes?(coord)-instance-method","name":"includes?","doc":"Returns `true` if the collection contains *obj*, `false` otherwise.\n\n```\n[1, 2, 3].includes?(2) # => true\n[1, 2, 3].includes?(5) # => false\n```","summary":"<p>Returns <code>true</code> if the collection contains <em>obj</em>, <code>false</code> otherwise.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord)","args_html":"(coord)","location":{"filename":"src/index_region.cr","line_number":228,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L228"},"def":{"name":"includes?","args":[{"name":"coord","external_name":"coord","restriction":""}],"visibility":"Public","body":"if coord.size == proper_dimensions\nelse\n  return false\nend\ncoord.each_with_index do |ord, i|\n  if (@step.unsafe_fetch(i)) > 0\n    bounds = (@first.unsafe_fetch(i))..(@last.unsafe_fetch(i))\n  else\n    bounds = (@last.unsafe_fetch(i))..(@first.unsafe_fetch(i))\n  end\n  if bounds.includes?(ord)\n  else\n    return false\n  end\n  if ((ord - (@first.unsafe_fetch(i))) % (@step.unsafe_fetch(i))) == 0\n  else\n    return false\n  end\nend\ntrue\n"}},{"html_id":"local_to_absolute(coord)-instance-method","name":"local_to_absolute","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord)","args_html":"(coord)","location":{"filename":"src/index_region.cr","line_number":324,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L324"},"def":{"name":"local_to_absolute","args":[{"name":"coord","external_name":"coord","restriction":""}],"visibility":"Public","body":"get(coord)"}},{"html_id":"local_to_absolute_unsafe(coord)-instance-method","name":"local_to_absolute_unsafe","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord)","args_html":"(coord)","location":{"filename":"src/index_region.cr","line_number":328,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L328"},"def":{"name":"local_to_absolute_unsafe","args":[{"name":"coord","external_name":"coord","restriction":""}],"visibility":"Public","body":"if @drop\n  local_axis = 0\n  degeneracy.map_with_index do |degenerate, i|\n    if degenerate\n      @first.unsafe_fetch(i)\n    else\n      local_axis = local_axis + 1\n      (@first.unsafe_fetch(i)) + ((coord.unsafe_fetch(local_axis - 1)) * (@step.unsafe_fetch(i)))\n    end\n  end\nelse\n  coord.map_with_index do |ord, i|\n    @first[i] + (ord * @step[i])\n  end\nend"}},{"html_id":"proper_dimensions:Int32-instance-method","name":"proper_dimensions","abstract":false,"location":{"filename":"src/index_region.cr","line_number":194,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L194"},"def":{"name":"proper_dimensions","return_type":"Int32","visibility":"Public","body":"@proper_shape.size"}},{"html_id":"reverse:self-instance-method","name":"reverse","abstract":false,"location":{"filename":"src/index_region.cr","line_number":278,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L278"},"def":{"name":"reverse","return_type":"self","visibility":"Public","body":"clone.reverse!"}},{"html_id":"reverse!:IndexRegion(T)-instance-method","name":"reverse!","abstract":false,"location":{"filename":"src/index_region.cr","line_number":272,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L272"},"def":{"name":"reverse!","return_type":"IndexRegion(T)","visibility":"Public","body":"@first, @last = @last, @first\n@step = @step.map(&.-)\nself\n"}},{"html_id":"shape:Array(T)-instance-method","name":"shape","doc":"============= Methods required by MultiIndexable ===========================","summary":"<p>============= Methods required by MultiIndexable ===========================</p>","abstract":false,"location":{"filename":"src/index_region.cr","line_number":182,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L182"},"def":{"name":"shape","return_type":"Array(T)","visibility":"Public","body":"@reduced_shape.dup"}},{"html_id":"shape_internal(drop=MultiIndexable::DROP_BY_DEFAULT)-instance-method","name":"shape_internal","doc":"By default, this is an alias of `shape` - however, `MultiIndexable` will\nnever mutate it, so it's safe to override this so that it returns a direct\nreference to a shape variable. Doing so will make most operations faster,\nbecause `shape` performs an often useless clone for safety.\n\nYou do not have to override this method, but unless you have a very strange\nuse case, you almost certainly should.","summary":"<p>By default, this is an alias of <code><a href=\"../Phase/IndexRegion.html#shape%3AArray%28T%29-instance-method\">#shape</a></code> - however, <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> will never mutate it, so it's safe to override this so that it returns a direct reference to a shape variable.</p>","abstract":false,"args":[{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":""}],"args_string":"(drop = MultiIndexable::DROP_BY_DEFAULT)","args_html":"(drop = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/index_region.cr","line_number":186,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L186"},"def":{"name":"shape_internal","args":[{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":""}],"visibility":"Public","body":"@reduced_shape"}},{"html_id":"size-instance-method","name":"size","doc":"Returns the total number of elements in this `MultiIndexable`.\nThis quantity is always equal to `shape.product`. However, this method is\nalmost always more performant than computing the product directly.\n\n```crystal\nNArray.new(['a', 'b', 'c']).size # => 3\nNArray.new([[0, 1], [1, 0]]).size # => 4\n```","summary":"<p>Returns the total number of elements in this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"location":{"filename":"src/index_region.cr","line_number":190,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L190"},"def":{"name":"size","visibility":"Public","body":"@reduced_shape.product"}},{"html_id":"to_s(io)-instance-method","name":"to_s","doc":"FIXME: NArrayFormatter depends on buffer indices.","summary":"<p><span class=\"flag yellow\">FIXME</span>  NArrayFormatter depends on buffer indices.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":""}],"args_string":"(io)","args_html":"(io)","location":{"filename":"src/index_region.cr","line_number":312,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L312"},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":""}],"visibility":"Public","body":"io << @degeneracy.map_with_index do |degen, i|\n  if degen\n    @first[i]\n  else\n    if @step[i].abs == 1\n      @first[i]..@last[i]\n    else\n      (@first[i]..@step[i])..@last[i]\n    end\n  end\nend"}},{"html_id":"translate(byoffset:Enumerable):self-instance-method","name":"translate","abstract":false,"args":[{"name":"offset","external_name":"by","restriction":"Enumerable"}],"args_string":"(by offset : Enumerable) : self","args_html":"(by offset : Enumerable) : <span class=\"k\">self</span>","location":{"filename":"src/index_region.cr","line_number":308,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L308"},"def":{"name":"translate","args":[{"name":"offset","external_name":"by","restriction":"Enumerable"}],"return_type":"self","visibility":"Public","body":"self.clone.translate!(offset)"}},{"html_id":"translate!(byoffset:Enumerable):self-instance-method","name":"translate!","abstract":false,"args":[{"name":"offset","external_name":"by","restriction":"Enumerable"}],"args_string":"(by offset : Enumerable) : self","args_html":"(by offset : Enumerable) : <span class=\"k\">self</span>","location":{"filename":"src/index_region.cr","line_number":298,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L298"},"def":{"name":"translate!","args":[{"name":"offset","external_name":"by","restriction":"Enumerable"}],"return_type":"self","visibility":"Public","body":"offset.each_with_index do |amount, axis|\n  if amount < 0 && (@first[axis] < (-amount) || @last[axis] < (-amount))\n    raise(IndexError.new(\"Can't translate to negative indices\"))\n  end\nend\nunsafe_translate!(offset)\n"}},{"html_id":"trim(bound_shape):self-instance-method","name":"trim","abstract":false,"args":[{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"args_string":"(bound_shape) : self","args_html":"(bound_shape) : <span class=\"k\">self</span>","location":{"filename":"src/index_region.cr","line_number":282,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L282"},"def":{"name":"trim","args":[{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"return_type":"self","visibility":"Public","body":"self.clone.trim!(bound_shape)"}},{"html_id":"trim!(bound_shape):self-instance-method","name":"trim!","abstract":false,"args":[{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"args_string":"(bound_shape) : self","args_html":"(bound_shape) : <span class=\"k\">self</span>","location":{"filename":"src/index_region.cr","line_number":254,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L254"},"def":{"name":"trim!","args":[{"name":"bound_shape","external_name":"bound_shape","restriction":""}],"return_type":"self","visibility":"Public","body":"if bound_shape.size != proper_dimensions\n  raise(DimensionError.new(\"invalid error :)\"))\nend\nbound_shape.each_with_index do |container_size, axis|\n  @first[axis], @step[axis], @last[axis], @proper_shape[axis] = IndexRegion.trim_axis(container_size, @first[axis], @step[axis], @last[axis], @proper_shape[axis])\nend\nreduce_shape\nself\n"}},{"html_id":"unsafe_fetch_chunk(region:IndexRegion,drop:Bool):IndexRegion(T)-instance-method","name":"unsafe_fetch_chunk","doc":"composes regions","summary":"<p>composes regions</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"drop","external_name":"drop","restriction":"Bool"}],"args_string":"(region : IndexRegion, drop : Bool) : IndexRegion(T)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, drop : Bool) : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>(T)","location":{"filename":"src/index_region.cr","line_number":199,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L199"},"def":{"name":"unsafe_fetch_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"drop","external_name":"drop","restriction":"Bool"}],"return_type":"IndexRegion(T)","visibility":"Public","body":"if drop\n  @degeneracy.map_with_index do |el, idx|\n    el || region.degeneracy[idx]\n  end\nend\nnew_first = local_to_absolute_unsafe(region.first)\nnew_last = local_to_absolute_unsafe(region.last)\nnew_step = @step.map_with_index do |outer_step, i|\n  outer_step * (region.step.unsafe_fetch(i))\nend\nIndexRegion(T).new(new_first, new_step, new_last, region.shape)\n"}},{"html_id":"unsafe_fetch_element(coord:Coord):Array(T)-instance-method","name":"unsafe_fetch_element","doc":"gets absolute coordinate of a coord in the region's local reference frame","summary":"<p>gets absolute coordinate of a coord in the region's local reference frame</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Coord"}],"args_string":"(coord : Coord) : Array(T)","args_html":"(coord : <a href=\"../Phase/Coord.html\">Coord</a>) : Array(T)","location":{"filename":"src/index_region.cr","line_number":222,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L222"},"def":{"name":"unsafe_fetch_element","args":[{"name":"coord","external_name":"coord","restriction":"Coord"}],"return_type":"Array(T)","visibility":"Public","body":"local_to_absolute_unsafe(coord)"}},{"html_id":"unsafe_translate!(byoffset:Enumerable):self-instance-method","name":"unsafe_translate!","doc":"WARNING: this allows for the creation of IndexRegions with negative ordinates,\nwhich may cause undocumented behaviour elsewhere in the code. The burden\nis on the user to ensure that negative ordinates are not created, or that\nthey are appropriately handled.","summary":"<p><span class=\"flag yellow\">WARNING</span>  this allows for the creation of IndexRegions with negative ordinates, which may cause undocumented behaviour elsewhere in the code.</p>","abstract":false,"args":[{"name":"offset","external_name":"by","restriction":"Enumerable"}],"args_string":"(by offset : Enumerable) : self","args_html":"(by offset : Enumerable) : <span class=\"k\">self</span>","location":{"filename":"src/index_region.cr","line_number":290,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/index_region.cr#L290"},"def":{"name":"unsafe_translate!","args":[{"name":"offset","external_name":"by","restriction":"Enumerable"}],"return_type":"self","visibility":"Public","body":"offset.each_with_index do |amount, axis|\n  __temp_41 = axis\n  @first[__temp_41] = @first[__temp_41] + amount\n  __temp_43 = axis\n  @last[__temp_43] = @last[__temp_43] + amount\nend\nself\n"}}]},{"html_id":"ph-core/Phase/LexIterator","path":"Phase/LexIterator.html","kind":"class","full_name":"Phase::LexIterator(T)","name":"LexIterator","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/lex_iterator.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/lex_iterator.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(region:IndexRegion(T))-class-method","name":"new","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion(T)"}],"args_string":"(region : IndexRegion(T))","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>(T))","location":{"filename":"src/iterators/lex_iterator.cr","line_number":8,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/lex_iterator.cr#L8"},"def":{"name":"new","args":[{"name":"region","external_name":"region","restriction":"IndexRegion(T)"}],"visibility":"Public","body":"_ = LexIterator(T).allocate\n_.initialize(region)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(region_literal)-class-method","name":"new","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":""}],"args_string":"(region_literal)","args_html":"(region_literal)","location":{"filename":"src/iterators/lex_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/lex_iterator.cr#L12"},"def":{"name":"new","args":[{"name":"region_literal","external_name":"region_literal","restriction":""}],"visibility":"Public","body":"_ = LexIterator(T).allocate\n_.initialize(region_literal)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"advance_coord-instance-method","name":"advance_coord","abstract":false,"location":{"filename":"src/iterators/lex_iterator.cr","line_number":19,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/lex_iterator.cr#L19"},"def":{"name":"advance_coord","visibility":"Public","body":"(@coord.size - 1).downto(0) do |i|\n  if (@coord.unsafe_fetch(i)) == (@last.unsafe_fetch(i))\n    @coord[i] = @first.unsafe_fetch(i)\n    if i == 0\n      return stop\n    end\n  else\n    @coord[i] = (@coord.unsafe_fetch(i)) + (@step.unsafe_fetch(i))\n    break\n  end\nend\n@coord\n"}},{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/iterators/lex_iterator.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/lex_iterator.cr#L6"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}}]},{"html_id":"ph-core/Phase/MultiIndexable","path":"Phase/MultiIndexable.html","kind":"module","full_name":"Phase::MultiIndexable(T)","name":"MultiIndexable","abstract":false,"ancestors":[{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"locations":[{"filename":"src/formatter/formatter.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L7"},{"filename":"src/formatter/settings.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L4"},{"filename":"src/multi_indexable.cr","line_number":16,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L16"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"}],"including_types":[{"html_id":"ph-core/Phase/IndexRegion","kind":"struct","full_name":"Phase::IndexRegion(T)","name":"IndexRegion"},{"html_id":"ph-core/Phase/NArray","kind":"class","full_name":"Phase::NArray(T)","name":"NArray"},{"html_id":"ph-core/Phase/ReadonlyView","kind":"class","full_name":"Phase::ReadonlyView(S, R)","name":"ReadonlyView"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"The `MultiIndexable` module provides a unified interface for\nmultidimensional array types, much like how `Indexable` provides a standard\ncorpus of methods for one-dimensional collections.\n\n### How to Implement a `MultiIndexable`\nImplementing `MultiIndexable` will require that you provide a `#shape` and\n`#unsafe_fetch_element` method, however this is the bare minimum. For a\nperformant implementation, you should consider overriding\n`#unsafe_fetch_chunk`, `#fast`, and `#size` in that order of importance\n(and more as you see fit).","summary":"<p>The <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> module provides a unified interface for multidimensional array types, much like how <code>Indexable</code> provides a standard corpus of methods for one-dimensional collections.</p>","class_methods":[{"html_id":"each_with(*args:*U,&)forallU-class-method","name":"each_with","abstract":false,"args":[{"name":"args","external_name":"args","restriction":"*U"}],"args_string":"(*args : *U, &) forall U","args_html":"(*args : <span class=\"o\">*</span><span class=\"t\">U</span>, &) forall U","location":{"filename":"src/multi_indexable.cr","line_number":1055,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1055"},"def":{"name":"each_with","args":[{"name":"args","external_name":"args","restriction":"*U"}],"splat_index":0,"yields":0,"visibility":"Public","body":"{% if true %}\n        {% found_first = false %}\n        {% for i in 0...(U.size) %}\n          {% if U[i] < MultiIndexable %}\n            {% if found_first == false %}\n              {% found_first = true %}\n              first = args[{{ i }}]\n            {% else %}\n              raise ShapeError.new(\"Could not simultaneously map MultiIndexables with shapes #{args[{{ i }}].shape} and #{first.shape}.\") unless args[{{ i }}].shape == first.shape\n            {% end %}\n          {% end %}\n        {% end %}\n        \n        first.each_coord do |coord|\n          yield(\n            {% for i in 0...(U.size) %}\n              {% if U[i] < NArray %} args[{{ i }}].unsafe_fetch_element(coord) {% else %} args[{{ i }}]{% end %},\n            {% end %}\n          )\n        end\n      {% end %}"}}],"instance_methods":[{"html_id":"%(other:MultiIndexable(U))forallU-instance-method","name":"%","doc":"Invokes `#%` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code>#%</code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":946,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L946"},"def":{"name":"%","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '%' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '%' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem % other_elem\nend\n"}},{"html_id":"%(other)-instance-method","name":"%","doc":"Invokes `#%(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code>#%(other)</code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":946,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L946"},"def":{"name":"%","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.%(other))"}},{"html_id":"&(other:MultiIndexable(U))forallU-instance-method","name":"&","doc":"Invokes `#&` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":954,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L954"},"def":{"name":"&","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem & other_elem\nend\n"}},{"html_id":"&(other)-instance-method","name":"&","doc":"Invokes `#&(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":954,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L954"},"def":{"name":"&","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.&(other))"}},{"html_id":"&*(other:MultiIndexable(U))forallU-instance-method","name":"&*","doc":"Invokes `#&*` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&*</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":951,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L951"},"def":{"name":"&*","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&*' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&*' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem &* other_elem\nend\n"}},{"html_id":"&*(other)-instance-method","name":"&*","doc":"Invokes `#&*(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&*(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":951,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L951"},"def":{"name":"&*","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.&*(other))"}},{"html_id":"&**(other:MultiIndexable(U))forallU-instance-method","name":"&**","doc":"Invokes `#&**` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&**</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":952,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L952"},"def":{"name":"&**","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&**' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&**' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem &** other_elem\nend\n"}},{"html_id":"&**(other)-instance-method","name":"&**","doc":"Invokes `#&**(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&**(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":952,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L952"},"def":{"name":"&**","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.&**(other))"}},{"html_id":"&+(other:MultiIndexable(U))forallU-instance-method","name":"&+","doc":"Invokes `#&+` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&+</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":949,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L949"},"def":{"name":"&+","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&+' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&+' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem &+ other_elem\nend\n"}},{"html_id":"&+(other)-instance-method","name":"&+","doc":"Invokes `#&+(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&+(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":949,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L949"},"def":{"name":"&+","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.&+(other))"}},{"html_id":"&-(other:MultiIndexable(U))forallU-instance-method","name":"&-","doc":"Invokes `#&-` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&-</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":950,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L950"},"def":{"name":"&-","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&-' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '&-' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem &- other_elem\nend\n"}},{"html_id":"&-(other)-instance-method","name":"&-","doc":"Invokes `#&-(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%26-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#&-(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":950,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L950"},"def":{"name":"&-","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.&-(other))"}},{"html_id":"*(other:MultiIndexable(U))forallU-instance-method","name":"*","doc":"Invokes `#*` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#*</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":943,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L943"},"def":{"name":"*","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '*' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '*' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem * other_elem\nend\n"}},{"html_id":"*(other)-instance-method","name":"*","doc":"Invokes `#*(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#*(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":943,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L943"},"def":{"name":"*","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.*(other))"}},{"html_id":"**(other:MultiIndexable(U))forallU-instance-method","name":"**","doc":"Invokes `#**` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#**</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":947,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L947"},"def":{"name":"**","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '**' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '**' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem ** other_elem\nend\n"}},{"html_id":"**(other)-instance-method","name":"**","doc":"Invokes `#**(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%2A%2A%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#**(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":947,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L947"},"def":{"name":"**","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.**(other))"}},{"html_id":"+(other:MultiIndexable(U))forallU-instance-method","name":"+","doc":"Invokes `#+` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%2B-instance-method\">#+</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":941,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L941"},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '+' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '+' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem + other_elem\nend\n"}},{"html_id":"+(other)-instance-method","name":"+","doc":"Invokes `#+(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%2B%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#+(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":941,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L941"},"def":{"name":"+","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.+(other))"}},{"html_id":"+-instance-method","name":"+","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":964,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L964"},"def":{"name":"+","visibility":"Public","body":"map(&.+)"}},{"html_id":"-(other:MultiIndexable(U))forallU-instance-method","name":"-","doc":"Invokes `#-` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#--instance-method\">#-</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":942,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L942"},"def":{"name":"-","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '-' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '-' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem - other_elem\nend\n"}},{"html_id":"-(other)-instance-method","name":"-","doc":"Invokes `#-(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#-%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#-(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":942,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L942"},"def":{"name":"-","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.-(other))"}},{"html_id":"--instance-method","name":"-","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":965,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L965"},"def":{"name":"-","visibility":"Public","body":"map(&.-)"}},{"html_id":"/(other:MultiIndexable(U))forallU-instance-method","name":"/","doc":"Invokes `#/` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#/%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#/</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":944,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L944"},"def":{"name":"/","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '/' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '/' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem / other_elem\nend\n"}},{"html_id":"/(other)-instance-method","name":"/","doc":"Invokes `#/(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#/%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#/(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":944,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L944"},"def":{"name":"/","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&./(other))"}},{"html_id":"//(other:MultiIndexable(U))forallU-instance-method","name":"//","doc":"Invokes `#//` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#//%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#//</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":945,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L945"},"def":{"name":"//","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '//' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '//' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem // other_elem\nend\n"}},{"html_id":"//(other)-instance-method","name":"//","doc":"Invokes `#//(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#//%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#//(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":945,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L945"},"def":{"name":"//","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.//(other))"}},{"html_id":"<(other:MultiIndexable(U))forallU-instance-method","name":"<","doc":"Invokes `#<` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":959,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L959"},"def":{"name":"<","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '<' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '<' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem < other_elem\nend\n"}},{"html_id":"<(other)-instance-method","name":"<","doc":"Invokes `#<(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":959,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L959"},"def":{"name":"<","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.<(other))"}},{"html_id":"<=(other:MultiIndexable(U))forallU-instance-method","name":"<=","doc":"Invokes `#<=` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3C%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<=</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":961,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L961"},"def":{"name":"<=","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '<=' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '<=' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem <= other_elem\nend\n"}},{"html_id":"<=(other)-instance-method","name":"<=","doc":"Invokes `#<=(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3C%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<=(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":961,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L961"},"def":{"name":"<=","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.<=(other))"}},{"html_id":"<=>(other:MultiIndexable(U))forallU-instance-method","name":"<=>","doc":"Invokes `#<=>` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3C%3D%3E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<=></a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":962,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L962"},"def":{"name":"<=>","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '<=>' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '<=>' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem <=> other_elem\nend\n"}},{"html_id":"<=>(other)-instance-method","name":"<=>","doc":"Invokes `#<=>(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3C%3D%3E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#<=>(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":962,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L962"},"def":{"name":"<=>","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.<=>(other))"}},{"html_id":"==(other:self):Bool-instance-method","name":"==","doc":"Returns true if both the shape and elements of `self` and *other* are equal.\n\n```crystal\nNArray.new([1, 2]) == NArray.new([1, 2]) # => true\nNArray.new([[1], [2]]) == NArray.new([1, 2]) # => false\nNArray.new([8, 2]) == NArray.new([1, 2]) # => false\n```","summary":"<p>Returns true if both the shape and elements of <code>self</code> and <em>other</em> are equal.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self) : Bool","args_html":"(other : <span class=\"k\">self</span>) : Bool","location":{"filename":"src/multi_indexable.cr","line_number":65,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L65"},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"self"}],"return_type":"Bool","visibility":"Public","body":"equals?(other) do |this_elem, other_elem|\n  this_elem == other_elem\nend"}},{"html_id":"=~(value):MultiIndexable(Bool)-instance-method","name":"=~","doc":"TODO: DISCUSS this syntax as an alternative or supplement to elem_eq","summary":"<p><span class=\"flag orange\">TODO</span>  DISCUSS this syntax as an alternative or supplement to elem_eq</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value) : MultiIndexable(Bool)","args_html":"(value) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(Bool)","location":{"filename":"src/multi_indexable.cr","line_number":897,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L897"},"def":{"name":"=~","args":[{"name":"value","external_name":"value","restriction":""}],"return_type":"MultiIndexable(Bool)","visibility":"Public","body":"map do |elem|\n  elem == value\nend"}},{"html_id":">(other:MultiIndexable(U))forallU-instance-method","name":">","doc":"Invokes `#>` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#></a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":958,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L958"},"def":{"name":">","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '>' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '>' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem > other_elem\nend\n"}},{"html_id":">(other)-instance-method","name":">","doc":"Invokes `#>(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#>(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":958,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L958"},"def":{"name":">","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.>(other))"}},{"html_id":">=(other:MultiIndexable(U))forallU-instance-method","name":">=","doc":"Invokes `#>=` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3E%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#>=</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":960,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L960"},"def":{"name":">=","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '>=' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '>=' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem >= other_elem\nend\n"}},{"html_id":">=(other)-instance-method","name":">=","doc":"Invokes `#>=(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%3E%3D%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#>=(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":960,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L960"},"def":{"name":">=","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.>=(other))"}},{"html_id":"[](region_literal:Indexable,drop:Bool=MultiIndexable::DROP_BY_DEFAULT)-instance-method","name":"[]","doc":"Copies the elements described by *region* into a new `MultiIndexable`.\nIf *region* does not describe a valid region of this `MultiIndexable`,\nthis method will raise either a `DimensionError` (in the case of\nan improper number of dimensions) or a `ShapeError` (in the case where\nthe number of dimensions is correct, but the region is not meaningful\nfor this MultiIndexable's shape.\n\nNote: this method has a tuple accepting overload, as well, which makes\nthe syntax much more intuitive. The following example contains both\nversions, but please note the difference.\n\n```crystal\nnarr = NArray.new([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n\n# Select only the first row:\nnarr[[0], drop: true] # => NArray[1, 2, 3]\n\n# Unless you need to explicitly disable dropping, use the tuple overload:\nnarr[0] # => NArray[1, 2, 3] (drop is true by default)\n\n# Select only the first column:\nnarr[.., 0] # => NArray[1, 2, 3]\n\n# Select only the first column, without dropping dimensions:\n# (in this case, we can't use the tuple accepting overload, hence the extra brackets)\nnarr[[.., 0], drop: false] # => NArray[[1], [2], [3]]\n\n# Equivalently to the above, using anything other than an integer will bypass\n# dropping:\nnarr[.., 0..0] # => NArray[[1], [2], [3]]\n\n# Select only elements from both even-numbered rows and columns:\nnarr[0..2.., 0..2..] # => NArray[[1, 3], [7, 9]]\n\n# This method raises a DimensionError when there is a dimensions mismatch:\nnarr[0, 1, 2, 3] # => DimensionError\n\n# This method raises a ShapeError when there is a shape mismatch:\nnarr[1..100, 2..30] # => ShapeError\n```","summary":"<p>Copies the elements described by <em>region</em> into a new <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region_literal : Indexable, drop : Bool = MultiIndexable::DROP_BY_DEFAULT)","args_html":"(region_literal : Indexable, drop : Bool = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":511,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L511"},"def":{"name":"[]","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"visibility":"Public","body":"get_chunk(region_literal, drop)"}},{"html_id":"[](region:IndexRegion)-instance-method","name":"[]","doc":"`IndexRegion` accepting form of `#[](region_literal : Indexable, drop : Bool)`.\nNote that *region* is what controls the dimension dropping behaviour, here.","summary":"<p><code><a href=\"../Phase/IndexRegion.html\">IndexRegion</a></code> accepting form of <code><a href=\"../Phase/MultiIndexable.html#%5B%5D%28region_literal%3AIndexable%2Cdrop%3ABool%3DMultiIndexable%3A%3ADROP_BY_DEFAULT%29-instance-method\">#[](region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"args_string":"(region : IndexRegion)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>)","location":{"filename":"src/multi_indexable.cr","line_number":517,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L517"},"def":{"name":"[]","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"visibility":"Public","body":"get_chunk(region)"}},{"html_id":"[](*tuple,drop:Bool=MultiIndexable::DROP_BY_DEFAULT)-instance-method","name":"[]","doc":"Tuple-accepting overload of `#[](region_literal : Indexable, drop : Bool)`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#%5B%5D%28region_literal%3AIndexable%2Cdrop%3ABool%3DMultiIndexable%3A%3ADROP_BY_DEFAULT%29-instance-method\">#[](region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(*tuple, drop : Bool = MultiIndexable::DROP_BY_DEFAULT)","args_html":"(*tuple, drop : Bool = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"[]","args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"splat_index":0,"visibility":"Public","body":"self[tuple, drop]"}},{"html_id":"[]?(bool_mask:MultiIndexable(Bool)):MultiIndexable(T?)-instance-method","name":"[]?","doc":"Returns a `MultiIndexable` that draws from `self` where *bool_mask* is true, but contains `nil` where *bool_mask* is false.\nIf *bool_mask* has a different shape than `self`, this method will raise\na `ShapeError`.\n\n\n```crystal\nnarr = NArray[3, 4, 5]\nmask = NArray[false, true, true]\nnarr[mask]? # => NArray[nil, 4, 5]\n\noversized_mask = NArray[false, true, true, false]\nnarr[oversized_mask]? # => ShapeError\n```","summary":"<p>Returns a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> that draws from <code>self</code> where <em>bool_mask</em> is true, but contains <code>nil</code> where <em>bool_mask</em> is false.</p>","abstract":false,"args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"MultiIndexable(Bool)"}],"args_string":"(bool_mask : MultiIndexable(Bool)) : MultiIndexable(T?)","args_html":"(bool_mask : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(Bool)) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T?)","location":{"filename":"src/multi_indexable.cr","line_number":461,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L461"},"def":{"name":"[]?","args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"MultiIndexable(Bool)"}],"return_type":"MultiIndexable(T | ::Nil)","visibility":"Public","body":"if bool_mask.shape != shape_internal\n  raise(ShapeError.new(\"Could not use mask: mask shape #{bool_mask.shape} does not match this MultiIndexable's shape (#{shape_internal}).\"))\nend\nbool_mask.map_with_coord do |bool_val, coord|\n  bool_val ? unsafe_fetch_element(coord) : nil\nend\n"}},{"html_id":"[]?(region:Indexable,drop:Bool=MultiIndexable::DROP_BY_DEFAULT):MultiIndexable(T)?-instance-method","name":"[]?","doc":"Copies the elements in *region* to a new `MultiIndexable` if `#has_region?(region)` is true, and returns `nil` otherwise.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\nnarr[1.., 10..12]? # => nil\nnarr[0.., 1..2]? # => NArray[[2, 3], [5, 6]]\n```","summary":"<p>Copies the elements in <em>region</em> to a new <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> if <code><a href=\"../Phase/MultiIndexable.html#has_region%3F%28region_literal%3AIndexable%29%3ABool-instance-method\">#has_region?(region)</a></code> is true, and returns <code>nil</code> otherwise.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"Indexable"},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region : Indexable, drop : Bool = MultiIndexable::DROP_BY_DEFAULT) : MultiIndexable(T)?","args_html":"(region : Indexable, drop : Bool = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)?","location":{"filename":"src/multi_indexable.cr","line_number":528,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L528"},"def":{"name":"[]?","args":[{"name":"region","external_name":"region","restriction":"Indexable"},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"return_type":"MultiIndexable(T) | ::Nil","visibility":"Public","body":"if has_region?(region)\n  return get_chunk(region, drop)\nend\nnil\n"}},{"html_id":"[]?(region:IndexRegion):MultiIndexable(T)?-instance-method","name":"[]?","doc":"`IndexRegion` accepting overload of `#[]?(region : Indexable, drop : Bool)`.","summary":"<p><code><a href=\"../Phase/IndexRegion.html\">IndexRegion</a></code> accepting overload of <code><a href=\"../Phase/MultiIndexable.html#%5B%5D%3F%28region%3AIndexable%2Cdrop%3ABool%3DMultiIndexable%3A%3ADROP_BY_DEFAULT%29%3AMultiIndexable%28T%29%3F-instance-method\">#[]?(region : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"args_string":"(region : IndexRegion) : MultiIndexable(T)?","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)?","location":{"filename":"src/multi_indexable.cr","line_number":537,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L537"},"def":{"name":"[]?","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"return_type":"MultiIndexable(T) | ::Nil","visibility":"Public","body":"if has_region?(region)\n  return get_chunk(region)\nend\nnil\n"}},{"html_id":"[]?(*tuple,drop:Bool=MultiIndexable::DROP_BY_DEFAULT)-instance-method","name":"[]?","doc":"Tuple-accepting overload of `#[]?(region_literal : Indexable, drop : Bool)`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#%5B%5D%3F%28region%3AIndexable%2Cdrop%3ABool%3DMultiIndexable%3A%3ADROP_BY_DEFAULT%29%3AMultiIndexable%28T%29%3F-instance-method\">#[]?(region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(*tuple, drop : Bool = MultiIndexable::DROP_BY_DEFAULT)","args_html":"(*tuple, drop : Bool = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"[]?","args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"splat_index":0,"visibility":"Public","body":"self[tuple, drop]?"}},{"html_id":"^(other:MultiIndexable(U))forallU-instance-method","name":"^","doc":"Invokes `#^` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%5E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#^</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":956,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L956"},"def":{"name":"^","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '^' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '^' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem ^ other_elem\nend\n"}},{"html_id":"^(other)-instance-method","name":"^","doc":"Invokes `#^(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%5E%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#^(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":956,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L956"},"def":{"name":"^","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.^(other))"}},{"html_id":"apply:ApplyProxy-instance-method","name":"apply","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":1079,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1079"},"def":{"name":"apply","return_type":"ApplyProxy","visibility":"Public","body":"ApplyProxy.of(self)"}},{"html_id":"apply!:InPlaceApplyProxy-instance-method","name":"apply!","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":1083,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1083"},"def":{"name":"apply!","return_type":"InPlaceApplyProxy","visibility":"Public","body":"InPlaceApplyProxy.of(self)"}},{"html_id":"dimensions:Int-instance-method","name":"dimensions","doc":"Returns the number of dimensions that this MultiIndexable is embedded in.\nThis can equally be seen by the number of indices required to uniquely\nspecify a coordinate into this `MultiIndexable`, and is always equal to\n`shape.size`\n\n```crystal\nNArray.new([1, 2]).dimensions # => 1\nNArray.new([[1, 2], [3, 4]]).dimensions # => 2\nNArray.new([[[1]]]).dimensions # => 3\n```","summary":"<p>Returns the number of dimensions that this MultiIndexable is embedded in.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":216,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L216"},"def":{"name":"dimensions","return_type":"Int","visibility":"Public","body":"shape_internal.size"}},{"html_id":"each(iter:CoordIterator(I)):Iterator(T)forallI-instance-method","name":"each","doc":"An overload of `#each` that allows you to provide a coordinate iterator in place of the default lexicographic iterator.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\ncoord_iter = ColexIterator.cover(narr.shape).reverse!\niter = narr.each(coord_iter)\niter.next # => 6\niter.next # => 3\niter.next # => 5\niter.next # => 2\niter.next # => 4\niter.next # => 1\niter.next # => Iterator::Stop\n```","summary":"<p>An overload of <code><a href=\"../Phase/MultiIndexable.html#each%3AIterator%28T%29-instance-method\">#each</a></code> that allows you to provide a coordinate iterator in place of the default lexicographic iterator.</p>","abstract":false,"args":[{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"args_string":"(iter : CoordIterator(I)) : Iterator(T) forall I","args_html":"(iter : <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>(I)) : Iterator(T) forall I","location":{"filename":"src/multi_indexable.cr","line_number":631,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L631"},"def":{"name":"each","args":[{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"return_type":"Iterator(T)","visibility":"Public","body":"ElemIterator.of(self, iter)"}},{"html_id":"each:Iterator(T)-instance-method","name":"each","doc":"Returns an iterator that will yield each element of `self` in lexicographic (row-major) order.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\niter = narr.each\niter.next # => 1\niter.next # => 2\niter.next # => 3\niter.next # => 4\niter.next # => 5\niter.next # => 6\niter.next # => Iterator::Stop\n```","summary":"<p>Returns an iterator that will yield each element of <code>self</code> in lexicographic (row-major) order.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":613,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L613"},"def":{"name":"each","return_type":"Iterator(T)","visibility":"Public","body":"each(each_coord)"}},{"html_id":"each(&):Nil-instance-method","name":"each","doc":"Block accepting form of `#each`.","summary":"<p>Block accepting form of <code><a href=\"../Phase/MultiIndexable.html#each%3AIterator%28T%29-instance-method\">#each</a></code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":779,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L779"},"def":{"name":"each","yields":1,"return_type":"Nil","visibility":"Public","body":"each.each do |arg|\n  yield arg\nend"}},{"html_id":"each_coord:Iterator-instance-method","name":"each_coord","doc":"Returns an iterator that will yield each coordinate of `self` in lexicographic (row-major) order.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\niter = narr.each_coord\niter.next # => [0, 0]\niter.next # => [0, 1]\niter.next # => [0, 2]\niter.next # => [1, 0]\niter.next # => [1, 1]\niter.next # => [1, 2]\niter.next # => Iterator::Stop\n```","summary":"<p>Returns an iterator that will yield each coordinate of <code>self</code> in lexicographic (row-major) order.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":596,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L596"},"def":{"name":"each_coord","return_type":"Iterator","visibility":"Public","body":"LexIterator.cover(shape)"}},{"html_id":"each_coord(&):Nil-instance-method","name":"each_coord","doc":"Block accepting form of `#each_coord`.","summary":"<p>Block accepting form of <code><a href=\"../Phase/MultiIndexable.html#each_coord%3AIterator-instance-method\">#each_coord</a></code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":779,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L779"},"def":{"name":"each_coord","yields":1,"return_type":"Nil","visibility":"Public","body":"each_coord.each do |arg|\n  yield arg\nend"}},{"html_id":"each_slice(axis=0):Iterator-instance-method","name":"each_slice","doc":"Returns an Iterator equivalent to the method `#each_slice(axis, &block)`.","summary":"<p>Returns an Iterator equivalent to the method <code>#each_slice(axis, &block)</code>.</p>","abstract":false,"args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(axis = 0) : Iterator","args_html":"(axis = <span class=\"n\">0</span>) : Iterator","location":{"filename":"src/multi_indexable.cr","line_number":733,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L733"},"def":{"name":"each_slice","args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"return_type":"Iterator","visibility":"Public","body":"chunk_shape = shape\nchunk_shape[axis] = 1\ndegeneracy = Array.new(dimensions, false)\ndegeneracy[axis] = true\nChunkIterator.new(self, chunk_shape, degeneracy: degeneracy)\n"}},{"html_id":"each_slice(axis=0,&)-instance-method","name":"each_slice","doc":"Yields the slices of this `MultiIndexable` along a given *axis* to the provided block.\nThe elements returned in each slice are the ones with a constant index\nalong the specified *axis*.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\n\n#          axis one ->\n#\n# axis      0 1 2\n# zero   0 [1 2 3]\n#  |     1 [4 5 6]\n#  v\n\n# defaults to axis = 0, so the slices will be the rows.\nnarr.each_slice do |slice|\n  # in loop 0, slice will be NArray[1, 2, 3], because those elements have coords [0, ...]\n  # in loop 1, slice will be NArray[4, 5, 6], because those elements have coords [1, ...]\nend\n\n# here we pick axis = 1, so the slices will be the columns.\nnarr.each_slice(axis: 1) do |slice|\n  # in loop 0, slice will be NArray[1, 4], because those elements have coords [..., 0]\n  # in loop 1, slice will be NArray[2, 5], because those elements have coords [..., 1]\n  # in loop 0, slice will be NArray[3, 6], because those elements have coords [..., 2]\nend\n```","summary":"<p>Yields the slices of this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> along a given <em>axis</em> to the provided block.</p>","abstract":false,"args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(axis = 0, &)","args_html":"(axis = <span class=\"n\">0</span>, &)","location":{"filename":"src/multi_indexable.cr","line_number":768,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L768"},"def":{"name":"each_slice","args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"yields":1,"visibility":"Public","body":"(each_slice(axis)).each do |slice|\n  yield slice\nend"}},{"html_id":"each_with(*args,&)-instance-method","name":"each_with","doc":"Iterates over tuples of elements drawn from `self` and *args*, where *args* contains other `MultiIndexable`s you wish to access.\nThis is effectively an n-dimensional analogue of `Enumerable#zip`.\n\n```crystal\nnarr_1 = NArray[[1, 2], [3, 4]]\nnarr_2 = NArray[[:a, :b], [:c, :d]]\n\nnarr_1.each_with(narr_2) { |el_1, el_2| print el_1, el_2 }\nprint \"\\n\"\n# Output: 1a2b3c4d\n\n# When an argument that is not a MultiIndexable is passed,\n# #each_with behaves like Object#tap, passing the value into the block.\nnarr_1.each_with(narr_2, \"some other value I want in the block\") do |*els|\n    puts els \nend\n\n# Output:\n# {1, :a, \"some other value I want in the block\"}\n# {2, :b, \"some other value I want in the block\"}\n# {3, :c, \"some other value I want in the block\"}\n# {4, :d, \"some other value I want in the block\"}\n\nnarr_3 = NArray[[1, 2]] # This has a different shape than narr_1!\nnarr_1.each_with(narr_3) {} # ShapeError\n```","summary":"<p>Iterates over tuples of elements drawn from <code>self</code> and <em>args</em>, where <em>args</em> contains other <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>s you wish to access.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, &)","args_html":"(*args, &)","location":{"filename":"src/multi_indexable.cr","line_number":994,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L994"},"def":{"name":"each_with","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"yields":1,"visibility":"Public","body":"MultiIndexable.each_with(self, *args) do |*elems|\n  yield *elems\nend"}},{"html_id":"each_with_coord(iter:CoordIterator(I)):IteratorforallI-instance-method","name":"each_with_coord","doc":"An overload of `#each_with_coord` that allows you to provide a coordinate iterator in place of the default lexicographic iterator.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\ncoord_iter = ColexIterator.cover(narr.shape).reverse!\niter = narr.each_with_coord(coord_iter)\nputs iter.next # => {6, [1, 2]}\nputs iter.next # => {3, [0, 2]}\nputs iter.next # => {5, [1, 1]}\nputs iter.next # => {2, [0, 1]}\nputs iter.next # => {4, [1, 0]}\nputs iter.next # => {1, [0, 0]}\n```","summary":"<p>An overload of <code><a href=\"../Phase/MultiIndexable.html#each_with_coord%3AIterator-instance-method\">#each_with_coord</a></code> that allows you to provide a coordinate iterator in place of the default lexicographic iterator.</p>","abstract":false,"args":[{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"args_string":"(iter : CoordIterator(I)) : Iterator forall I","args_html":"(iter : <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>(I)) : Iterator forall I","location":{"filename":"src/multi_indexable.cr","line_number":665,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L665"},"def":{"name":"each_with_coord","args":[{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"return_type":"Iterator","visibility":"Public","body":"ElemAndCoordIterator.of(self, iter)"}},{"html_id":"each_with_coord:Iterator-instance-method","name":"each_with_coord","doc":"Returns an iterator that will yield tuples of the elements and coords comprising `self` in lexicographic (row-major) order.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\niter = narr.each_with_coord\niter.next # => {1, [0, 0]}\niter.next # => {2, [0, 1]}\niter.next # => {3, [0, 2]}\niter.next # => {4, [1, 0]}\niter.next # => {5, [1, 1]}\niter.next # => {6, [1, 2]}\niter.next # => Iterator::Stop\n```","summary":"<p>Returns an iterator that will yield tuples of the elements and coords comprising <code>self</code> in lexicographic (row-major) order.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":648,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L648"},"def":{"name":"each_with_coord","return_type":"Iterator","visibility":"Public","body":"each_with_coord(each_coord)"}},{"html_id":"each_with_coord(&):Nil-instance-method","name":"each_with_coord","doc":"Block accepting form of `#each_with_coord`.","summary":"<p>Block accepting form of <code><a href=\"../Phase/MultiIndexable.html#each_with_coord%3AIterator-instance-method\">#each_with_coord</a></code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":779,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L779"},"def":{"name":"each_with_coord","yields":1,"return_type":"Nil","visibility":"Public","body":"each_with_coord.each do |arg|\n  yield arg\nend"}},{"html_id":"empty?:Bool-instance-method","name":"empty?","doc":"Returns `true` if and only if this `MultiIndexable` spans no elements.\n\n```crystal\nNArray.new([1, 2, 3]).empty? # => false\nNArray.new([]).empty? # => true\n```","summary":"<p>Returns <code>true</code> if and only if this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> spans no elements.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":95,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L95"},"def":{"name":"empty?","return_type":"Bool","visibility":"Public","body":"size == 0"}},{"html_id":"ensure_writable-instance-method","name":"ensure_writable","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":1007,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1007"},"def":{"name":"ensure_writable","visibility":"Public","body":"{% if @type < MultiWritable %}{% else %}\n        {% raise(\"ensure_writable failed: #{@type} is not a MultiWritable.\") %}\n      {% end %}"}},{"html_id":"eq(other:MultiIndexable(U)):MultiIndexable(Bool)forallU-instance-method","name":"eq","doc":"TODO: rename to elem_eq\nProduces an NArray(Bool) (by default) describing which elements of self and other are equal.","summary":"<p><span class=\"flag orange\">TODO</span>  rename to elem_eq Produces an NArray(Bool) (by default) describing which elements of self and other are equal.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) : MultiIndexable(Bool) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(Bool) forall U","location":{"filename":"src/multi_indexable.cr","line_number":880,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L880"},"def":{"name":"eq","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"return_type":"MultiIndexable(Bool)","visibility":"Public","body":"if shape_internal != other.shape_internal\n  raise(DimensionError.new(\"Cannot compute the element-wise equality between this MultiIndexable (shape: #{shape_internal}) and the one provided (shape: #{other.shape_internal}).\"))\nend\nmap_with_coord do |elem, coord|\n  elem == (other.unsafe_fetch_element(coord))\nend\n"}},{"html_id":"eq(value):MultiIndexable(Bool)-instance-method","name":"eq","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""}],"args_string":"(value) : MultiIndexable(Bool)","args_html":"(value) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(Bool)","location":{"filename":"src/multi_indexable.cr","line_number":890,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L890"},"def":{"name":"eq","args":[{"name":"value","external_name":"value","restriction":""}],"return_type":"MultiIndexable(Bool)","visibility":"Public","body":"map do |elem|\n  elem == value\nend"}},{"html_id":"equals?(other:MultiIndexable,&):Bool-instance-method","name":"equals?","doc":"Returns true if the block returns true for each pair of elements (that share a coordinate) from `self` and `other`.\n\n```crystal\nnarr_1 = NArray[[1, 2], [3, 4]]\nnarr_2 = NArray[[2, 3], [4, 5]]\n\nnarr_1.equals?(narr_1.clone) { |a, b| a == b } # => true\nnarr_1.equals?(narr_2) { |a, b| a == b } # => false\n\n# The block doesn't neccessarily have to involve equality,\n# just any pairwise comparison you want to evaluate globally.\nnarr_1.equals?(narr_2) { |a, b| a < b } # => true\n```","summary":"<p>Returns true if the block returns true for each pair of elements (that share a coordinate) from <code>self</code> and <code>other</code>.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable"}],"args_string":"(other : MultiIndexable, &) : Bool","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>, &) : Bool","location":{"filename":"src/multi_indexable.cr","line_number":852,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L852"},"def":{"name":"equals?","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable"}],"yields":2,"return_type":"Bool","visibility":"Public","body":"if shape_internal != other.shape_internal\n  return false\nend\neach_with_coord do |elem, coord|\n  if yield(elem, other.unsafe_fetch_element(coord))\n  else\n    return false\n  end\nend\ntrue\n"}},{"html_id":"fast:Iterator(T)-instance-method","name":"fast","doc":"Returns an Iterator over the elements in this `MultiIndexable` that will iterate in the fastest order possible.\nFor most implementations, it is very likely that `#each` will be just as fast.\nHowever, certain implementations of `MultiIndexable` may have substantial\nperformance differences. As a rule of thumb, this method is only worth using\nif the `MultiIndexable` you call it on explicitly mentions that you should.\n\n```crystal\nNArray[1, 2, 3].fast.each do |el|\n  # ...\nend\n```","summary":"<p>Returns an Iterator over the elements in this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> that will iterate in the fastest order possible.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":728,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L728"},"def":{"name":"fast","return_type":"Iterator(T)","visibility":"Public","body":"ElemIterator.of(self)"}},{"html_id":"fast(&):Nil-instance-method","name":"fast","doc":"Block accepting form of `#fast`.","summary":"<p>Block accepting form of <code><a href=\"../Phase/MultiIndexable.html#fast%3AIterator%28T%29-instance-method\">#fast</a></code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":779,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L779"},"def":{"name":"fast","yields":1,"return_type":"Nil","visibility":"Public","body":"fast.each do |arg|\n  yield arg\nend"}},{"html_id":"first:T-instance-method","name":"first","doc":"Returns the element at the zero coordinate (position `0` along every axis).\nFor example:\n\n```crystal\n# create the following matrix:\n# [5 2]\n# [8 3]\nnarr = NArray.new([[5, 2], [8, 3]])\n\n# extract the top-left element (coordinate [0, 0])\nnarr.first # => 5\n```","summary":"<p>Returns the element at the zero coordinate (position <code>0</code> along every axis).</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":163,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L163"},"def":{"name":"first","return_type":"T","visibility":"Public","body":"if size == 0\n  raise(IndexError.new(\"{{@type}} has zero elements (shape: #{shape_internal}).\"))\nend\nget_element(Array.new(shape_internal.size, 0))\n"}},{"html_id":"get(coord:Indexable):T-instance-method","name":"get","doc":"Shorthand for `#get_element`.\n:ditto:","summary":"<p>Shorthand for <code><a href=\"../Phase/MultiIndexable.html#get_element%28coord%3AIndexable%29%3AT-instance-method\">#get_element</a></code>.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Indexable"}],"args_string":"(coord : Indexable) : T","args_html":"(coord : Indexable) : T","location":{"filename":"src/multi_indexable.cr","line_number":561,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L561"},"def":{"name":"get","args":[{"name":"coord","external_name":"coord","restriction":"Indexable"}],"return_type":"T","visibility":"Public","body":"get_element(coord)"}},{"html_id":"get(*tuple)-instance-method","name":"get","doc":"Tuple-accepting overload of `#get`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#get%28coord%3AIndexable%29%3AT-instance-method\">#get</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""}],"args_string":"(*tuple)","args_html":"(*tuple)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"get","args":[{"name":"tuple","external_name":"tuple","restriction":""}],"splat_index":0,"visibility":"Public","body":"self.get(tuple)"}},{"html_id":"get_available(region_literal:Indexable,drop:Bool=DROP_BY_DEFAULT)-instance-method","name":"get_available","doc":"Returns a `MultiIndexable` containing elements whose coordinates belong both to `shape` and *region_literal*.\nThis method is very similar to `get_chunk(region_literal : Indexable, drop : Bool)`,\nexcept that it trims the *region_literal* down to a valid size automatically.\n\n```crystal\nnarr = NArray.new([[1, 2, 3], [4, 5, 6]])\n\nnarr.get_chunk(1..5, 1) # => ShapeError (this chunk is not contained in a 2x3 MultiIndexable\nnarr.get_available(1..5, 1) # => NArray[5]\n```","summary":"<p>Returns a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> containing elements whose coordinates belong both to <code><a href=\"../Phase/MultiIndexable.html#shape%3AArray-instance-method\">#shape</a></code> and <em>region_literal</em>.</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region_literal : Indexable, drop : Bool = DROP_BY_DEFAULT)","args_html":"(region_literal : Indexable, drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":377,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L377"},"def":{"name":"get_available","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"visibility":"Public","body":"unsafe_fetch_chunk(IndexRegion.new(region_literal, shape_internal, drop, trim_to: shape_internal))"}},{"html_id":"get_available(region:IndexRegion,drop:Bool=DROP_BY_DEFAULT)-instance-method","name":"get_available","doc":"`IndexRegion` accepting overload of `get_available(region : Indexable, drop : Bool)`","summary":"<p><code><a href=\"../Phase/IndexRegion.html\">IndexRegion</a></code> accepting overload of <code><a href=\"../Phase/MultiIndexable.html#get_available%28region_literal%3AIndexable%2Cdrop%3ABool%3DDROP_BY_DEFAULT%29-instance-method\">#get_available(region : Indexable, drop : Bool)</a></code></p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region : IndexRegion, drop : Bool = DROP_BY_DEFAULT)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":363,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L363"},"def":{"name":"get_available","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"visibility":"Public","body":"unsafe_fetch_chunk(region.trim!(shape_internal))"}},{"html_id":"get_available(*tuple,drop:Bool=MultiIndexable::DROP_BY_DEFAULT)-instance-method","name":"get_available","doc":"Tuple-accepting overload of `#get_available(region_literal : Indexable, drop : Bool)`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#get_available%28region_literal%3AIndexable%2Cdrop%3ABool%3DDROP_BY_DEFAULT%29-instance-method\">#get_available(region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(*tuple, drop : Bool = MultiIndexable::DROP_BY_DEFAULT)","args_html":"(*tuple, drop : Bool = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"get_available","args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"splat_index":0,"visibility":"Public","body":"self.get_available(tuple, drop)"}},{"html_id":"get_chunk(coord:Indexable,region_shape:Indexable(I))forallI-instance-method","name":"get_chunk","doc":"Extracts a chunk given a shape (*region_shape*) and the *coord* in that region with the smallest value in each axis.\n\n```crystal\nnarr = NArray.new([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\n\nnarr.get_chunk([1, 1], [2, 2]) # => NArray[[5, 6], [8, 9]]\nnarr.get_chunk([1, 0], [1, 3]) # => NArray[[4, 5, 6]]\nnarr.get_chunk([1, 0], [10, 10]) # => ShapeError\nnarr.get_chunk([0], [1]) # => DimensionError\n```","summary":"<p>Extracts a chunk given a shape (<em>region_shape</em>) and the <em>coord</em> in that region with the smallest value in each axis.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Indexable"},{"name":"region_shape","external_name":"region_shape","restriction":"Indexable(I)"}],"args_string":"(coord : Indexable, region_shape : Indexable(I)) forall I","args_html":"(coord : Indexable, region_shape : Indexable(I)) forall I","location":{"filename":"src/multi_indexable.cr","line_number":335,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L335"},"def":{"name":"get_chunk","args":[{"name":"coord","external_name":"coord","restriction":"Indexable"},{"name":"region_shape","external_name":"region_shape","restriction":"Indexable(I)"}],"visibility":"Public","body":"if coord.size != region_shape.size\n  raise(DimensionError.new(\"'coord' (#{coord}) and 'region_shape' #{region_shape} had a different number of dimensions. Note that you must fully specify your coordinate and region shape for this overload of get_chunk.\"))\nend\nif coord.size != dimensions\n  raise(DimensionError.new(\"'coord' (#{coord}) had a different number of dimensions than this MultiIndexable (must have #{dimensions}, but has #{coord.size}).\"))\nend\ncoord.each_with_index do |c, idx|\n  r = region_shape.unsafe_fetch(idx)\n  if c.negative?\n    raise(ArgumentError.new(\"'coord' #{coord} was negative on axis #{idx}, but must be strictly nonnegative.\"))\n  end\n  if r.negative?\n    raise(ArgumentError.new(\"'region_shape' #{region_shape} was negative on axis #{idx}, but must be strictly nonnegative.\"))\n  end\n  if (c + r) > (shape_internal.unsafe_fetch(idx))\n    raise(ShapeError.new(\"The region defined by shape #{region_shape} and lowermost coordinate #{coord} is not contained within this MultiIndexable on axis #{idx} (this MultiIndexable has #{shape_internal[idx]} elements on axis #{idx}).\"))\n  end\nend\nget_chunk((IndexRegion(I).cover(region_shape)).translate!(coord))\n"}},{"html_id":"get_chunk(region_literal:Indexable,drop:Bool=DROP_BY_DEFAULT)-instance-method","name":"get_chunk","doc":"A more verbose overload of `#[](region_literal : Indexable, drop : Bool)`.\nThis is just syntactic sugar, and can be more readable in certain\napplications.","summary":"<p>A more verbose overload of <code><a href=\"../Phase/MultiIndexable.html#%5B%5D%28region_literal%3AIndexable%2Cdrop%3ABool%3DMultiIndexable%3A%3ADROP_BY_DEFAULT%29-instance-method\">#[](region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(region_literal : Indexable, drop : Bool = DROP_BY_DEFAULT)","args_html":"(region_literal : Indexable, drop : Bool = <span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":321,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L321"},"def":{"name":"get_chunk","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"drop","default_value":"DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"visibility":"Public","body":"unsafe_fetch_chunk(IndexRegion.new(region_literal, shape_internal, drop))"}},{"html_id":"get_chunk(region:IndexRegion):MultiIndexable(T)-instance-method","name":"get_chunk","doc":"`IndexRegion` accepting form of `#get_chunk(region_literal : Indexable, drop : Bool)`.\nNote that *region* is what controls the dimension dropping behaviour, here.","summary":"<p><code><a href=\"../Phase/IndexRegion.html\">IndexRegion</a></code> accepting form of <code><a href=\"../Phase/MultiIndexable.html#get_chunk%28coord%3AIndexable%2Cregion_shape%3AIndexable%28I%29%29forallI-instance-method\">#get_chunk(region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"args_string":"(region : IndexRegion) : MultiIndexable(T)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)","location":{"filename":"src/multi_indexable.cr","line_number":305,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L305"},"def":{"name":"get_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"return_type":"MultiIndexable(T)","visibility":"Public","body":"if region.proper_dimensions != dimensions\n  raise(DimensionError.new(\"'region' was #{region.proper_dimensions}-dimensional, but this MultiIndexable is #{dimensions}-dimensional.\"))\nend\nif region.fits_in?(shape_internal)\nelse\n  raise(ShapeError.new(\"'region' (#{region}) cannot fit into a MultiIndexable with shape #{shape}.\"))\nend\nunsafe_fetch_chunk(region)\n"}},{"html_id":"get_chunk(*tuple,drop:Bool=MultiIndexable::DROP_BY_DEFAULT)-instance-method","name":"get_chunk","doc":"Tuple-accepting overload of `#get_chunk(region_literal : Indexable, drop : Bool)`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#get_chunk%28coord%3AIndexable%2Cregion_shape%3AIndexable%28I%29%29forallI-instance-method\">#get_chunk(region_literal : Indexable, drop : Bool)</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"args_string":"(*tuple, drop : Bool = MultiIndexable::DROP_BY_DEFAULT)","args_html":"(*tuple, drop : Bool = <span class=\"t\">MultiIndexable</span><span class=\"t\">::</span><span class=\"t\">DROP_BY_DEFAULT</span>)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"get_chunk","args":[{"name":"tuple","external_name":"tuple","restriction":""},{"name":"drop","default_value":"MultiIndexable::DROP_BY_DEFAULT","external_name":"drop","restriction":"Bool"}],"splat_index":0,"visibility":"Public","body":"self.get_chunk(tuple, drop)"}},{"html_id":"get_element(coord:Indexable):T-instance-method","name":"get_element","doc":"Retrieves the element specified by *coord*, throwing an error if *coord* is out-of-bounds for `self`.\n\n\n```crystal\nnarr = NArray[['a', 'b'], ['c', 'd']]\nnarr.get_element([0, 1]) # => 'b'\nnarr.get_element([1, 0]) # => 'c'\nnarr.get_element([0]) # => DimensionError\nnarr.get_element([0, 10]) # => IndexError\n```","summary":"<p>Retrieves the element specified by <em>coord</em>, throwing an error if <em>coord</em> is out-of-bounds for <code>self</code>.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Indexable"}],"args_string":"(coord : Indexable) : T","args_html":"(coord : Indexable) : T","location":{"filename":"src/multi_indexable.cr","line_number":555,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L555"},"def":{"name":"get_element","args":[{"name":"coord","external_name":"coord","restriction":"Indexable"}],"return_type":"T","visibility":"Public","body":"unsafe_fetch_element(CoordUtil.canonicalize_coord(coord, shape_internal))"}},{"html_id":"get_element(*tuple)-instance-method","name":"get_element","doc":"Tuple-accepting overload of `#get_element`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#get_element%28coord%3AIndexable%29%3AT-instance-method\">#get_element</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""}],"args_string":"(*tuple)","args_html":"(*tuple)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"get_element","args":[{"name":"tuple","external_name":"tuple","restriction":""}],"splat_index":0,"visibility":"Public","body":"self.get_element(tuple)"}},{"html_id":"has_coord?(coord:Indexable):Bool-instance-method","name":"has_coord?","doc":"Returns true if *coord* is a valid coordinate in this `MultiIndexable`.\nAny coordinate for which `#has_coord?` returns `true` can be used in\n`#get`. A coordinate for which `#has_coord?` returns `false` is out of\nbounds.\n\n```crystal\n# creates the following matrix:\n# [1 2 3]\n# [4 5 6]\nnarr = NArray.build([2, 3]) { |_, idx| idx + 1 }\n\nnarr.has_coord?([0, 0]) # => true\nnarr.get([0, 0]) # => 1\n\nnarr.has_coord?([-2, 1]) # => true\nnarr.get(-2, 1) # => 2\n\nnarr.has_coord?([-2]) # => true\nnarr.get(-2) # => DimensionError\n```","summary":"<p>Returns true if <em>coord</em> is a valid coordinate in this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Indexable"}],"args_string":"(coord : Indexable) : Bool","args_html":"(coord : Indexable) : Bool","location":{"filename":"src/multi_indexable.cr","line_number":240,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L240"},"def":{"name":"has_coord?","args":[{"name":"coord","external_name":"coord","restriction":"Indexable"}],"return_type":"Bool","visibility":"Public","body":"CoordUtil.has_coord?(coord, shape_internal)"}},{"html_id":"has_coord?(*tuple)-instance-method","name":"has_coord?","doc":"Tuple-accepting overload of `#has_coord?`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#has_coord%3F%28coord%3AIndexable%29%3ABool-instance-method\">#has_coord?</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""}],"args_string":"(*tuple)","args_html":"(*tuple)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"has_coord?","args":[{"name":"tuple","external_name":"tuple","restriction":""}],"splat_index":0,"visibility":"Public","body":"self.has_coord?(tuple)"}},{"html_id":"has_region?(region_literal:Indexable):Bool-instance-method","name":"has_region?","doc":"Returns true if all the coordinates spanned by *region_literal* are valid coordiantes in this `MultiIndexable`.\nIn a more geometric sense, an `IndexRegion` can be considered as a lattice\nof points (coordinates), and `#shape` can be considered as a bounding box\nfor those coordinates. If every coordinate within *region* (each point\non that lattice) is inside of the bounding box, then `#has_region` will\nreturn true.\n\n```crystal\nnarr = NArray.build([10, 3]) { |_, idx| idx }\n\n# First, we'll make an IndexRegion that fits in the above. This IndexRegion\n# contains all coordinates with a row equal to 2, 3, or 4, and a column\n# equal to 0, 1, or 2.\nvalid = [2..4, 0...3]\n\n# narr has 10 rows and 3 columns, so that region is definitely\n# contained in it.\nnarr.has_region?(valid) # => true\n\n# now, we can use that IndexRegion safely.\nLexIterator(Int32).new(valid).each do |coord|\n  narr.unsafe_fetch_element(coord) # this is definitely defined!\nend\n\n# Now we'll create an IndexRegion that's way too big for narr:\ninvalid = [100, 2..8]\nnarr.has_region?(invalid) # => false\n\n# The region doesn't fit - so:\nnarr.get_chunk(invalid) # => raises an IndexError\n```","summary":"<p>Returns true if all the coordinates spanned by <em>region_literal</em> are valid coordiantes in this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"}],"args_string":"(region_literal : Indexable) : Bool","args_html":"(region_literal : Indexable) : Bool","location":{"filename":"src/multi_indexable.cr","line_number":280,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L280"},"def":{"name":"has_region?","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"}],"return_type":"Bool","visibility":"Public","body":"begin\n  IndexRegion.new(region_literal, shape_internal)\n  true\nrescue ex : IndexError\n  false\nend"}},{"html_id":"has_region?(region:IndexRegion):Bool-instance-method","name":"has_region?","doc":"IndexRegion accepting form of `#has_region?(region_literal)`","summary":"<p>IndexRegion accepting form of <code><a href=\"../Phase/MultiIndexable.html#has_region%3F%28region_literal%3AIndexable%29%3ABool-instance-method\">#has_region?(region_literal)</a></code></p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"args_string":"(region : IndexRegion) : Bool","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>) : Bool","location":{"filename":"src/multi_indexable.cr","line_number":245,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L245"},"def":{"name":"has_region?","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"return_type":"Bool","visibility":"Public","body":"region.fits_in?(shape_internal)"}},{"html_id":"has_region?(*tuple)-instance-method","name":"has_region?","doc":"Tuple-accepting overload of `#has_region?`.","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#has_region%3F%28region_literal%3AIndexable%29%3ABool-instance-method\">#has_region?</a></code>.</p>","abstract":false,"args":[{"name":"tuple","external_name":"tuple","restriction":""}],"args_string":"(*tuple)","args_html":"(*tuple)","location":{"filename":"src/multi_indexable.cr","line_number":565,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L565"},"def":{"name":"has_region?","args":[{"name":"tuple","external_name":"tuple","restriction":""}],"splat_index":0,"visibility":"Public","body":"self.has_region?(tuple)"}},{"html_id":"hash(hasher)-instance-method","name":"hash","abstract":false,"args":[{"name":"hasher","external_name":"hasher","restriction":""}],"args_string":"(hasher)","args_html":"(hasher)","location":{"filename":"src/multi_indexable.cr","line_number":904,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L904"},"def":{"name":"hash","args":[{"name":"hasher","external_name":"hasher","restriction":""}],"visibility":"Public","body":"hasher = shape_internal.hash(hasher)\neach do |el|\n  hasher = el.hash(hasher)\nend\nhasher\n"}},{"html_id":"map(&block:T->R):MultiIndexable(R)forallR-instance-method","name":"map","doc":"Returns a `MultiIndexable` with the results of running the block against each element of `self`.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\nres = narr.map { |el| el.to_s } # => NArray[[\"1\", \"2\", \"3\"], [\"4\", \"5\", \"6\"]]\n```","summary":"<p>Returns a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> with the results of running the block against each element of <code>self</code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":689,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L689"},"def":{"name":"map","yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> R)"},"return_type":"MultiIndexable(R)","visibility":"Public","body":"map_with_coord do |el, coord|\n  yield el\nend"}},{"html_id":"map!(&block:T->T|MultiIndexable(T)):MultiIndexable(T)-instance-method","name":"map!","doc":"TODO docs, test","summary":"<p><span class=\"flag orange\">TODO</span>  docs, test</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":711,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L711"},"def":{"name":"map!","yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> T | MultiIndexable(T))"},"return_type":"MultiIndexable(T)","visibility":"Public","body":"map_with_coord! do |el, coord|\n  yield el\nend"}},{"html_id":"map_with(*args:*U,&)forallU-instance-method","name":"map_with","abstract":false,"args":[{"name":"args","external_name":"args","restriction":"*U"}],"args_string":"(*args : *U, &) forall U","args_html":"(*args : <span class=\"o\">*</span><span class=\"t\">U</span>, &) forall U","location":{"filename":"src/multi_indexable.cr","line_number":1013,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1013"},"def":{"name":"map_with","args":[{"name":"args","external_name":"args","restriction":"*U"}],"splat_index":0,"yields":0,"visibility":"Public","body":"{% if true %}\n\n      # NOTE: To determine the return type \n      {% for i in 0...(U.size) %}\n        {% if U[i] < MultiIndexable %}\n          dummy{{ i }} = uninitialized typeof(args[{{ i }}].first)\n        {% else %}\n          dummy{{ i }} = uninitialized typeof(args[{{ i }}])\n        {% end %}\n      {% end %}\n\n      buffer = Pointer(typeof(yield(self.first, {% for i in 0...(U.size) %}dummy{{ i }},{% end %}))).malloc(size)\n      idx = 0\n\n      MultiIndexable.each_with(self, *args) do |*elems|\n        buffer[idx] = yield *elems\n        idx += 1\n      end\n\n      slice = Slice.new(buffer, size)\n      NArray.of_buffer(shape, slice)\n      {% end %}"}},{"html_id":"map_with(*args,&)-instance-method","name":"map_with","doc":"Iterates over tuples of elements from `self` and *args*, and creating a `MultiIndexable` containing the output of the block to which those tuples are provided.","summary":"<p>Iterates over tuples of elements from <code>self</code> and <em>args</em>, and creating a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> containing the output of the block to which those tuples are provided.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, &)","args_html":"(*args, &)","location":{"filename":"src/multi_indexable.cr","line_number":1001,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1001"},"def":{"name":"map_with","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"yields":1,"visibility":"Public","body":"MultiIndexable.map_with(self, *args) do |*elems|\n  yield *elems\nend"}},{"html_id":"map_with!(*args:*U,&)forallU-instance-method","name":"map_with!","abstract":false,"args":[{"name":"args","external_name":"args","restriction":"*U"}],"args_string":"(*args : *U, &) forall U","args_html":"(*args : <span class=\"o\">*</span><span class=\"t\">U</span>, &) forall U","location":{"filename":"src/multi_indexable.cr","line_number":1039,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L1039"},"def":{"name":"map_with!","args":[{"name":"args","external_name":"args","restriction":"*U"}],"splat_index":0,"yields":0,"visibility":"Public","body":"{% if true %}\n      ensure_writable\n      each_coord do |coord|\n        unsafe_set_element(coord, \n          yield(\n            unsafe_fetch_element(coord),\n            {% for i in 0...(U.size) %}\n              {% if U[i] < NArray %} args[{{ i }}].unsafe_fetch_element(coord) {% else %} args[{{ i }}]{% end %},\n            {% end %}\n          ))\n      end\n      {% end %}"}},{"html_id":"map_with_coord(&)-instance-method","name":"map_with_coord","doc":"Returns a `MultiIndexable` with the results of running the block against each element and coordinate comprising `self`.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\nnarr.map_with_coord do |el, coord|\n  el + coord.sum\nend # => NArray[[1, 3, 5], [5, 7, 9]]\n```","summary":"<p>Returns a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> with the results of running the block against each element and coordinate comprising <code>self</code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":677,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L677"},"def":{"name":"map_with_coord","yields":2,"visibility":"Public","body":"NArray.build(shape_internal) do |coord, i|\n  yield unsafe_fetch_element(coord), coord\nend"}},{"html_id":"map_with_coord!(&block:T->MultiIndexable(T))-instance-method","name":"map_with_coord!","doc":"TODO docs\nDISCUSS is this good behaviour?","summary":"<p><span class=\"flag orange\">TODO</span>  docs DISCUSS is this good behaviour?</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":703,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L703"},"def":{"name":"map_with_coord!","yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> MultiIndexable(T))"},"visibility":"Public","body":"each_coord do |coord|\n  val = yield unsafe_fetch_element(coord), coord\n  unsafe_set_element(coord, val.to_scalar)\nend"}},{"html_id":"permute(*args):MultiIndexable(T)-instance-method","name":"permute","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args) : MultiIndexable(T)","args_html":"(*args) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)","location":{"filename":"src/multi_indexable.cr","line_number":786,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L786"},"def":{"name":"permute","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"return_type":"MultiIndexable(T)","visibility":"Public","body":"(view.permute(*args)).to_narr"}},{"html_id":"process(&block:T->R):ProcView(self,T,R)forallR-instance-method","name":"process","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":870,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L870"},"def":{"name":"process","yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> R)"},"return_type":"ProcView(self, T, R)","visibility":"Public","body":"process(block)"}},{"html_id":"process(proc:Proc(T,R)):ProcView(self,T,R)forallR-instance-method","name":"process","abstract":false,"args":[{"name":"proc","external_name":"proc","restriction":"Proc(T, R)"}],"args_string":"(proc : Proc(T, R)) : ProcView(self, T, R) forall R","args_html":"(proc : Proc(T, R)) : <a href=\"../Phase/ProcView.html\">ProcView</a>(<span class=\"k\">self</span>, T, R) forall R","location":{"filename":"src/multi_indexable.cr","line_number":874,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L874"},"def":{"name":"process","args":[{"name":"proc","external_name":"proc","restriction":"Proc(T, R)"}],"return_type":"ProcView(self, T, R)","visibility":"Public","body":"ProcView.of(self, proc)"}},{"html_id":"reshape(*args):MultiIndexable(T)-instance-method","name":"reshape","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args) : MultiIndexable(T)","args_html":"(*args) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)","location":{"filename":"src/multi_indexable.cr","line_number":786,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L786"},"def":{"name":"reshape","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"return_type":"MultiIndexable(T)","visibility":"Public","body":"(view.reshape(*args)).to_narr"}},{"html_id":"reverse(*args):MultiIndexable(T)-instance-method","name":"reverse","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args) : MultiIndexable(T)","args_html":"(*args) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)","location":{"filename":"src/multi_indexable.cr","line_number":786,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L786"},"def":{"name":"reverse","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"return_type":"MultiIndexable(T)","visibility":"Public","body":"(view.reverse(*args)).to_narr"}},{"html_id":"sample(n:Int,random=Random::DEFAULT):Enumerable(T)-instance-method","name":"sample","doc":"Returns a collection of *n* elements picked at random from this\nMultiIndexable.  This method works by randomly generating coordinates and\nreturning the elements at those coordinates. There is no guarantee that\nthe coordinates generated will be distinct from one another.\n\n```crystal\nNArray.new([[1, 2], [3, 4]]).sample(5) # => Enumerable(Int32)\nNArray.new([[1, 2], [3, 4]]).sample(5).to_a # => [4, 2, 4, 3, 2]\nNArray.new([[1, 2], [3, 4]]).sample(5).to_a # => [1, 3, 2, 4, 1]\nNArray.new([[1, 2], [3, 4]]).sample(5).to_a # => [2, 3, 1, 1, 3]\n```","summary":"<p>Returns a collection of <em>n</em> elements picked at random from this MultiIndexable.</p>","abstract":false,"args":[{"name":"n","external_name":"n","restriction":"Int"},{"name":"random","default_value":"Random::DEFAULT","external_name":"random","restriction":""}],"args_string":"(n : Int, random = Random::DEFAULT) : Enumerable(T)","args_html":"(n : Int, random = <span class=\"t\">Random</span><span class=\"t\">::</span><span class=\"t\">DEFAULT</span>) : Enumerable(T)","location":{"filename":"src/multi_indexable.cr","line_number":186,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L186"},"def":{"name":"sample","args":[{"name":"n","external_name":"n","restriction":"Int"},{"name":"random","default_value":"Random::DEFAULT","external_name":"random","restriction":""}],"return_type":"Enumerable(T)","visibility":"Public","body":"if n < 0\n  raise(ArgumentError.new(\"Can't sample a negative number of elements. (n = #{n}, which is negative)\"))\nend\nArray(T).new(n) do\n  sample(random)\nend\n"}},{"html_id":"sample(random=Random::DEFAULT):T-instance-method","name":"sample","doc":"Returns an element picked at random from this `MultiIndexable`.\n\n```crystal\nNArray.new([[1, 2], [3, 4]]).sample # => 3\nNArray.new([[1, 2], [3, 4]]).sample # => 1\nNArray.new([[1, 2], [3, 4]]).sample # => 2\n```","summary":"<p>Returns an element picked at random from this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"args":[{"name":"random","default_value":"Random::DEFAULT","external_name":"random","restriction":""}],"args_string":"(random = Random::DEFAULT) : T","args_html":"(random = <span class=\"t\">Random</span><span class=\"t\">::</span><span class=\"t\">DEFAULT</span>) : T","location":{"filename":"src/multi_indexable.cr","line_number":201,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L201"},"def":{"name":"sample","args":[{"name":"random","default_value":"Random::DEFAULT","external_name":"random","restriction":""}],"return_type":"T","visibility":"Public","body":"if empty?\n  raise(ShapeError.new(\"Can't sample empty collection. (shape: #{shape_internal})\"))\nend\nunsafe_fetch_element(shape_internal.map do |dim|\n  random.rand(dim)\nend)\n"}},{"html_id":"scalar?:Bool-instance-method","name":"scalar?","doc":"Returns `true` if this `MultiIndexable` contains only a single element.\n\n```crystal\nNArray.new([1]).scalar? # => true\nNArray.new([1, 2]).scalar? # => false\nNArray.new([[1]]).scalar? # => true\nNArray.new([]).scalar? # => false\n```","summary":"<p>Returns <code>true</code> if this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> contains only a single element.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":107,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L107"},"def":{"name":"scalar?","return_type":"Bool","visibility":"Public","body":"size == 1"}},{"html_id":"shape:Array-instance-method","name":"shape","doc":"Returns the capacity of each axis spanned by `self`.\nFor example, a matrix with 4 rows and 2 columns will have the shape\n[4, 2]. This must always return a clone of the actual shape, and is\nsafe to mutate without affecting the MultiIndexable.","summary":"<p>Returns the capacity of each axis spanned by <code>self</code>.</p>","abstract":true,"location":{"filename":"src/multi_indexable.cr","line_number":40,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L40"},"def":{"name":"shape","return_type":"Array","visibility":"Public","body":""}},{"html_id":"size-instance-method","name":"size","doc":"Returns the total number of elements in this `MultiIndexable`.\nThis quantity is always equal to `shape.product`. However, this method is\nalmost always more performant than computing the product directly.\n\n```crystal\nNArray.new(['a', 'b', 'c']).size # => 3\nNArray.new([[0, 1], [1, 0]]).size # => 4\n```","summary":"<p>Returns the total number of elements in this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":85,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L85"},"def":{"name":"size","visibility":"Public","body":"shape_internal.product"}},{"html_id":"slices(axis=0):Indexable-instance-method","name":"slices","doc":"Returns an Indexable collection of the slices returned by `#each_slice`.","summary":"<p>Returns an Indexable collection of the slices returned by <code><a href=\"../Phase/MultiIndexable.html#each_slice%28axis%3D0%29%3AIterator-instance-method\">#each_slice</a></code>.</p>","abstract":false,"args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(axis = 0) : Indexable","args_html":"(axis = <span class=\"n\">0</span>) : Indexable","location":{"filename":"src/multi_indexable.cr","line_number":775,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L775"},"def":{"name":"slices","args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"return_type":"Indexable","visibility":"Public","body":"(each_slice(axis)).to_a"}},{"html_id":"tile(counts:Enumerable(Int)):MultiIndexable-instance-method","name":"tile","doc":"Using `self` as a tile, creates a larger `MultiIndexable` by translating and copying that tile in multiple axes.\n*counts* specifies how many times to copy the tile in each axis. If it is the wrong\nsize, `#tile` will return a `DimensionError`.\n\n```crystal\nunit = NArray[[1, 2], [3, 4]]\n\nputs unit.tile([2, 3])\n# 4x6 Phase::NArray(Int32)\n# [[1, 2, 1, 2, 1, 2],\n#  [3, 4, 3, 4, 3, 4],\n#  [1, 2, 1, 2, 1, 2],\n#  [3, 4, 3, 4, 3, 4]]\n```","summary":"<p>Using <code>self</code> as a tile, creates a larger <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> by translating and copying that tile in multiple axes.</p>","abstract":false,"args":[{"name":"counts","external_name":"counts","restriction":"Enumerable(Int)"}],"args_string":"(counts : Enumerable(Int)) : MultiIndexable","args_html":"(counts : Enumerable(Int)) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>","location":{"filename":"src/multi_indexable.cr","line_number":806,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L806"},"def":{"name":"tile","args":[{"name":"counts","external_name":"counts","restriction":"Enumerable(Int)"}],"return_type":"MultiIndexable","visibility":"Public","body":"NArray.tile(self, counts)"}},{"html_id":"tile(*counts:Int)-instance-method","name":"tile","doc":"Tuple-accepting overload of `#tile(counts : Enumerable)`.\n\n```crystal\nunit = NArray[[1, 2], [3, 4]]\n\nputs unit.tile(2, 3)\n# 4x6 Phase::NArray(Int32)\n# [[1, 2, 1, 2, 1, 2],\n#  [3, 4, 3, 4, 3, 4],\n#  [1, 2, 1, 2, 1, 2],\n#  [3, 4, 3, 4, 3, 4]]\n```","summary":"<p>Tuple-accepting overload of <code><a href=\"../Phase/MultiIndexable.html#tile%28counts%3AEnumerable%28Int%29%29%3AMultiIndexable-instance-method\">#tile(counts : Enumerable)</a></code>.</p>","abstract":false,"args":[{"name":"counts","external_name":"counts","restriction":"Int"}],"args_string":"(*counts : Int)","args_html":"(*counts : Int)","location":{"filename":"src/multi_indexable.cr","line_number":822,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L822"},"def":{"name":"tile","args":[{"name":"counts","external_name":"counts","restriction":"Int"}],"splat_index":0,"visibility":"Public","body":"tile(counts)"}},{"html_id":"to_f:Float-instance-method","name":"to_f","doc":"Returns `to_scalar.to_f`.\nThis method allows single-element MultiIndexables to be treated like\nnumerics in many cases.\n\n```crystal\nNArray.new([[0.5f32]]).to_f # => 0.5\nNArray.new([[1], [2]]).to_f # raises ShapeError\nNArray.new([\"test\"]).to_f # will not compile, as String has no #to_f method.\n```","summary":"<p>Returns <code>to_scalar.to_f</code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":147,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L147"},"def":{"name":"to_f","return_type":"Float","visibility":"Public","body":"to_scalar.to_f"}},{"html_id":"to_literal_s(io:IO):Nil-instance-method","name":"to_literal_s","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO) : Nil","args_html":"(io : IO) : Nil","location":{"filename":"src/formatter/formatter.cr","line_number":275,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L275"},"def":{"name":"to_literal_s","args":[{"name":"io","external_name":"io","restriction":"IO"}],"return_type":"Nil","visibility":"Public","body":"Formatter.print_literal(self, io)"}},{"html_id":"to_narr:NArray(T)-instance-method","name":"to_narr","doc":"Creates an `NArray` duplicate of this `MultiIndexable`.\n\n```crystal\n# not_an_narray : MultiIndexable\nnarr = not_an_narray.to_narr # => NArray\nnot_an_narray.equals?(narr) { |el_1, el_2| el_1 == el_2 } # => true\n```","summary":"<p>Creates an <code><a href=\"../Phase/NArray.html\">NArray</a></code> duplicate of this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":833,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L833"},"def":{"name":"to_narr","return_type":"NArray(T)","visibility":"Public","body":"NArray.build(@shape.dup) do |coord|\n  unsafe_fetch_element(coord)\nend"}},{"html_id":"to_s(io:IO,settings=Formatter::Settings.new):Nil-instance-method","name":"to_s","doc":"FIXME: NArrayFormatter depends on buffer indices.","summary":"<p><span class=\"flag yellow\">FIXME</span>  NArrayFormatter depends on buffer indices.</p>","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"settings","default_value":"Formatter::Settings.new","external_name":"settings","restriction":""}],"args_string":"(io : IO, settings = Formatter::Settings.new) : Nil","args_html":"(io : IO, settings = <span class=\"t\">Formatter</span><span class=\"t\">::</span><span class=\"t\">Settings</span>.<span class=\"k\">new</span>) : Nil","location":{"filename":"src/formatter/formatter.cr","line_number":287,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L287"},"def":{"name":"to_s","args":[{"name":"io","external_name":"io","restriction":"IO"},{"name":"settings","default_value":"Formatter::Settings.new","external_name":"settings","restriction":""}],"return_type":"Nil","visibility":"Public","body":"Formatter.print(self, io, settings: settings)"}},{"html_id":"to_s(settings=Formatter::Settings.new):String-instance-method","name":"to_s","doc":"FIXME: NArrayFormatter depends on buffer indices.","summary":"<p><span class=\"flag yellow\">FIXME</span>  NArrayFormatter depends on buffer indices.</p>","abstract":false,"args":[{"name":"settings","default_value":"Formatter::Settings.new","external_name":"settings","restriction":""}],"args_string":"(settings = Formatter::Settings.new) : String","args_html":"(settings = <span class=\"t\">Formatter</span><span class=\"t\">::</span><span class=\"t\">Settings</span>.<span class=\"k\">new</span>) : String","location":{"filename":"src/formatter/formatter.cr","line_number":280,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L280"},"def":{"name":"to_s","args":[{"name":"settings","default_value":"Formatter::Settings.new","external_name":"settings","restriction":""}],"return_type":"String","visibility":"Public","body":"String.build do |str|\n  Formatter.print(self, str, settings: settings)\nend"}},{"html_id":"to_scalar:T-instance-method","name":"to_scalar","doc":"If this `MultiIndexable` is a scalar (see `#scalar?`), `to_scalar` will\nreturn the sole element that it contains. This method will raise a\n`ShapeError` if `self.scalar?` returns `false`.\n\n```crystal\nNArray.new(['a']).to_scalar # => 'a'\nNArray.new([['a', 'b'], ['c', 'd']]).to_scalar # raises ShapeError\n```","summary":"<p>If this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> is a scalar (see <code><a href=\"../Phase/MultiIndexable.html#scalar%3F%3ABool-instance-method\">#scalar?</a></code>), <code><a href=\"../Phase/MultiIndexable.html#to_scalar%3AT-instance-method\">#to_scalar</a></code> will return the sole element that it contains.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":119,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L119"},"def":{"name":"to_scalar","return_type":"T","visibility":"Public","body":"if scalar?\n  first\nelse\n  raise(ShapeError.new(\"Only single-element MultiIndexables can be converted to scalars, but this one has #{size} elements (shape: #{shape_internal}).\"))\nend"}},{"html_id":"to_scalar?:T?-instance-method","name":"to_scalar?","doc":"Identical to `#to_scalar`, but returns `nil` in case of an error.\n\n```crystal\nNArray.new(['a']).to_scalar # => 'a'\nNArray.new([['a', 'b'], ['c', 'd']]).to_scalar # => nil\n```","summary":"<p>Identical to <code><a href=\"../Phase/MultiIndexable.html#to_scalar%3AT-instance-method\">#to_scalar</a></code>, but returns <code>nil</code> in case of an error.</p>","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":133,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L133"},"def":{"name":"to_scalar?","return_type":"T | ::Nil","visibility":"Public","body":"if scalar?\n  return first\nend\nfalse\n"}},{"html_id":"unsafe_fetch_chunk(region:IndexRegion):MultiIndexable(T)-instance-method","name":"unsafe_fetch_chunk","doc":"Copies the elements described by *region* into a new `MultiIndexable` without performing any bounds checking.\nUnless you are sure that your *region* will fit inside of this\n`MultiIndexable`, you should opt to use `#get_chunk` instead.\n\nThis method may return any `MultiIndexable` - the default implementation\nwill return an `NArray`, however implementers of other `MultiIndexable`s\nare encouraged to override this method where it makes sense to do so.\n\nThis method's usage is identical to `#get_chunk(region : IndexRegion)`,\nbut it is slightly faster.","summary":"<p>Copies the elements described by <em>region</em> into a new <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> without performing any bounds checking.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"args_string":"(region : IndexRegion) : MultiIndexable(T)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>) : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T)","location":{"filename":"src/multi_indexable.cr","line_number":297,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L297"},"def":{"name":"unsafe_fetch_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"return_type":"MultiIndexable(T)","visibility":"Public","body":"NArray.build(region.shape) do |coord|\n  unsafe_fetch_element(region.local_to_absolute_unsafe(coord))\nend"}},{"html_id":"unsafe_fetch_element(coord:Coord):T-instance-method","name":"unsafe_fetch_element","doc":"Returns the element at the provided *coord*, without canonicalizing or bounds-checking it.\nThis method cannot be used with negative coordinates, and is not safe\nunless you are certain your coordinate is already canonicalized.","summary":"<p>Returns the element at the provided <em>coord</em>, without canonicalizing or bounds-checking it.</p>","abstract":true,"args":[{"name":"coord","external_name":"coord","restriction":"Coord"}],"args_string":"(coord : Coord) : T","args_html":"(coord : <a href=\"../Phase/Coord.html\">Coord</a>) : T","location":{"filename":"src/multi_indexable.cr","line_number":45,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L45"},"def":{"name":"unsafe_fetch_element","args":[{"name":"coord","external_name":"coord","restriction":"Coord"}],"return_type":"T","visibility":"Public","body":""}},{"html_id":"view(region:Indexable?|IndexRegion=nil):View(self,T)-instance-method","name":"view","abstract":false,"args":[{"name":"region","default_value":"nil","external_name":"region","restriction":"Indexable | ::Nil | IndexRegion"}],"args_string":"(region : Indexable? | IndexRegion = nil) : View(self, T)","args_html":"(region : Indexable? | <a href=\"../Phase/IndexRegion.html\">IndexRegion</a> = <span class=\"n\">nil</span>) : <a href=\"../Phase/View.html\">View</a>(<span class=\"k\">self</span>, T)","location":{"filename":"src/multi_indexable.cr","line_number":862,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L862"},"def":{"name":"view","args":[{"name":"region","default_value":"nil","external_name":"region","restriction":"Indexable | ::Nil | IndexRegion"}],"return_type":"View(self, T)","visibility":"Public","body":"View.of(self, region)"}},{"html_id":"view(*region):View(self,T)-instance-method","name":"view","abstract":false,"args":[{"name":"region","external_name":"region","restriction":""}],"args_string":"(*region) : View(self, T)","args_html":"(*region) : <a href=\"../Phase/View.html\">View</a>(<span class=\"k\">self</span>, T)","location":{"filename":"src/multi_indexable.cr","line_number":866,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L866"},"def":{"name":"view","args":[{"name":"region","external_name":"region","restriction":""}],"splat_index":0,"return_type":"View(self, T)","visibility":"Public","body":"view(region)"}},{"html_id":"|(other:MultiIndexable(U))forallU-instance-method","name":"|","doc":"Invokes `#|` element-wise between `self` and *other*, returning\nan `NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%7C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#|</a></code> element-wise between <code>self</code> and <em>other</em>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"args_string":"(other : MultiIndexable(U)) forall U","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(U)) forall U","location":{"filename":"src/multi_indexable.cr","line_number":955,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L955"},"def":{"name":"|","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable(U)"}],"visibility":"Public","body":"if shape_internal != other.shape_internal\n  if scalar? || other.scalar?\n    raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '|' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\"))\n  end\n  raise(ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '|' cannot be applied element-wise.\"))\nend\nmap_with(other) do |elem, other_elem|\n  elem | other_elem\nend\n"}},{"html_id":"|(other)-instance-method","name":"|","doc":"Invokes `#|(other)` on each element in `self`, returning an\n`NArray` that contains the results.","summary":"<p>Invokes <code><a href=\"../Phase/MultiIndexable.html#%7C%28other%3AMultiIndexable%28U%29%29forallU-instance-method\">#|(other)</a></code> on each element in <code>self</code>, returning an <code><a href=\"../Phase/NArray.html\">NArray</a></code> that contains the results.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":""}],"args_string":"(other)","args_html":"(other)","location":{"filename":"src/multi_indexable.cr","line_number":955,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L955"},"def":{"name":"|","args":[{"name":"other","external_name":"other","restriction":""}],"visibility":"Public","body":"map(&.|(other))"}},{"html_id":"~-instance-method","name":"~","abstract":false,"location":{"filename":"src/multi_indexable.cr","line_number":966,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L966"},"def":{"name":"~","visibility":"Public","body":"map(&.~)"}}],"macros":[{"html_id":"def_elementwise_binary(name)-macro","name":"def_elementwise_binary","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/multi_indexable.cr","line_number":912,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L912"},"def":{"name":"def_elementwise_binary","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"      \n# Invokes `#\n{{ name.id }}\n` element-wise between `self` and *other*, returning\n\n        \n# an `NArray` that contains the results.\n\n        def \n{{ name.id }}\n(other : MultiIndexable(U)) forall U \n          if shape_internal != other.shape_internal\n            if scalar? || other.scalar?\n              raise ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '\n{{ name.id }}\n' cannot be applied element-wise. Did you mean to call to_scalar on one of the arguments?\")\n            \nend\n            raise ShapeError.new(\"The shape of this MultiIndexable (#{shape_internal}) does not match the shape of the one provided (#{other.shape_internal}), so '\n{{ name.id }}\n' cannot be applied element-wise.\")\n          \nend\n\n          map_with(other) do |elem, other_elem|\n            \nelem.\n{{ name.id }}\n other_elem\n          \nend\n        \nend\n\n        \n# Invokes `#\n{{ name.id }}\n(other)` on each element in `self`, returning an\n\n        \n# `NArray` that contains the results.\n\n        def \n{{ name.id }}\n(other)\n          map &.\n{{ name.id }}\n other\n        \nend\n    \n"}},{"html_id":"def_elementwise_unary(name)-macro","name":"def_elementwise_unary","abstract":false,"args":[{"name":"name","external_name":"name","restriction":""}],"args_string":"(name)","args_html":"(name)","location":{"filename":"src/multi_indexable.cr","line_number":935,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_indexable.cr#L935"},"def":{"name":"def_elementwise_unary","args":[{"name":"name","external_name":"name","restriction":""}],"visibility":"Public","body":"      def \n{{ name.id }}\n\n        map &.\n{{ name.id }}\n \n      \nend\n    \n"}}],"types":[{"html_id":"ph-core/Phase/MultiIndexable/Formatter","path":"Phase/MultiIndexable/Formatter.html","kind":"class","full_name":"Phase::MultiIndexable::Formatter(E, I)","name":"Formatter","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/formatter/formatter.cr","line_number":18,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L18"},{"filename":"src/formatter/settings.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L5"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable(T)","name":"MultiIndexable"},"doc":"Used to print `MultiIndexable`s in a user-readable fashion. The most\ncommon usage of `Formatter` is the class method `Formatter.print(narr,\nio, settings)`.\n\n`Formatter` can be configured at multiple different levels:\n- Per invocation\n- Program wide\n- System wide\n\nFor detailed information about how that all works, see `Formatter::Settings`.","summary":"<p>Used to print <code><a href=\"../../Phase/MultiIndexable.html\">MultiIndexable</a></code>s in a user-readable fashion.</p>","class_methods":[{"html_id":"print(narr:MultiIndexable(E),io:IO=STDOUT,settings=nil)-class-method","name":"print","abstract":false,"args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(E)"},{"name":"io","default_value":"STDOUT","external_name":"io","restriction":"IO"},{"name":"settings","default_value":"nil","external_name":"settings","restriction":""}],"args_string":"(narr : MultiIndexable(E), io : IO = STDOUT, settings = nil)","args_html":"(narr : <a href=\"../../Phase/MultiIndexable.html\">MultiIndexable</a>(E), io : IO = <span class=\"t\">STDOUT</span>, settings = <span class=\"n\">nil</span>)","location":{"filename":"src/formatter/formatter.cr","line_number":37,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L37"},"def":{"name":"print","args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(E)"},{"name":"io","default_value":"STDOUT","external_name":"io","restriction":"IO"},{"name":"settings","default_value":"nil","external_name":"settings","restriction":""}],"visibility":"Public","body":"settings || (settings = Settings.new)\ndisplay_shape = narr.shape.map_with_index do |dim, i|\n  if i < (narr.dimensions - 1)\n    color = settings.colors[((narr.dimensions - i) + 1) % settings.colors.size]\n  else\n    color = :default\n  end\n  dim.to_s.colorize(color)\nend\nio << \"#{display_shape.join('x')} #{if narr.shape.size == 1\n  \"element \"\nend}#{narr.class}\\n\"\n(Formatter(E, typeof(narr.shape[0])).new(narr, io, settings)).print\n"}},{"html_id":"print_literal(narr:MultiIndexable(E),io=STDOUT)-class-method","name":"print_literal","abstract":false,"args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(E)"},{"name":"io","default_value":"STDOUT","external_name":"io","restriction":""}],"args_string":"(narr : MultiIndexable(E), io = STDOUT)","args_html":"(narr : <a href=\"../../Phase/MultiIndexable.html\">MultiIndexable</a>(E), io = <span class=\"t\">STDOUT</span>)","location":{"filename":"src/formatter/formatter.cr","line_number":54,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L54"},"def":{"name":"print_literal","args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(E)"},{"name":"io","default_value":"STDOUT","external_name":"io","restriction":""}],"visibility":"Public","body":"fmt = Formatter(E, typeof(narr.shape[0])).new(narr, io, Settings.new)\nfmt.print_literal\n"}}],"constructors":[{"html_id":"new(narr:MultiIndexable(E),io,settings)-class-method","name":"new","abstract":false,"args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(E)"},{"name":"io","external_name":"io","restriction":""},{"name":"settings","external_name":"settings","restriction":""}],"args_string":"(narr : MultiIndexable(E), io, settings)","args_html":"(narr : <a href=\"../../Phase/MultiIndexable.html\">MultiIndexable</a>(E), io, settings)","location":{"filename":"src/formatter/formatter.cr","line_number":59,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L59"},"def":{"name":"new","args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(E)"},{"name":"io","external_name":"io","restriction":""},{"name":"settings","external_name":"settings","restriction":""}],"visibility":"Public","body":"_ = Formatter(E, I).allocate\n_.initialize(narr, io, settings)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"close(height,idx)-instance-method","name":"close","abstract":false,"args":[{"name":"height","external_name":"height","restriction":""},{"name":"idx","external_name":"idx","restriction":""}],"args_string":"(height, idx)","args_html":"(height, idx)","location":{"filename":"src/formatter/formatter.cr","line_number":264,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L264"},"def":{"name":"close","args":[{"name":"height","external_name":"height","restriction":""},{"name":"idx","external_name":"idx","restriction":""}],"visibility":"Public","body":"brackets = @settings.brackets[height % @settings.brackets.size]\nif compact?(height)\n  @current_indentation = @current_indentation - (brackets[0] % idx).size\nelse\n  if height != 0\n    newline(-1)\n  end\nend\ncolor_print(brackets[1] % idx, height)\n"}},{"html_id":"format_element(el:Int):String-instance-method","name":"format_element","abstract":false,"args":[{"name":"el","external_name":"el","restriction":"Int"}],"args_string":"(el : Int) : String","args_html":"(el : Int) : String","location":{"filename":"src/formatter/formatter.cr","line_number":186,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L186"},"def":{"name":"format_element","args":[{"name":"el","external_name":"el","restriction":"Int"}],"return_type":"String","visibility":"Public","body":"str = @settings.integer_format % el\nif str.size > @justify_length\n  return format_element(BigFloat.new(el))\nend\nstr\n"}},{"html_id":"format_element(el:Float):String-instance-method","name":"format_element","abstract":false,"args":[{"name":"el","external_name":"el","restriction":"Float"}],"args_string":"(el : Float) : String","args_html":"(el : Float) : String","location":{"filename":"src/formatter/formatter.cr","line_number":194,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L194"},"def":{"name":"format_element","args":[{"name":"el","external_name":"el","restriction":"Float"}],"return_type":"String","visibility":"Public","body":"str = @settings.decimal_format % el\nif str.size > @justify_length\n  separator = str.rindex(/[pe]/i)\n  if separator.nil?\n    str = \"%e\" % el\n    separator = (str.rindex(/[pe]/i)).not_nil!\n  end\n  truncate_length = str.size - @justify_length\n  if (separator - truncate_length) < 3\n    mantissa = str[0]\n  else\n    mantissa = str[...(separator - truncate_length)]\n  end\n  exponent = str[separator..]\n  str = mantissa + exponent\nend\nstr\n"}},{"html_id":"format_element(el:String):String-instance-method","name":"format_element","abstract":false,"args":[{"name":"el","external_name":"el","restriction":"String"}],"args_string":"(el : String) : String","args_html":"(el : String) : String","location":{"filename":"src/formatter/formatter.cr","line_number":223,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L223"},"def":{"name":"format_element","args":[{"name":"el","external_name":"el","restriction":"String"}],"return_type":"String","visibility":"Public","body":"str = el.inspect\nif str.size > @justify_length\n  str = str[0...(@justify_length - 4)] + \"\\\"...\"\nend\nstr\n"}},{"html_id":"format_element(el):String-instance-method","name":"format_element","abstract":false,"args":[{"name":"el","external_name":"el","restriction":""}],"args_string":"(el) : String","args_html":"(el) : String","location":{"filename":"src/formatter/formatter.cr","line_number":231,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L231"},"def":{"name":"format_element","args":[{"name":"el","external_name":"el","restriction":""}],"return_type":"String","visibility":"Public","body":"if el.responds_to?(:ph_to_s)\n  str = el.ph_to_s\nelse\n  str = el.inspect\nend\nif str.size > @justify_length\n  str = str[0...(@justify_length - 3)] + \"...\"\nend\nstr\n"}},{"html_id":"measure-instance-method","name":"measure","doc":"get the length of the longest element to be displayed (for justification purposes)","summary":"<p>get the length of the longest element to be displayed (for justification purposes)</p>","abstract":false,"location":{"filename":"src/formatter/formatter.cr","line_number":88,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L88"},"def":{"name":"measure","visibility":"Public","body":"@justify_length = @settings.max_element_width\n@justify_length = walk_n_measure\n@iter.reset\n"}},{"html_id":"newline(indent_change=0)-instance-method","name":"newline","abstract":false,"args":[{"name":"indent_change","default_value":"0","external_name":"indent_change","restriction":""}],"args_string":"(indent_change = 0)","args_html":"(indent_change = <span class=\"n\">0</span>)","location":{"filename":"src/formatter/formatter.cr","line_number":248,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L248"},"def":{"name":"newline","args":[{"name":"indent_change","default_value":"0","external_name":"indent_change","restriction":""}],"visibility":"Public","body":"@io << \"\\n\"\n@current_indentation = @current_indentation + (indent_change * @settings.indent_width)\n@io << (\" \" * @current_indentation)\n"}},{"html_id":"open(height,idx)-instance-method","name":"open","abstract":false,"args":[{"name":"height","external_name":"height","restriction":""},{"name":"idx","external_name":"idx","restriction":""}],"args_string":"(height, idx)","args_html":"(height, idx)","location":{"filename":"src/formatter/formatter.cr","line_number":254,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L254"},"def":{"name":"open","args":[{"name":"height","external_name":"height","restriction":""},{"name":"idx","external_name":"idx","restriction":""}],"visibility":"Public","body":"brackets = @settings.brackets[height % @settings.brackets.size]\ncolor_print(brackets[0] % idx, height)\nif compact?(height)\n  @current_indentation = @current_indentation + (brackets[0] % idx).size\nelse\n  if height != 0\n    newline(1)\n  end\nend\n"}},{"html_id":"print-instance-method","name":"print","abstract":false,"location":{"filename":"src/formatter/formatter.cr","line_number":94,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L94"},"def":{"name":"print","visibility":"Public","body":"measure\nwalk_n_print\n@iter.reset\n"}},{"html_id":"print_literal-instance-method","name":"print_literal","abstract":false,"location":{"filename":"src/formatter/formatter.cr","line_number":100,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/formatter.cr#L100"},"def":{"name":"print_literal","visibility":"Public","body":"walk_n_print_flat\n@iter.reset\n"}}],"types":[{"html_id":"ph-core/Phase/MultiIndexable/Formatter/Settings","path":"Phase/MultiIndexable/Formatter/Settings.html","kind":"class","full_name":"Phase::MultiIndexable::Formatter::Settings","name":"Settings","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/formatter/settings.cr","line_number":27,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L27"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"USER_CONFIG_FILENAME","name":"USER_CONFIG_FILENAME","value":"\"formatter.yaml\""}],"included_modules":[{"html_id":"ph-core/YAML/Serializable","kind":"module","full_name":"YAML::Serializable","name":"Serializable"}],"namespace":{"html_id":"ph-core/Phase/MultiIndexable/Formatter","kind":"class","full_name":"Phase::MultiIndexable::Formatter(E, I)","name":"Formatter"},"doc":"Every instance of `Settings` stores configuration options that can\nbe provided to `MultiIndexable::Formatter`. Additionally, `Settings`\ncan store a project-wide formatter configuration (via `.project_settings`\nand `.project_settings=`), and load system-wide configuration (via `self.user_settings`).\n\n### Where does `Settings` get it's data from?\nAll user-configurable printing methods in `Formatter` will accept an\noptional *settings* parameter. If you provide an instance of `Settings`\nto that formatter method, it will always be used, no matter what project\nor system-wide configuration is enabled. If you do not provide a\n`Settings` instance in the call to `Formatter`, `Formatter` will load its\nconfiguration from `Settings.new`.\n\n`Settings.new` will check everything on this list (starting at the top)\nuntil it finds suitable settings, and then returns those.\n- `Settings.project_settings` (`nil` by default, but can be altered via\n`.project_settings=`)\n- `Settings.user_settings` (attempts to cache and return settings from a\n`formatter.yaml` file. See `.user_settings` for details)\n- `Settings.default` (the default configuration that we, the developers\nof Phase, think is nice)","summary":"<p>Every instance of <code><a href=\"../../../Phase/MultiIndexable/Formatter/Settings.html\">Settings</a></code> stores configuration options that can be provided to <code><a href=\"../../../Phase/MultiIndexable/Formatter.html\">MultiIndexable::Formatter</a></code>.</p>","class_methods":[{"html_id":"project_settings=(project_settings:self?)-class-method","name":"project_settings=","abstract":false,"args":[{"name":"project_settings","external_name":"project_settings","restriction":"self | ::Nil"}],"args_string":"(project_settings : self?)","args_html":"(project_settings : <span class=\"k\">self</span>?)","location":{"filename":"src/formatter/settings.cr","line_number":35,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L35"},"def":{"name":"project_settings=","args":[{"name":"project_settings","external_name":"project_settings","restriction":"self | ::Nil"}],"visibility":"Public","body":"@@project_settings = project_settings"}}],"constructors":[{"html_id":"default:self-class-method","name":"default","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":140,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L140"},"def":{"name":"default","return_type":"self","visibility":"Public","body":"new(indent_width: 4, max_element_width: 15, omit_after: [10, 5], brackets: [{\"[\", \"]\"}], colors: [:red, :yellow, :blue], collapse_brackets_after: 5, integer_format: \"%d\", decimal_format: \"%.3g\")"}},{"html_id":"new(indent_width,max_element_width,omit_afterdisplay_limit,brackets,colors,collapse_brackets_aftercollapse_height,integer_format,decimal_format)-class-method","name":"new","abstract":false,"args":[{"name":"indent_width","external_name":"indent_width","restriction":""},{"name":"max_element_width","external_name":"max_element_width","restriction":""},{"name":"display_limit","external_name":"omit_after","restriction":""},{"name":"brackets","external_name":"brackets","restriction":""},{"name":"colors","external_name":"colors","restriction":""},{"name":"collapse_height","external_name":"collapse_brackets_after","restriction":""},{"name":"integer_format","external_name":"integer_format","restriction":""},{"name":"decimal_format","external_name":"decimal_format","restriction":""}],"args_string":"(indent_width, max_element_width, omit_after display_limit, brackets, colors, collapse_brackets_after collapse_height, integer_format, decimal_format)","args_html":"(indent_width, max_element_width, omit_after display_limit, brackets, colors, collapse_brackets_after collapse_height, integer_format, decimal_format)","location":{"filename":"src/formatter/settings.cr","line_number":101,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L101"},"def":{"name":"new","args":[{"name":"indent_width","external_name":"indent_width","restriction":""},{"name":"max_element_width","external_name":"max_element_width","restriction":""},{"name":"display_limit","external_name":"omit_after","restriction":""},{"name":"brackets","external_name":"brackets","restriction":""},{"name":"colors","external_name":"colors","restriction":""},{"name":"collapse_height","external_name":"collapse_brackets_after","restriction":""},{"name":"integer_format","external_name":"integer_format","restriction":""},{"name":"decimal_format","external_name":"decimal_format","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(indent_width, max_element_width, display_limit, brackets, colors, collapse_height, integer_format, decimal_format)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","name":"new","abstract":false,"args":[{"name":"ctx","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","external_name":"node","restriction":"YAML::Nodes::Node"}],"args_string":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","args_html":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","location":{"filename":"src/formatter/settings.cr","line_number":28,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L28"},"def":{"name":"new","args":[{"name":"ctx","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","external_name":"node","restriction":"YAML::Nodes::Node"}],"visibility":"Public","body":"new_from_yaml_node(ctx, node)"}},{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":97,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L97"},"def":{"name":"new","visibility":"Public","body":"(@@project_settings || user_settings) || default"}},{"html_id":"project_settings:self?-class-method","name":"project_settings","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":35,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L35"},"def":{"name":"project_settings","return_type":"self | ::Nil","visibility":"Public","body":"@@project_settings"}},{"html_id":"user_settings:self?-class-method","name":"user_settings","doc":"TODO: document properly once this is set in stone\ntries to read from PHASE_CONFIG_DIR - if the file isn't there,\nreads from XDG_CONFIG_DIR/phase. if still not there, tries ~/.config\nBETTER_ERROR: Better error message for failed read","summary":"<p><span class=\"flag orange\">TODO</span>  document properly once this is set in stone tries to read from PHASE_CONFIG_DIR - if the file isn't there, reads from XDG_CONFIG_DIR/phase.</p>","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":111,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L111"},"def":{"name":"user_settings","return_type":"self | ::Nil","visibility":"Public","body":"if @@disable_user_settings\n  return nil\nend\nif @@cached_user_settings\n  return @@cached_user_settings\nend\nif dir = ENV[\"PHASE_CONFIG_DIR\"]?\n  path = (Path[dir] / USER_CONFIG_FILENAME).expand(home: true)\n  if File.exists?(path)\n    return @@cached_user_settings = from_yaml(File.read(path))\n  end\nend\n{ENV[\"XDG_CONFIG_DIR\"]?, \"~/.config\"}.each do |dir|\n  if dir\n    path = ((Path[dir] / \"phase\") / USER_CONFIG_FILENAME).expand(home: true)\n    if File.exists?(path)\n      return @@cached_user_settings = from_yaml(File.read(path))\n    end\n  end\nend\n@@disable_user_settings = true\nreturn nil\n"}}],"instance_methods":[{"html_id":"brackets:Array(Tuple(String,String))-instance-method","name":"brackets","doc":"The formatter is capable of using different brackets for different structures - this may help disambiguate rows, columns, and higher dimensional arrays.\n\n```crystal\nnarr = NArray.build([2, 2, 2, 2]) { |_, idx| idx }\n\nsettings = MultiIndexable::Formatter::Settings.default\nsettings.brackets = [{\"<\", \">\"}, {\"begin\", \"end\"}]\n\nMultiIndexable::Formatter.print(narr, settings: settings)\n\n# Output (note how the 0th element in brackets was used for the innermost arrays)\n# begin\n#     <\n#         begin< 0,  1>,\n#              < 2,  3>end,\n#         \n#         begin< 4,  5>,\n#              < 6,  7>end\n#     >,\n#     <\n#         begin< 8,  9>,\n#              <10, 11>end,\n#         \n#         begin<12, 13>,\n#              <14, 15>end\n#     >\n# end\n```","summary":"<p>The formatter is capable of using different brackets for different structures - this may help disambiguate rows, columns, and higher dimensional arrays.</p>","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":78,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L78"},"def":{"name":"brackets","return_type":"Array(Tuple(String, String))","visibility":"Public","body":"@brackets"}},{"html_id":"brackets=(brackets:Array(Tuple(String,String)))-instance-method","name":"brackets=","doc":"The formatter is capable of using different brackets for different structures - this may help disambiguate rows, columns, and higher dimensional arrays.\n\n```crystal\nnarr = NArray.build([2, 2, 2, 2]) { |_, idx| idx }\n\nsettings = MultiIndexable::Formatter::Settings.default\nsettings.brackets = [{\"<\", \">\"}, {\"begin\", \"end\"}]\n\nMultiIndexable::Formatter.print(narr, settings: settings)\n\n# Output (note how the 0th element in brackets was used for the innermost arrays)\n# begin\n#     <\n#         begin< 0,  1>,\n#              < 2,  3>end,\n#         \n#         begin< 4,  5>,\n#              < 6,  7>end\n#     >,\n#     <\n#         begin< 8,  9>,\n#              <10, 11>end,\n#         \n#         begin<12, 13>,\n#              <14, 15>end\n#     >\n# end\n```","summary":"<p>The formatter is capable of using different brackets for different structures - this may help disambiguate rows, columns, and higher dimensional arrays.</p>","abstract":false,"args":[{"name":"brackets","external_name":"brackets","restriction":"Array(Tuple(String, String))"}],"args_string":"(brackets : Array(Tuple(String, String)))","args_html":"(brackets : Array(Tuple(String, String)))","location":{"filename":"src/formatter/settings.cr","line_number":78,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L78"},"def":{"name":"brackets=","args":[{"name":"brackets","external_name":"brackets","restriction":"Array(Tuple(String, String))"}],"visibility":"Public","body":"@brackets = brackets"}},{"html_id":"collapse_height:Int32-instance-method","name":"collapse_height","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":92,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L92"},"def":{"name":"collapse_height","return_type":"Int32","visibility":"Public","body":"@collapse_height"}},{"html_id":"collapse_height=(collapse_height:Int32)-instance-method","name":"collapse_height=","abstract":false,"args":[{"name":"collapse_height","external_name":"collapse_height","restriction":"Int32"}],"args_string":"(collapse_height : Int32)","args_html":"(collapse_height : Int32)","location":{"filename":"src/formatter/settings.cr","line_number":92,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L92"},"def":{"name":"collapse_height=","args":[{"name":"collapse_height","external_name":"collapse_height","restriction":"Int32"}],"visibility":"Public","body":"@collapse_height = collapse_height"}},{"html_id":"colors:Array(Colorize::ColorRGB|Symbol)-instance-method","name":"colors","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":89,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L89"},"def":{"name":"colors","return_type":"Array(Colorize::ColorRGB | Symbol)","visibility":"Public","body":"@colors"}},{"html_id":"colors=(colors:Array(Colorize::ColorRGB|Symbol))-instance-method","name":"colors=","abstract":false,"args":[{"name":"colors","external_name":"colors","restriction":"Array(Colorize::ColorRGB | Symbol)"}],"args_string":"(colors : Array(Colorize::ColorRGB | Symbol))","args_html":"(colors : Array(Colorize::ColorRGB | Symbol))","location":{"filename":"src/formatter/settings.cr","line_number":89,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L89"},"def":{"name":"colors=","args":[{"name":"colors","external_name":"colors","restriction":"Array(Colorize::ColorRGB | Symbol)"}],"visibility":"Public","body":"@colors = colors"}},{"html_id":"decimal_format:String-instance-method","name":"decimal_format","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":95,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L95"},"def":{"name":"decimal_format","return_type":"String","visibility":"Public","body":"@decimal_format"}},{"html_id":"decimal_format=(decimal_format:String)-instance-method","name":"decimal_format=","abstract":false,"args":[{"name":"decimal_format","external_name":"decimal_format","restriction":"String"}],"args_string":"(decimal_format : String)","args_html":"(decimal_format : String)","location":{"filename":"src/formatter/settings.cr","line_number":95,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L95"},"def":{"name":"decimal_format=","args":[{"name":"decimal_format","external_name":"decimal_format","restriction":"String"}],"visibility":"Public","body":"@decimal_format = decimal_format"}},{"html_id":"display_limit:Array(Int32)-instance-method","name":"display_limit","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":48,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L48"},"def":{"name":"display_limit","return_type":"Array(Int32)","visibility":"Public","body":"@display_limit"}},{"html_id":"display_limit=(display_limit:Array(Int32))-instance-method","name":"display_limit=","abstract":false,"args":[{"name":"display_limit","external_name":"display_limit","restriction":"Array(Int32)"}],"args_string":"(display_limit : Array(Int32))","args_html":"(display_limit : Array(Int32))","location":{"filename":"src/formatter/settings.cr","line_number":48,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L48"},"def":{"name":"display_limit=","args":[{"name":"display_limit","external_name":"display_limit","restriction":"Array(Int32)"}],"visibility":"Public","body":"@display_limit = display_limit"}},{"html_id":"indent_width:Int32-instance-method","name":"indent_width","doc":"Controls the number of spaces that will be used to produce each indentation.","summary":"<p>Controls the number of spaces that will be used to produce each indentation.</p>","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":38,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L38"},"def":{"name":"indent_width","return_type":"Int32","visibility":"Public","body":"@indent_width"}},{"html_id":"indent_width=(indent_width:Int32)-instance-method","name":"indent_width=","doc":"Controls the number of spaces that will be used to produce each indentation.","summary":"<p>Controls the number of spaces that will be used to produce each indentation.</p>","abstract":false,"args":[{"name":"indent_width","external_name":"indent_width","restriction":"Int32"}],"args_string":"(indent_width : Int32)","args_html":"(indent_width : Int32)","location":{"filename":"src/formatter/settings.cr","line_number":38,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L38"},"def":{"name":"indent_width=","args":[{"name":"indent_width","external_name":"indent_width","restriction":"Int32"}],"visibility":"Public","body":"@indent_width = indent_width"}},{"html_id":"integer_format:String-instance-method","name":"integer_format","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":94,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L94"},"def":{"name":"integer_format","return_type":"String","visibility":"Public","body":"@integer_format"}},{"html_id":"integer_format=(integer_format:String)-instance-method","name":"integer_format=","abstract":false,"args":[{"name":"integer_format","external_name":"integer_format","restriction":"String"}],"args_string":"(integer_format : String)","args_html":"(integer_format : String)","location":{"filename":"src/formatter/settings.cr","line_number":94,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L94"},"def":{"name":"integer_format=","args":[{"name":"integer_format","external_name":"integer_format","restriction":"String"}],"visibility":"Public","body":"@integer_format = integer_format"}},{"html_id":"max_element_width:Int32-instance-method","name":"max_element_width","doc":"Controls the maximum number of characters to display for each element.\nElements that stringify to something longer than this will be\ntruncated, and numbers that are too long will be put into scientific\nnotation to attempt to fit them into this length.","summary":"<p>Controls the maximum number of characters to display for each element.</p>","abstract":false,"location":{"filename":"src/formatter/settings.cr","line_number":44,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L44"},"def":{"name":"max_element_width","return_type":"Int32","visibility":"Public","body":"@max_element_width"}},{"html_id":"max_element_width=(max_element_width:Int32)-instance-method","name":"max_element_width=","doc":"Controls the maximum number of characters to display for each element.\nElements that stringify to something longer than this will be\ntruncated, and numbers that are too long will be put into scientific\nnotation to attempt to fit them into this length.","summary":"<p>Controls the maximum number of characters to display for each element.</p>","abstract":false,"args":[{"name":"max_element_width","external_name":"max_element_width","restriction":"Int32"}],"args_string":"(max_element_width : Int32)","args_html":"(max_element_width : Int32)","location":{"filename":"src/formatter/settings.cr","line_number":44,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L44"},"def":{"name":"max_element_width=","args":[{"name":"max_element_width","external_name":"max_element_width","restriction":"Int32"}],"visibility":"Public","body":"@max_element_width = max_element_width"}}],"types":[{"html_id":"ph-core/Phase/MultiIndexable/Formatter/Settings/ColorConverter","path":"Phase/MultiIndexable/Formatter/Settings/ColorConverter.html","kind":"class","full_name":"Phase::MultiIndexable::Formatter::Settings::ColorConverter","name":"ColorConverter","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/formatter/settings.cr","line_number":153,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L153"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"COLOR_MAP","name":"COLOR_MAP","value":"{\"default\" => :default, \"black\" => :black, \"red\" => :red, \"green\" => :green, \"yellow\" => :yellow, \"blue\" => :blue, \"magenta\" => :magenta, \"cyan\" => :cyan, \"light_gray\" => :light_gray, \"dark_gray\" => :dark_gray, \"light_red\" => :light_red, \"light_green\" => :light_green, \"light_yellow\" => :light_yellow, \"light_blue\" => :light_blue, \"light_magenta\" => :light_magenta, \"light_cyan\" => :light_cyan, \"white\" => :white}","doc":"NOTE: I tried generating this with macros, but nothing was\nas effective as just hardcoding it.","summary":"<p><span class=\"flag purple\">NOTE</span>  I tried generating this with macros, but nothing was as effective as just hardcoding it.</p>"}],"namespace":{"html_id":"ph-core/Phase/MultiIndexable/Formatter/Settings","kind":"class","full_name":"Phase::MultiIndexable::Formatter::Settings","name":"Settings"},"class_methods":[{"html_id":"from_yaml(ctx:YAML::ParseContext,node:YAML::Nodes::Node):Symbol|Colorize::ColorRGB-class-method","name":"from_yaml","abstract":false,"args":[{"name":"ctx","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","external_name":"node","restriction":"YAML::Nodes::Node"}],"args_string":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node) : Symbol | Colorize::ColorRGB","args_html":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node) : Symbol | Colorize::ColorRGB","location":{"filename":"src/formatter/settings.cr","line_number":174,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L174"},"def":{"name":"from_yaml","args":[{"name":"ctx","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","external_name":"node","restriction":"YAML::Nodes::Node"}],"return_type":"Symbol | Colorize::ColorRGB","visibility":"Public","body":"if node.is_a?(YAML::Nodes::Scalar)\nelse\n  node.raise(\"Expected scalar, not #{node.kind}\")\n  return :yikes\nend\nif str = node.value\n  if sym = COLOR_MAP[str]?\n    return sym\n  else\n    if (rgb = str.hexbytes?) && (rgb.size == 3)\n      return Colorize::ColorRGB.new(rgb[0], rgb[1], rgb[2])\n    end\n  end\nend\nnode.raise(\"  Expected #{(COLOR_MAP.keys.map(&.inspect)).join(\", \")}, \\n  or an RGB hex string, not #{node.value.inspect}. \\n  #{if node.value.empty?\n  \"Recall that '#' starts a comment in YAML, and should be \\n            omitted from your color codes.\"\nend}\")\nreturn Colorize::ColorRGB.new(0, 0, 0)\n"}},{"html_id":"to_yaml(value:Symbol,yaml:YAML::Nodes::Builder)-class-method","name":"to_yaml","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"Symbol"},{"name":"yaml","external_name":"yaml","restriction":"YAML::Nodes::Builder"}],"args_string":"(value : Symbol, yaml : YAML::Nodes::Builder)","args_html":"(value : Symbol, yaml : YAML::Nodes::Builder)","location":{"filename":"src/formatter/settings.cr","line_number":202,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L202"},"def":{"name":"to_yaml","args":[{"name":"value","external_name":"value","restriction":"Symbol"},{"name":"yaml","external_name":"yaml","restriction":"YAML::Nodes::Builder"}],"visibility":"Public","body":"yaml.scalar(value.to_s)"}},{"html_id":"to_yaml(v:Colorize::ColorRGB,yaml:YAML::Nodes::Builder)-class-method","name":"to_yaml","abstract":false,"args":[{"name":"v","external_name":"v","restriction":"Colorize::ColorRGB"},{"name":"yaml","external_name":"yaml","restriction":"YAML::Nodes::Builder"}],"args_string":"(v : Colorize::ColorRGB, yaml : YAML::Nodes::Builder)","args_html":"(v : Colorize::ColorRGB, yaml : YAML::Nodes::Builder)","location":{"filename":"src/formatter/settings.cr","line_number":206,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/formatter/settings.cr#L206"},"def":{"name":"to_yaml","args":[{"name":"v","external_name":"v","restriction":"Colorize::ColorRGB"},{"name":"yaml","external_name":"yaml","restriction":"YAML::Nodes::Builder"}],"visibility":"Public","body":"yaml.scalar(\"##{Bytes[v.red, v.green, v.blue].hexdump.upcase}\")"}}]}]}]}]},{"html_id":"ph-core/Phase/MultiWritable","path":"Phase/MultiWritable.html","kind":"module","full_name":"Phase::MultiWritable(T)","name":"MultiWritable","abstract":false,"locations":[{"filename":"src/multi_writable.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"ph-core/Phase/NArray","kind":"class","full_name":"Phase::NArray(T)","name":"NArray"},{"html_id":"ph-core/Phase/View","kind":"class","full_name":"Phase::View(S, R)","name":"View"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"instance_methods":[{"html_id":"[]=(region:Indexable|IndexRegion,value)-instance-method","name":"[]=","doc":"See `#set_chunk(region : Enumerable, value)`","summary":"<p>See <code><a href=\"../Phase/MultiWritable.html#set_chunk%28region_literal%3AIndexable%2Csrc%3AMultiIndexable%28T%29%29-instance-method\">#set_chunk(region : Enumerable, value)</a></code></p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"Indexable | IndexRegion"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(region : Indexable | IndexRegion, value)","args_html":"(region : Indexable | <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, value)","location":{"filename":"src/multi_writable.cr","line_number":74,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L74"},"def":{"name":"[]=","args":[{"name":"region","external_name":"region","restriction":"Indexable | IndexRegion"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"set_chunk(region, value)"}},{"html_id":"[]=(bool_mask:MultiIndexable(Bool),value)-instance-method","name":"[]=","doc":"TODO: consider overriding these in NArray, may benefit from speedup?","summary":"<p><span class=\"flag orange\">TODO</span>  consider overriding these in NArray, may benefit from speedup?</p>","abstract":false,"args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"MultiIndexable(Bool)"},{"name":"value","external_name":"value","restriction":""}],"args_string":"(bool_mask : MultiIndexable(Bool), value)","args_html":"(bool_mask : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(Bool), value)","location":{"filename":"src/multi_writable.cr","line_number":91,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L91"},"def":{"name":"[]=","args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"MultiIndexable(Bool)"},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"set_mask(bool_mask, value)"}},{"html_id":"[]=(*args)-instance-method","name":"[]=","doc":"These two should go last","summary":"<p>These two should go last</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args)","args_html":"(*args)","location":{"filename":"src/multi_writable.cr","line_number":79,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L79"},"def":{"name":"[]=","args":[{"name":"args","external_name":"args","restriction":""}],"splat_index":0,"visibility":"Public","body":"set_chunk(args[...-1].to_a, args.last)"}},{"html_id":"set_available(region:Indexable,value:T)-instance-method","name":"set_available","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"Indexable"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(region : Indexable, value : T)","args_html":"(region : Indexable, value : T)","location":{"filename":"src/multi_writable.cr","line_number":69,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L69"},"def":{"name":"set_available","args":[{"name":"region","external_name":"region","restriction":"Indexable"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"unsafe_set_chunk(IndexRegion.new(region, trim_to: shape))"}},{"html_id":"set_chunk(region_literal:Indexable,src:MultiIndexable(T))-instance-method","name":"set_chunk","doc":"NOTE: changed name from 'value' to 'src' - approve?\nCopies the elements from a MultiIndexable `src` into `region`.\nRaises an error if `region` is out-of-bounds for this `{{@type}}` or if the shape of `region` does not match `src.shape`","summary":"<p><span class=\"flag purple\">NOTE</span>  changed name from 'value' to 'src' - approve? Copies the elements from a MultiIndexable <code>src</code> into <code>region</code>.</p>","abstract":false,"args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"args_string":"(region_literal : Indexable, src : MultiIndexable(T))","args_html":"(region_literal : Indexable, src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T))","location":{"filename":"src/multi_writable.cr","line_number":52,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L52"},"def":{"name":"set_chunk","args":[{"name":"region_literal","external_name":"region_literal","restriction":"Indexable"},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"visibility":"Public","body":"idx_region = IndexRegion.new(region_literal, shape_internal)\nif !(ShapeUtil.compatible_shapes?(src.shape_internal, idx_region.shape))\n  raise(DimensionError.new(\"Cannot substitute #{typeof(src)}: the given #{typeof(src)} has shape #{src.shape_internal}, but region #{idx_region} has shape #{idx_region.shape}.\"))\nend\nunsafe_set_chunk(idx_region, src)\n"}},{"html_id":"set_chunk(region:Indexable|IndexRegion,value:T)-instance-method","name":"set_chunk","doc":"Sets each element in `region` to `value`.\nRaises an error if `region` is out-of-bounds for this `{{@type}}`.","summary":"<p>Sets each element in <code>region</code> to <code>value</code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"Indexable | IndexRegion"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(region : Indexable | IndexRegion, value : T)","args_html":"(region : Indexable | <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, value : T)","location":{"filename":"src/multi_writable.cr","line_number":64,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L64"},"def":{"name":"set_chunk","args":[{"name":"region","external_name":"region","restriction":"Indexable | IndexRegion"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"idx_r = IndexRegion.new(region, shape_internal)\nunsafe_set_chunk(idx_r, value)\n"}},{"html_id":"set_element(coord:Indexable,value:T)-instance-method","name":"set_element","doc":"Sets the element specified by `coord` to `value`.\nRaises an error if `coord` is out-of-bounds for this `{{@type}}`.","summary":"<p>Sets the element specified by <code>coord</code> to <code>value</code>.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Indexable"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(coord : Indexable, value : T)","args_html":"(coord : Indexable, value : T)","location":{"filename":"src/multi_writable.cr","line_number":45,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L45"},"def":{"name":"set_element","args":[{"name":"coord","external_name":"coord","restriction":"Indexable"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"unsafe_set_element(CoordUtil.canonicalize_coord(coord, shape_internal), value)"}},{"html_id":"set_mask(bool_mask,src:MultiIndexable(T))-instance-method","name":"set_mask","abstract":false,"args":[{"name":"bool_mask","external_name":"bool_mask","restriction":""},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"args_string":"(bool_mask, src : MultiIndexable(T))","args_html":"(bool_mask, src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T))","location":{"filename":"src/multi_writable.cr","line_number":95,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L95"},"def":{"name":"set_mask","args":[{"name":"bool_mask","external_name":"bool_mask","restriction":""},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"visibility":"Public","body":"if src.shape != shape_internal\n  raise(ShapeError.new(\"Cannot perform masking: source shape #{src.shape} does not match array shape #{shape_internal}.\"))\nend\nset_mask(bool_mask) do |coord|\n  (src.unsafe_fetch_element(coord)).as(T)\nend\n"}},{"html_id":"set_mask(bool_mask,value)-instance-method","name":"set_mask","abstract":false,"args":[{"name":"bool_mask","external_name":"bool_mask","restriction":""},{"name":"value","external_name":"value","restriction":""}],"args_string":"(bool_mask, value)","args_html":"(bool_mask, value)","location":{"filename":"src/multi_writable.cr","line_number":102,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L102"},"def":{"name":"set_mask","args":[{"name":"bool_mask","external_name":"bool_mask","restriction":""},{"name":"value","external_name":"value","restriction":""}],"visibility":"Public","body":"set_mask(bool_mask) do\n  value\nend"}},{"html_id":"set_mask(bool_mask:MultiIndexable(Bool),&)-instance-method","name":"set_mask","abstract":false,"args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"MultiIndexable(Bool)"}],"args_string":"(bool_mask : MultiIndexable(Bool), &)","args_html":"(bool_mask : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(Bool), &)","location":{"filename":"src/multi_writable.cr","line_number":106,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L106"},"def":{"name":"set_mask","args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"MultiIndexable(Bool)"}],"yields":1,"visibility":"Public","body":"if bool_mask.shape != shape_internal\n  raise(ShapeError.new(\"Cannot perform masking: mask shape #{bool_mask.shape} does not match array shape #{shape_internal}.\"))\nend\nbool_mask.each_with_coord do |bool_val, coord|\n  if bool_val\n    unsafe_set_element(coord, yield coord)\n  end\nend\n"}},{"html_id":"shape:Shape-instance-method","name":"shape","doc":"Returns the length of the `{{@type}}` in each dimension.\nFor a `coord` to specify an element of the `{{@type}}` it must satisfy `coord[i] < shape[i]` for each `i`.","summary":"<p>Returns the length of the <code>{{@type}}</code> in each dimension.</p>","abstract":true,"location":{"filename":"src/multi_writable.cr","line_number":13,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L13"},"def":{"name":"shape","return_type":"Shape","visibility":"Public","body":""}},{"html_id":"size-instance-method","name":"size","doc":"Returns the number of elements in the `{{@type}}`; equal to `shape.product`.","summary":"<p>Returns the number of elements in the <code>{{@type}}</code>; equal to <code>shape.product</code>.</p>","abstract":true,"location":{"filename":"src/multi_writable.cr","line_number":9,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L9"},"def":{"name":"size","visibility":"Public","body":""}},{"html_id":"unsafe_set_chunk(region:IndexRegion,src:MultiIndexable(T))-instance-method","name":"unsafe_set_chunk","doc":"Copies the elements from a MultiIndexable `src` into `region`, assuming that `region` is in canonical form and in-bounds for this `{{@type}}`\nand the shape of `region` matches the shape of `src`.\nFor full specification of canonical form see `RegionHelpers` documentation. TODO: make this actually happen","summary":"<p>Copies the elements from a MultiIndexable <code>src</code> into <code>region</code>, assuming that <code>region</code> is in canonical form and in-bounds for this <code>{{@type}}</code> and the shape of <code>region</code> matches the shape of <code>src</code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"args_string":"(region : IndexRegion, src : MultiIndexable(T))","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T))","location":{"filename":"src/multi_writable.cr","line_number":26,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L26"},"def":{"name":"unsafe_set_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"visibility":"Public","body":"absolute_iter = region.each\nsrc_iter = src.each\nsrc_iter.each do |src_el|\n  unsafe_set_element(absolute_iter.unsafe_next, src_el)\nend\n"}},{"html_id":"unsafe_set_chunk(region:IndexRegion,value:T)-instance-method","name":"unsafe_set_chunk","doc":"Sets each element in `region` to `value`, assuming that `region` is in canonical form and in-bounds for this `{{@type}}`\nFor full specification of canonical form see `RegionHelpers` documentation. TODO: make this actually happen","summary":"<p>Sets each element in <code>region</code> to <code>value</code>, assuming that <code>region</code> is in canonical form and in-bounds for this <code>{{@type}}</code> For full specification of canonical form see <code>RegionHelpers</code> documentation.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(region : IndexRegion, value : T)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, value : T)","location":{"filename":"src/multi_writable.cr","line_number":37,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L37"},"def":{"name":"unsafe_set_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"region.each do |coord|\n  unsafe_set_element(coord, value)\nend"}},{"html_id":"unsafe_set_element(coord:Coord,value:T)-instance-method","name":"unsafe_set_element","doc":"Given a coordinate representing some location in the {{@type}} and a value, store the value at that coordinate.\nAssumes that the coordinate is in-bounds for this {{@type}}.","summary":"<p>Given a coordinate representing some location in the {{@type}} and a value, store the value at that coordinate.</p>","abstract":true,"args":[{"name":"coord","external_name":"coord","restriction":"Coord"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(coord : Coord, value : T)","args_html":"(coord : <a href=\"../Phase/Coord.html\">Coord</a>, value : T)","location":{"filename":"src/multi_writable.cr","line_number":17,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/multi_writable.cr#L17"},"def":{"name":"unsafe_set_element","args":[{"name":"coord","external_name":"coord","restriction":"Coord"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":""}}]},{"html_id":"ph-core/Phase/NArray","path":"Phase/NArray.html","kind":"class","full_name":"Phase::NArray(T)","name":"NArray","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Phase/NArray/BufferUtil","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil"},{"html_id":"ph-core/Phase/MultiWritable","kind":"module","full_name":"Phase::MultiWritable","name":"MultiWritable"},{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/n_array.cr","line_number":13,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L13"},{"filename":"src/n_array/buffer_util.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L6"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"},{"html_id":"ph-core/Phase/MultiWritable","kind":"module","full_name":"Phase::MultiWritable","name":"MultiWritable"},{"html_id":"ph-core/Phase/NArray/BufferUtil","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"An `{{@type}}` is a multidimensional array for any arbitrary type.\nIt is the most general implementation of Abstract{{@type}}, and as a result\nonly implements primitive data operations (construction, data reading,\ndata writing, and region sampling / slicing).\n","summary":"<p>An <code>{{@type}}</code> is a multidimensional array for any arbitrary type.</p>","class_methods":[{"html_id":"[](*contents)-class-method","name":"[]","doc":"NArray[1, 2, 3] == NArray.new([1, 2, 3])\nNArray[[1, 2, 3]] == NArray.new([[1, 2, 3]])","summary":"<p>NArray[1, 2, 3] == NArray.new([1, 2, 3]) NArray[[1, 2, 3]] == NArray.new([[1, 2, 3]])</p>","abstract":false,"args":[{"name":"contents","external_name":"contents","restriction":""}],"args_string":"(*contents)","args_html":"(*contents)","location":{"filename":"src/n_array.cr","line_number":158,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L158"},"def":{"name":"[]","args":[{"name":"contents","external_name":"contents","restriction":""}],"splat_index":0,"visibility":"Public","body":"new(contents)"}},{"html_id":"build(shape:Enumerable,&block:Array(Int32),Int32->T)-class-method","name":"build","doc":"Constructs an `{{@type}}` using a user-provided *shape* (see `shape`) and a callback.\nThe provided callback should map a multidimensional index, *coord*, (and an optional packed\nindex) to the value you wish to store at that position.\nFor example, to create the 2x2 identity matrix:\n```\nPhase::{{@type}}.build([2, 2]) do |coord|\n  if coord[0] == coord[1]\n    1\n  else\n    0\n  end\nend\n```\nWhich will create:\n```text\n[[1, 0, 0],\n  0, 1, 0],\n  0, 0, 1]]\n```\nThe buffer index allows you to easily index elements in lexicographic order.\nFor example:\n```\n{{@type}}.build([5, 1]) { |coord, index| index }\n```\nWill create:\n```text\n[[0],\n [1],\n [2],\n [3],\n [4]]\n```","summary":"<p>Constructs an <code>{{@type}}</code> using a user-provided <em>shape</em> (see <code><a href=\"../Phase/NArray.html#shape%3AArray%28Int32%29-instance-method\">#shape</a></code>) and a callback.</p>","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":"Enumerable"}],"args_string":"(shape : Enumerable, &block : Array(Int32), Int32 -> T)","args_html":"(shape : Enumerable, &block : Array(Int32), Int32 -> T)","location":{"filename":"src/n_array.cr","line_number":104,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L104"},"def":{"name":"build","args":[{"name":"shape","external_name":"shape","restriction":"Enumerable"}],"yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Array(Int32), Int32 -> T)"},"visibility":"Public","body":"coord_iter = IndexedLexIterator.cover(shape.to_a)\n({{ @type }}).new(shape) do |idx|\n  yield *(  coord_iter.unsafe_next_with_index)\nend\n"}},{"html_id":"build(*shape:Int,&block:Array(Int32),Int32->T)-class-method","name":"build","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":"Int"}],"args_string":"(*shape : Int, &block : Array(Int32), Int32 -> T)","args_html":"(*shape : Int, &block : Array(Int32), Int32 -> T)","location":{"filename":"src/n_array.cr","line_number":111,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L111"},"def":{"name":"build","args":[{"name":"shape","external_name":"shape","restriction":"Int"}],"splat_index":0,"yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(Array(Int32), Int32 -> T)"},"visibility":"Public","body":"build(shape, &block)"}},{"html_id":"common_container(*objects)-class-method","name":"common_container","doc":"Given a list of `{{@type}}`s, returns the smallest shape array in which any one of those `{{@type}}s` can be contained.\nTODO: Example","summary":"<p>Given a list of <code>{{@type}}</code>s, returns the smallest shape array in which any one of those <code>{{@type}}s</code> can be contained.</p>","abstract":false,"args":[{"name":"objects","external_name":"objects","restriction":""}],"args_string":"(*objects)","args_html":"(*objects)","location":{"filename":"src/n_array.cr","line_number":501,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L501"},"def":{"name":"common_container","args":[{"name":"objects","external_name":"objects","restriction":""}],"splat_index":0,"visibility":"Public","body":"shapes = objects.to_a.map do |x|\n  x.shape\nend\nmax_dimension = (shapes.map(&.size)).max\ncontainer = (0...max_dimension).map do |dim_idx|\n  sizes_in_dim = shapes.map do |shape|\n    shape[dim_idx]?\n  end\n  sizes_in_dim.compact.max\nend\ncontainer\n"}},{"html_id":"compatible?(*narrs:MultiIndexable,axis=-1):Bool-class-method","name":"compatible?","doc":"Checks that the shape of this and other match in every dimension\n(except `axis`, if it is specified)","summary":"<p>Checks that the shape of this and other match in every dimension (except <code>axis</code>, if it is specified)</p>","abstract":false,"args":[{"name":"narrs","external_name":"narrs","restriction":"MultiIndexable"},{"name":"axis","default_value":"-1","external_name":"axis","restriction":""}],"args_string":"(*narrs : MultiIndexable, axis = -1) : Bool","args_html":"(*narrs : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>, axis = <span class=\"n\">-1</span>) : Bool","location":{"filename":"src/n_array.cr","line_number":524,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L524"},"def":{"name":"compatible?","args":[{"name":"narrs","external_name":"narrs","restriction":"MultiIndexable"},{"name":"axis","default_value":"-1","external_name":"axis","restriction":""}],"splat_index":0,"return_type":"Bool","visibility":"Public","body":"first = narrs.to_a.pop\nfirst.compatible?(narrs, axis: axis)\n"}},{"html_id":"concatenate(*narrs:MultiIndexable(T),axis=0):NArray(T)-class-method","name":"concatenate","abstract":false,"args":[{"name":"narrs","external_name":"narrs","restriction":"MultiIndexable(T)"},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(*narrs : MultiIndexable(T), axis = 0) : NArray(T)","args_html":"(*narrs : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T), axis = <span class=\"n\">0</span>) : <a href=\"../Phase/NArray.html\">NArray</a>(T)","location":{"filename":"src/n_array.cr","line_number":568,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L568"},"def":{"name":"concatenate","args":[{"name":"narrs","external_name":"narrs","restriction":"MultiIndexable(T)"},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"splat_index":0,"return_type":"NArray(T)","visibility":"Public","body":"self.new(*(self.concatenate_to_slice(*narrs, axis: axis)))"}},{"html_id":"fill(shape,value:T)-class-method","name":"fill","doc":"Fills an `{{@type}}` of given shape with a specified value.\nFor example, to create a zero vector:\n```\n{{@type}}.fill([3, 1], 0)\n```\nWill produce\n```text\n[[0],\n [0],\n [0]]\n```\nNote that this method makes no effort to duplicate *value*, so this should only be used\nfor `Struct`s. If you want to populate an {{@type}} with `Object`s, see `new(shape, &block)`.","summary":"<p>Fills an <code>{{@type}}</code> of given shape with a specified value.</p>","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":""},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(shape, value : T)","args_html":"(shape, value : T)","location":{"filename":"src/n_array.cr","line_number":175,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L175"},"def":{"name":"fill","args":[{"name":"shape","external_name":"shape","restriction":""},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"({{ @type }}).new(shape) do\n  value\nend"}},{"html_id":"of_buffer(shape:Array(Int32),buffer:Slice(T))-class-method","name":"of_buffer","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":"Array(Int32)"},{"name":"buffer","external_name":"buffer","restriction":"Slice(T)"}],"args_string":"(shape : Array(Int32), buffer : Slice(T))","args_html":"(shape : Array(Int32), buffer : Slice(T))","location":{"filename":"src/n_array.cr","line_number":67,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L67"},"def":{"name":"of_buffer","args":[{"name":"shape","external_name":"shape","restriction":"Array(Int32)"},{"name":"buffer","external_name":"buffer","restriction":"Slice(T)"}],"visibility":"Public","body":"NArray.ensure_valid(shape, buffer)\nnew(shape.dup, buffer)\n"}},{"html_id":"tile(narr:MultiIndexable(T),counts:Enumerable)-class-method","name":"tile","abstract":false,"args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(T)"},{"name":"counts","external_name":"counts","restriction":"Enumerable"}],"args_string":"(narr : MultiIndexable(T), counts : Enumerable)","args_html":"(narr : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T), counts : Enumerable)","location":{"filename":"src/n_array.cr","line_number":180,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L180"},"def":{"name":"tile","args":[{"name":"narr","external_name":"narr","restriction":"MultiIndexable(T)"},{"name":"counts","external_name":"counts","restriction":"Enumerable"}],"visibility":"Public","body":"shape = narr.shape.map_with_index do |axis, idx|\n  axis * counts[idx]\nend\niter = (WrappedLexIterator.new(IndexRegion.cover(shape), narr.shape)).each\nbuild(shape) do\n  iter.next\n  narr.get(iter.smaller_coord)\nend\n"}},{"html_id":"wrap(*objects)-class-method","name":"wrap","doc":"creates an {{@type}}-type vector from a tuple of scalars.","summary":"<p>creates an {{@type}}-type vector from a tuple of scalars.</p>","abstract":false,"args":[{"name":"objects","external_name":"objects","restriction":""}],"args_string":"(*objects)","args_html":"(*objects)","location":{"filename":"src/n_array.cr","line_number":279,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L279"},"def":{"name":"wrap","args":[{"name":"objects","external_name":"objects","restriction":""}],"splat_index":0,"visibility":"Public","body":"NArray.new(objects.to_a)"}}],"constructors":[{"html_id":"new(ctx:YAML::ParseContext,node:YAML::Nodes::Node)-class-method","name":"new","abstract":false,"args":[{"name":"ctx","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","external_name":"node","restriction":"YAML::Nodes::Node"}],"args_string":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","args_html":"(ctx : YAML::ParseContext, node : YAML::Nodes::Node)","location":{"filename":"src/n_array.cr","line_number":716,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L716"},"def":{"name":"new","args":[{"name":"ctx","external_name":"ctx","restriction":"YAML::ParseContext"},{"name":"node","external_name":"node","restriction":"YAML::Nodes::Node"}],"visibility":"Public","body":"if node.is_a?(YAML::Nodes::Mapping)\n  ctx.read_alias(node, self) do |obj|\n    return obj\n  end\n  shape = nil\n  elements = nil\n  (node.nodes.each_with_index.step(2)).each do |child, idx|\n    if child.is_a?(YAML::Nodes::Scalar)\n      case child.value\n      when \"shape\"\n        shape = Array(Int32).new(ctx, node.nodes[idx + 1])\n      when \"elements\"\n        elements_node = node.nodes[idx + 1]\n        if elements_node.is_a?(YAML::Nodes::Sequence)\n          {% if true %}\n                elements = Array({{ @type.type_vars[0] }}).new(ctx, elements_node)\n                {% end %}\n        else\n          raise(YAML::Error.new(\"Could not read NArray from YAML: Expected sequence, found #{elements_node.class}\"))\n        end\n      end\n    else\n      raise(YAML::Error.new(\"Could not read NArray from YAML: Did not expect nested elements\"))\n    end\n  end\n  if shape.nil? || elements.nil?\n  else\n    if elements.size == shape.product\n      elements = Slice.new(elements.to_unsafe, elements.size)\n      ret = new(shape, elements)\n      ctx.record_anchor(node, ret)\n      return ret\n    else\n      raise(YAML::Error.new(\"Could not read NArray from YAML: wrong number of elements for shape #{shape}\"))\n    end\n  end\n  raise(YAML::Error.new(\"Could not read NArray from YAML: 'shape' and/or 'elements' were missing.\"))\nelse\n  raise(YAML::Error.new(\"Could not read NArray from YAML: Expected mapping, found #{node.class}\"))\nend"}},{"html_id":"new(data:Enumerable)-class-method","name":"new","doc":"Creates an `{{@type}}` from a nested array with uniform dimensions.\nFor example:\n```\n{{@type}}.new([[1, 0, 0], [0, 1, 0], [0, 0, 1]])\n```\nWould create the 3x3 identity matrix of type `{{@type}}(Int32)`.\n\nThis constructor will figure out the types of the scalars at the\nbottom of the nested array at compile time, which allows mixing\ndatatypes effortlessly.\nFor example, to create a matrix with 0.5 on the diagonals:\n```\n{{@type}}.new([[0.5, 0, 0], [0, 0.5, 0], [0, 0, 0.5]])\n```\nThis may seem trivial, but note that the `0.5`s are implicit\n`Float32` literals, whereas the `0`s are implicit `Int32` literals.\nSo, the type returned by that example will actually be an `{{@type}}(Float32 | Int32)`.\nThis also works for more disorganized examples:\n```\n{{@type}}.new([[\"We can mix types\", 2, :do], [\"C\", 0.0, \"l stuff.\"]])\n```\nThe above line will create an `{{@type}}(String | Int32 | Symbol | Float32)`.\n\nWhen a nested array with non-uniform dimensions is passed, this method will\nraise a `DimensionError`.\nFor example:\n```\n{{@type}}.new([[1], [1, 2]]) # => DimensionError\n```","summary":"<p>Creates an <code>{{@type}}</code> from a nested array with uniform dimensions.</p>","abstract":false,"args":[{"name":"data","external_name":"data","restriction":"Enumerable"}],"args_string":"(data : Enumerable)","args_html":"(data : Enumerable)","location":{"filename":"src/n_array.cr","line_number":144,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L144"},"def":{"name":"new","args":[{"name":"data","external_name":"data","restriction":"Enumerable"}],"visibility":"Public","body":"nested_array = data.to_a\nshape = measure_nested_array(nested_array)\nflattened = nested_array.flatten\nbuffer = Slice.new(flattened.to_unsafe, flattened.size)\nNArray.ensure_valid(shape, buffer)\nnew(shape, buffer)\n"}},{"html_id":"new(pull:JSON::PullParser)-class-method","name":"new","abstract":false,"args":[{"name":"pull","external_name":"pull","restriction":"JSON::PullParser"}],"args_string":"(pull : JSON::PullParser)","args_html":"(pull : JSON::PullParser)","location":{"filename":"src/n_array.cr","line_number":665,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L665"},"def":{"name":"new","args":[{"name":"pull","external_name":"pull","restriction":"JSON::PullParser"}],"visibility":"Public","body":"{% if true %}\n        shape = [] of Int32\n        elements = [] of {{ @type.type_vars[0] }}\n\n        found_shape = false\n        found_elements = false\n\n        pull.read_object do |key, key_loc|\n          case key\n          when \"shape\"\n            found_shape = true\n            pull.read_array do\n              shape << pull.read?(Int32).not_nil!\n            end\n          when \"elements\"\n            pull.read_array do\n              found_elements = true\n              elements << {{ @type.type_vars[0] }}.new(pull)\n            end\n          end\n        end\n\n        if found_shape && found_elements\n          if shape.product == elements.size\n            buffer = Slice.new(elements.to_unsafe, elements.size)\n            return new(shape, buffer)\n          else\n            raise JSON::Error.new(\"Could not read NArray from YAML: wrong number of elements for shape #{shape}\")\n          end\n        else\n          raise JSON::Error.new(\"Could not read NArray from YAML: 'shape' and/or 'elements' were missing.\")\n        end\n        {% end %}"}},{"html_id":"wrap(*objects:AbstractNArray(T),pad=false):NArray-class-method","name":"wrap","doc":"Adds a dimension at highest level, where each \"row\" is an input {{@type}}.\nIf pad is false, then throw error if shapes of objects do not match;\notherwise, pad subarrays along each axis to match whichever is largest in that axis","summary":"<p>Adds a dimension at highest level, where each &quot;row&quot; is an input {{@type}}.</p>","abstract":false,"args":[{"name":"objects","external_name":"objects","restriction":"AbstractNArray(T)"},{"name":"pad","default_value":"false","external_name":"pad","restriction":""}],"args_string":"(*objects : AbstractNArray(T), pad = false) : NArray","args_html":"(*objects : AbstractNArray(T), pad = <span class=\"n\">false</span>) : <a href=\"../Phase/NArray.html\">NArray</a>","location":{"filename":"src/n_array.cr","line_number":257,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L257"},"def":{"name":"wrap","args":[{"name":"objects","external_name":"objects","restriction":"AbstractNArray(T)"},{"name":"pad","default_value":"false","external_name":"pad","restriction":""}],"splat_index":0,"return_type":"NArray","visibility":"Public","body":"shapes = objects.to_a.map do |x|\n  x.shape\nend\nif pad\n  container = common_container(*objects)\n  raise(NotImplementedError.new(\"As of this time, {{@type}}.wrap() cannot pad arrays for you. Come back after reshaping has been implemented, or get off the couch and go do it yourself.\"))\nelse\n  container = shapes[0]\n  if shapes.any? do |shape|\n    shape != container\n  end\n    raise(DimensionError.new(\"Cannot wrap these arrays: shapes do not match. Pass argument pad:true if you want to reshape arrays as necessary.\"))\n  end\nend\ncontainer.insert(0, objects.size)\ncombined_buffer = objects.reduce([] of T) do |memo, i|\n  memo.concat(i.buffer.to_a)\nend\nNArray(T).new(container) do |i|\n  combined_buffer[i]\nend\n"}}],"instance_methods":[{"html_id":"<<(other:self):self-instance-method","name":"<<","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"self"}],"args_string":"(other : self) : self","args_html":"(other : <span class=\"k\">self</span>) : <span class=\"k\">self</span>","location":{"filename":"src/n_array.cr","line_number":529,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L529"},"def":{"name":"<<","args":[{"name":"other","external_name":"other","restriction":"self"}],"return_type":"self","visibility":"Public","body":"push(other)"}},{"html_id":"==(other:MultiIndexable):Bool-instance-method","name":"==","doc":"Checks for elementwise equality between `self` and *other*.","summary":"<p>Checks for elementwise equality between <code>self</code> and <em>other</em>.</p>","abstract":false,"args":[{"name":"other","external_name":"other","restriction":"MultiIndexable"}],"args_string":"(other : MultiIndexable) : Bool","args_html":"(other : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>) : Bool","location":{"filename":"src/n_array.cr","line_number":355,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L355"},"def":{"name":"==","args":[{"name":"other","external_name":"other","restriction":"MultiIndexable"}],"return_type":"Bool","visibility":"Public","body":"equals?(other) do |x, y|\n  x == y\nend"}},{"html_id":"[]=(bool_mask:NArray(Bool),value:T)-instance-method","name":"[]=","doc":"replaces all values in a boolean mask with a given value","summary":"<p>replaces all values in a boolean mask with a given value</p>","abstract":false,"args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"NArray(Bool)"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(bool_mask : NArray(Bool), value : T)","args_html":"(bool_mask : <a href=\"../Phase/NArray.html\">NArray</a>(Bool), value : T)","location":{"filename":"src/n_array.cr","line_number":420,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L420"},"def":{"name":"[]=","args":[{"name":"bool_mask","external_name":"bool_mask","restriction":"NArray(Bool)"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"if bool_mask.shape != @shape\n  raise(DimensionError.new(\"Cannot perform masking: mask shape does not match array shape.\"))\nend\nbool_mask.buffer.each_with_index do |bool_val, idx|\n  if bool_val\n    @buffer[idx] = value\n  end\nend\n"}},{"html_id":"buffer:Slice(T)-instance-method","name":"buffer","doc":"Stores the elements of an `{{@type}}` in lexicographic (row-major) order.","summary":"<p>Stores the elements of an <code>{{@type}}</code> in lexicographic (row-major) order.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":20,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L20"},"def":{"name":"buffer","return_type":"Slice(T)","visibility":"Public","body":"@buffer"}},{"html_id":"clone:self-instance-method","name":"clone","doc":"Creates a deep copy of this {{@type}};\nAllocates a new buffer of the same shape, and calls #clone on every item in the buffer.","summary":"<p>Creates a deep copy of this {{@type}}; Allocates a new buffer of the same shape, and calls #clone on every item in the buffer.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":299,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L299"},"def":{"name":"clone","return_type":"self","visibility":"Public","body":"({{ @type }}).new(@shape, @buffer.clone)"}},{"html_id":"compatible?(*others:MultiIndexable,axis=-1):Bool-instance-method","name":"compatible?","doc":"Checks that the shape of this and other match in every dimension\n(except `axis`, if it is specified)","summary":"<p>Checks that the shape of this and other match in every dimension (except <code>axis</code>, if it is specified)</p>","abstract":false,"args":[{"name":"others","external_name":"others","restriction":"MultiIndexable"},{"name":"axis","default_value":"-1","external_name":"axis","restriction":""}],"args_string":"(*others : MultiIndexable, axis = -1) : Bool","args_html":"(*others : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>, axis = <span class=\"n\">-1</span>) : Bool","location":{"filename":"src/n_array.cr","line_number":513,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L513"},"def":{"name":"compatible?","args":[{"name":"others","external_name":"others","restriction":"MultiIndexable"},{"name":"axis","default_value":"-1","external_name":"axis","restriction":""}],"splat_index":0,"return_type":"Bool","visibility":"Public","body":"shape.each_with_index do |dim, idx|\n  others.each do |narr|\n    if (dim != narr.shape[idx]) && (idx != axis)\n      return false\n    end\n  end\nend\ntrue\n"}},{"html_id":"concatenate(*others,axis=0):self-instance-method","name":"concatenate","abstract":false,"args":[{"name":"others","external_name":"others","restriction":""},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(*others, axis = 0) : self","args_html":"(*others, axis = <span class=\"n\">0</span>) : <span class=\"k\">self</span>","location":{"filename":"src/n_array.cr","line_number":558,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L558"},"def":{"name":"concatenate","args":[{"name":"others","external_name":"others","restriction":""},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"splat_index":0,"return_type":"self","visibility":"Public","body":"NArray.new(*(NArray(T).concatenate_to_slice(self, *others, axis: axis)))"}},{"html_id":"concatenate!(*others,axis=0):self-instance-method","name":"concatenate!","abstract":false,"args":[{"name":"others","external_name":"others","restriction":""},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(*others, axis = 0) : self","args_html":"(*others, axis = <span class=\"n\">0</span>) : <span class=\"k\">self</span>","location":{"filename":"src/n_array.cr","line_number":562,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L562"},"def":{"name":"concatenate!","args":[{"name":"others","external_name":"others","restriction":""},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"splat_index":0,"return_type":"self","visibility":"Public","body":"@shape, @buffer = NArray(T).concatenate_to_slice(self, *others, axis: axis)\n@axis_strides = BufferUtil.axis_strides(@shape)\nself\n"}},{"html_id":"dup:self-instance-method","name":"dup","doc":"Creates a shallow copy of this {{@type}};\nAllocates a new buffer of the same shape, and duplicates every item in the buffer.","summary":"<p>Creates a shallow copy of this {{@type}}; Allocates a new buffer of the same shape, and duplicates every item in the buffer.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":305,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L305"},"def":{"name":"dup","return_type":"self","visibility":"Public","body":"({{ @type }}).new(@shape, @buffer.dup)"}},{"html_id":"each-instance-method","name":"each","doc":"The default \"each\" with no iterator type passed is lexicographic.\nFor other orders, default to MultiIndexable's implementation.","summary":"<p>The default &quot;each&quot; with no iterator type passed is lexicographic.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":436,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L436"},"def":{"name":"each","visibility":"Public","body":"@buffer.each"}},{"html_id":"each_coord-instance-method","name":"each_coord","doc":"Returns an iterator that will yield each coordinate of `self` in lexicographic (row-major) order.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\niter = narr.each_coord\niter.next # => [0, 0]\niter.next # => [0, 1]\niter.next # => [0, 2]\niter.next # => [1, 0]\niter.next # => [1, 1]\niter.next # => [1, 2]\niter.next # => Iterator::Stop\n```","summary":"<p>Returns an iterator that will yield each coordinate of <code>self</code> in lexicographic (row-major) order.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":444,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L444"},"def":{"name":"each_coord","visibility":"Public","body":"IndexedLexIterator.cover(shape_internal)"}},{"html_id":"each_with_coord(iter:IndexedCoordIterator(I))forallI-instance-method","name":"each_with_coord","abstract":false,"args":[{"name":"iter","external_name":"iter","restriction":"IndexedCoordIterator(I)"}],"args_string":"(iter : IndexedCoordIterator(I)) forall I","args_html":"(iter : <a href=\"../Phase/NArray/BufferUtil/IndexedCoordIterator.html\">IndexedCoordIterator</a>(I)) forall I","location":{"filename":"src/n_array.cr","line_number":448,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L448"},"def":{"name":"each_with_coord","args":[{"name":"iter","external_name":"iter","restriction":"IndexedCoordIterator(I)"}],"visibility":"Public","body":"BufferedECIterator.new(self, iter)"}},{"html_id":"each_with_index(&block:T,Int32->)-instance-method","name":"each_with_index","doc":"Iterates over the collection, yielding both the elements and their index.\n\n```\n[\"Alice\", \"Bob\"].each_with_index do |user, i|\n  puts \"User ##{i}: #{user}\"\nend\n```\n\nPrints:\n\n```text\nUser # 0: Alice\nUser # 1: Bob\n```\n\nAccepts an optional *offset* parameter, which tells it to start counting\nfrom there. So, a more human friendly version of the previous snippet would be:\n\n```\n[\"Alice\", \"Bob\"].each_with_index(1) do |user, i|\n  puts \"User ##{i}: #{user}\"\nend\n```\n\nWhich would print:\n\n```text\nUser # 1: Alice\nUser # 2: Bob\n```","summary":"<p>Iterates over the collection, yielding both the elements and their index.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":452,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L452"},"def":{"name":"each_with_index","yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T, Int32 ->)"},"visibility":"Public","body":"@buffer.each_with_index do |elem, idx|\n  yield elem, idx\nend"}},{"html_id":"fast-instance-method","name":"fast","doc":"Returns an Iterator over the elements in this `MultiIndexable` that will iterate in the fastest order possible.\nFor most implementations, it is very likely that `#each` will be just as fast.\nHowever, certain implementations of `MultiIndexable` may have substantial\nperformance differences. As a rule of thumb, this method is only worth using\nif the `MultiIndexable` you call it on explicitly mentions that you should.\n\n```crystal\nNArray[1, 2, 3].fast.each do |el|\n  # ...\nend\n```","summary":"<p>Returns an Iterator over the elements in this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> that will iterate in the fastest order possible.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":440,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L440"},"def":{"name":"fast","visibility":"Public","body":"@buffer.each"}},{"html_id":"fit(new_shape,*,align:Hash(Int32,NArray::Alignment|Int32))-instance-method","name":"fit","doc":"This version requires you are only <= on each axis; cannot pad","summary":"<p>This version requires you are only &lt;= on each axis; cannot pad</p>","abstract":false,"args":[{"name":"new_shape","external_name":"new_shape","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"align","external_name":"align","restriction":"Hash(Int32, NArray::Alignment | Int32)"}],"args_string":"(new_shape, *, align : Hash(Int32, NArray::Alignment | Int32))","args_html":"(new_shape, *, align : Hash(Int32, NArray::Alignment | Int32))","location":{"filename":"src/n_array.cr","line_number":206,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L206"},"def":{"name":"fit","args":[{"name":"new_shape","external_name":"new_shape","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"align","external_name":"align","restriction":"Hash(Int32, NArray::Alignment | Int32)"}],"splat_index":1,"visibility":"Public","body":"@shape.each_with_index do |size, idx|\n  if size > new_shape[idx]\n  end\nend\nraise(\"Can't fit array: provided shape is larger that shape of self. Provide a `pad_with` argument if padding is desired.\")\nreturn self.unsafe_fetch_chunk(region)\n"}},{"html_id":"fit(new_shape,*,align:Hash(Int32,NArray::Alignment|Int32)?=nil,pad_withvalue=nil)-instance-method","name":"fit","abstract":false,"args":[{"name":"new_shape","external_name":"new_shape","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"align","default_value":"nil","external_name":"align","restriction":"Hash(Int32, NArray::Alignment | Int32) | ::Nil"},{"name":"value","default_value":"nil","external_name":"pad_with","restriction":""}],"args_string":"(new_shape, *, align : Hash(Int32, NArray::Alignment | Int32)? = nil, pad_with value = nil)","args_html":"(new_shape, *, align : Hash(Int32, NArray::Alignment | Int32)? = <span class=\"n\">nil</span>, pad_with value = <span class=\"n\">nil</span>)","location":{"filename":"src/n_array.cr","line_number":223,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L223"},"def":{"name":"fit","args":[{"name":"new_shape","external_name":"new_shape","restriction":""},{"name":"","external_name":"","restriction":""},{"name":"align","default_value":"nil","external_name":"align","restriction":"Hash(Int32, NArray::Alignment | Int32) | ::Nil"},{"name":"value","default_value":"nil","external_name":"pad_with","restriction":""}],"splat_index":1,"visibility":"Public","body":"if new_shape.size != @shape.size\n  raise(\"Cannot fit a #{@shape.size} dimensional {{@type}} into a #{new_shape.size} dimensional shape. Consider calling `reshape` if you wish to change dimensionality.\")\nend"}},{"html_id":"fit!-instance-method","name":"fit!","abstract":false,"location":{"filename":"src/n_array.cr","line_number":233,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L233"},"def":{"name":"fit!","visibility":"Public","body":""}},{"html_id":"flatten:self-instance-method","name":"flatten","abstract":false,"location":{"filename":"src/n_array.cr","line_number":335,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L335"},"def":{"name":"flatten","return_type":"self","visibility":"Public","body":"reshape(@buffer.size)"}},{"html_id":"map(&block:T->U)forallU-instance-method","name":"map","doc":"Returns a `MultiIndexable` with the results of running the block against each element of `self`.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\nres = narr.map { |el| el.to_s } # => NArray[[\"1\", \"2\", \"3\"], [\"4\", \"5\", \"6\"]]\n```","summary":"<p>Returns a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> with the results of running the block against each element of <code>self</code>.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":458,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L458"},"def":{"name":"map","yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> U)"},"visibility":"Public","body":"map_with_index do |elem|\n  yield elem\nend"}},{"html_id":"map!(&block:T->T):self-instance-method","name":"map!","doc":"TODO docs, test","summary":"<p><span class=\"flag orange\">TODO</span>  docs, test</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":477,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L477"},"def":{"name":"map!","yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> T)"},"return_type":"self","visibility":"Public","body":"map_with_index! do |elem|\n  yield elem\nend\nself\n"}},{"html_id":"map_with_coord(&block:T,Array(Int32),Int32->U)forallU-instance-method","name":"map_with_coord","doc":"Returns a `MultiIndexable` with the results of running the block against each element and coordinate comprising `self`.\n\n```crystal\nnarr = NArray[[1, 2, 3], [4, 5, 6]]\nnarr.map_with_coord do |el, coord|\n  el + coord.sum\nend # => NArray[[1, 3, 5], [5, 7, 9]]\n```","summary":"<p>Returns a <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code> with the results of running the block against each element and coordinate comprising <code>self</code>.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":471,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L471"},"def":{"name":"map_with_coord","yields":3,"block_arg":{"name":"block","external_name":"block","restriction":"(T, Array(Int32), Int32 -> U)"},"visibility":"Public","body":"NArray(U).build(@shape) do |coord, idx|\n  yield @buffer[idx], coord, idx\nend"}},{"html_id":"map_with_coord!(&block:T,Array(Int32),Int32->T):self-instance-method","name":"map_with_coord!","doc":"TODO docs\nDISCUSS is this good behaviour?","summary":"<p><span class=\"flag orange\">TODO</span>  docs DISCUSS is this good behaviour?</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":491,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L491"},"def":{"name":"map_with_coord!","yields":3,"block_arg":{"name":"block","external_name":"block","restriction":"(T, Array(Int32), Int32 -> T)"},"return_type":"self","visibility":"Public","body":"iter = LexIterator.cover(shape_internal)\n@buffer.map_with_index! do |el, idx|\n  yield el, iter.unsafe_next, idx\nend\nself\n"}},{"html_id":"map_with_index(&block:T,Int32->U)forallU-instance-method","name":"map_with_index","doc":"Like `map`, but the block gets passed both the element and its index.\n\n```\n[\"Alice\", \"Bob\"].map_with_index { |name, i| \"User ##{i}: #{name}\" }\n# => [\"User #0: Alice\", \"User #1: Bob\"]\n```\n\nAccepts an optional *offset* parameter, which tells it to start counting\nfrom there.","summary":"<p>Like <code><a href=\"../Phase/NArray.html#map%28%26block%3AT-%3EU%29forallU-instance-method\">#map</a></code>, but the block gets passed both the element and its index.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":464,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L464"},"def":{"name":"map_with_index","yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T, Int32 -> U)"},"visibility":"Public","body":"new_buffer = @buffer.map_with_index do |elem, idx|\n  yield elem, idx\nend\nNArray.new(@shape.clone, new_buffer)\n"}},{"html_id":"map_with_index!(&block:T,Int32->T):self-instance-method","name":"map_with_index!","abstract":false,"location":{"filename":"src/n_array.cr","line_number":484,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L484"},"def":{"name":"map_with_index!","yields":2,"block_arg":{"name":"block","external_name":"block","restriction":"(T, Int32 -> T)"},"return_type":"self","visibility":"Public","body":"@buffer.map_with_index! do |elem, idx|\n  yield elem, idx\nend\nself\n"}},{"html_id":"pad(value,amounts:Hash(Int32,Tuple(Int32,Int32)))-instance-method","name":"pad","doc":"core\npad(0, {0 => {2, 2}, 1 => {3, 4}, -1 => {0, 5}})","summary":"<p>core pad(0, {0 =&gt; {2, 2}, 1 =&gt; {3, 4}, -1 =&gt; {0, 5}})</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":""},{"name":"amounts","external_name":"amounts","restriction":"Hash(Int32, Tuple(Int32, Int32))"}],"args_string":"(value, amounts : Hash(Int32, Tuple(Int32, Int32)))","args_html":"(value, amounts : Hash(Int32, Tuple(Int32, Int32)))","location":{"filename":"src/n_array.cr","line_number":197,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L197"},"def":{"name":"pad","args":[{"name":"value","external_name":"value","restriction":""},{"name":"amounts","external_name":"amounts","restriction":"Hash(Int32, Tuple(Int32, Int32))"}],"visibility":"Public","body":"fit()"}},{"html_id":"pad!-instance-method","name":"pad!","abstract":false,"location":{"filename":"src/n_array.cr","line_number":230,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L230"},"def":{"name":"pad!","visibility":"Public","body":""}},{"html_id":"push(*others:self,axis=0):self-instance-method","name":"push","doc":"optimization for pushing other NArrays on axis 0, in-place","summary":"<p>optimization for pushing other NArrays on axis 0, in-place</p>","abstract":false,"args":[{"name":"others","external_name":"others","restriction":"self"},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(*others : self, axis = 0) : self","args_html":"(*others : <span class=\"k\">self</span>, axis = <span class=\"n\">0</span>) : <span class=\"k\">self</span>","location":{"filename":"src/n_array.cr","line_number":534,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L534"},"def":{"name":"push","args":[{"name":"others","external_name":"others","restriction":"self"},{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"splat_index":0,"return_type":"self","visibility":"Public","body":"if !(compatible?(*others, axis: axis))\n  raise(DimensionError.new(\"Cannot concatenate these arrays along axis #{axis}: shapes do not match\"))\nend\nconcat_size = size + others.sum(&.size)\nfull_ptr = Pointer(T).malloc(concat_size)\nfull_ptr.move_from(@buffer.to_unsafe, size)\nptr = full_ptr + size\nothers.each do |narr|\n  ptr.move_from(narr.buffer.to_unsafe, narr.size)\n  ptr = ptr + narr.size\nend\n@shape[0] = @shape[0] + others.sum do |narr|\n  narr.shape[0]\nend\n@buffer = Slice.new(full_ptr, concat_size)\nself\n"}},{"html_id":"reshape(new_shape:Enumerable)-instance-method","name":"reshape","abstract":false,"args":[{"name":"new_shape","external_name":"new_shape","restriction":"Enumerable"}],"args_string":"(new_shape : Enumerable)","args_html":"(new_shape : Enumerable)","location":{"filename":"src/n_array.cr","line_number":339,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L339"},"def":{"name":"reshape","args":[{"name":"new_shape","external_name":"new_shape","restriction":"Enumerable"}],"visibility":"Public","body":"shape_arr = new_shape.to_a\nNArray.ensure_valid(shape_arr, @buffer)\n({{ @type }}).new(shape_arr, @buffer)\n"}},{"html_id":"reshape(*splat)-instance-method","name":"reshape","abstract":false,"args":[{"name":"splat","external_name":"splat","restriction":""}],"args_string":"(*splat)","args_html":"(*splat)","location":{"filename":"src/n_array.cr","line_number":345,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L345"},"def":{"name":"reshape","args":[{"name":"splat","external_name":"splat","restriction":""}],"splat_index":0,"visibility":"Public","body":"reshape(splat)"}},{"html_id":"scalar?:Bool-instance-method","name":"scalar?","doc":"Checks that the array is a 1-vector (a \"zero-dimensional\" {{@type}})","summary":"<p>Checks that the array is a 1-vector (a &quot;zero-dimensional&quot; {{@type}})</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":350,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L350"},"def":{"name":"scalar?","return_type":"Bool","visibility":"Public","body":"(@shape.size == 1) && (@shape[0] == 1)"}},{"html_id":"shape:Array(Int32)-instance-method","name":"shape","doc":"Returns the number of elements in each axis of the `{{@type}}`.\nMore explicitly, axis *k* contains `shape[k]` elements.","summary":"<p>Returns the number of elements in each axis of the <code>{{@type}}</code>.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":289,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L289"},"def":{"name":"shape","return_type":"Array(Int32)","visibility":"Public","body":"@shape.clone"}},{"html_id":"size:Int32-instance-method","name":"size","doc":"Returns the number of elements in the `{{@type}}`; equal to `shape.product`.","summary":"<p>Returns the number of elements in the <code>{{@type}}</code>; equal to <code>shape.product</code>.</p>","abstract":false,"location":{"filename":"src/n_array.cr","line_number":293,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L293"},"def":{"name":"size","return_type":"Int32","visibility":"Public","body":"@buffer.size"}},{"html_id":"slices(axis=0):Array(T)-instance-method","name":"slices","doc":"Returns an Indexable collection of the slices returned by `#each_slice`.","summary":"<p>Returns an Indexable collection of the slices returned by <code>#each_slice</code>.</p>","abstract":false,"args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"args_string":"(axis = 0) : Array(T)","args_html":"(axis = <span class=\"n\">0</span>) : Array(T)","location":{"filename":"src/n_array.cr","line_number":309,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L309"},"def":{"name":"slices","args":[{"name":"axis","default_value":"0","external_name":"axis","restriction":""}],"return_type":"Array(T)","visibility":"Public","body":"previous_def(axis)"}},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/n_array.cr","line_number":653,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L653"},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.scalar(\"shape\")\n  @shape.to_json(json)\n  json.scalar(\"elements\")\n  json.array do\n    @buffer.each(&.to_json(json))\n  end\nend"}},{"html_id":"to_yaml(yaml:YAML::Nodes::Builder)-instance-method","name":"to_yaml","abstract":false,"args":[{"name":"yaml","external_name":"yaml","restriction":"YAML::Nodes::Builder"}],"args_string":"(yaml : YAML::Nodes::Builder)","args_html":"(yaml : YAML::Nodes::Builder)","location":{"filename":"src/n_array.cr","line_number":701,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L701"},"def":{"name":"to_yaml","args":[{"name":"yaml","external_name":"yaml","restriction":"YAML::Nodes::Builder"}],"visibility":"Public","body":"yaml.mapping do\n  yaml.scalar(\"shape\")\n  yaml.sequence(style: YAML::SequenceStyle::FLOW) do\n    @shape.each(&.to_yaml(yaml))\n  end\n  yaml.scalar(\"elements\")\n  style = T < Number::Primitive ? YAML::SequenceStyle::FLOW : YAML::SequenceStyle::BLOCK\n  yaml.sequence(style: style) do\n    @buffer.each(&.to_yaml(yaml))\n  end\nend"}},{"html_id":"unsafe_fetch_chunk(region:IndexRegion)-instance-method","name":"unsafe_fetch_chunk","doc":"Copies the elements in `region` to a new `{{@type}}`, assuming that `region` is in canonical form and in-bounds for this `{{@type}}`.\nFor full specification of canonical form see `IndexRegion` documentation.","summary":"<p>Copies the elements in <code>region</code> to a new <code>{{@type}}</code>, assuming that <code>region</code> is in canonical form and in-bounds for this <code>{{@type}}</code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"args_string":"(region : IndexRegion)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>)","location":{"filename":"src/n_array.cr","line_number":361,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L361"},"def":{"name":"unsafe_fetch_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"}],"visibility":"Public","body":"iter = BufferedECIterator.new(self, IndexedLexIterator.new(region, @shape))\n(typeof(self)).new(region.shape) do\n  iter.unsafe_next_value\nend\n"}},{"html_id":"unsafe_fetch_element(coord):T-instance-method","name":"unsafe_fetch_element","doc":"Retrieves the element specified by `coord`, assuming that `coord` is in canonical form and in-bounds for this `{{@type}}`.\nFor full specification of canonical form see `IndexRegion` documentation.","summary":"<p>Retrieves the element specified by <code>coord</code>, assuming that <code>coord</code> is in canonical form and in-bounds for this <code>{{@type}}</code>.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord) : T","args_html":"(coord) : T","location":{"filename":"src/n_array.cr","line_number":368,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L368"},"def":{"name":"unsafe_fetch_element","args":[{"name":"coord","external_name":"coord","restriction":""}],"return_type":"T","visibility":"Public","body":"@buffer.unsafe_fetch(BufferUtil.coord_to_index_fast(coord, @shape, @axis_strides))"}},{"html_id":"unsafe_set_chunk(region:IndexRegion,src:MultiIndexable(T))-instance-method","name":"unsafe_set_chunk","doc":"Copies the elements from a MultiIndexable `src` into `region`, assuming that `region` is in canonical form and in-bounds for this `{{type}}`\nand the shape of `region` matches the shape of `src`.","summary":"<p>Copies the elements from a MultiIndexable <code>src</code> into <code>region</code>, assuming that <code>region</code> is in canonical form and in-bounds for this <code>{{type}}</code> and the shape of <code>region</code> matches the shape of <code>src</code>.</p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"args_string":"(region : IndexRegion, src : MultiIndexable(T))","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, src : <a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a>(T))","location":{"filename":"src/n_array.cr","line_number":397,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L397"},"def":{"name":"unsafe_set_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"src","external_name":"src","restriction":"MultiIndexable(T)"}],"visibility":"Public","body":"absolute_iter = IndexedLexIterator.new(region, @shape)\nsrc_iter = src.each\nsrc_iter.each do |src_el|\n  absolute_iter.next\n  @buffer[absolute_iter.current_index] = src_el\nend\n"}},{"html_id":"unsafe_set_chunk(region:IndexRegion,value:T)-instance-method","name":"unsafe_set_chunk","doc":"Sets each element in `region` to `value`, assuming that `region` is in canonical form and in-bounds for this `{{type}}`","summary":"<p>Sets each element in <code>region</code> to <code>value</code>, assuming that <code>region</code> is in canonical form and in-bounds for this <code>{{type}}</code></p>","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(region : IndexRegion, value : T)","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, value : T)","location":{"filename":"src/n_array.cr","line_number":408,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L408"},"def":{"name":"unsafe_set_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"iter = IndexedLexIterator.new(region, @shape)\niter.each do\n  @buffer[iter.current_index] = value\nend\n"}},{"html_id":"unsafe_set_element(coord:Enumerable,value:T)-instance-method","name":"unsafe_set_element","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Enumerable"},{"name":"value","external_name":"value","restriction":"T"}],"args_string":"(coord : Enumerable, value : T)","args_html":"(coord : Enumerable, value : T)","location":{"filename":"src/n_array.cr","line_number":415,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array.cr#L415"},"def":{"name":"unsafe_set_element","args":[{"name":"coord","external_name":"coord","restriction":"Enumerable"},{"name":"value","external_name":"value","restriction":"T"}],"visibility":"Public","body":"@buffer[BufferUtil.coord_to_index_fast(coord, @shape, @axis_strides)] = value"}}],"types":[{"html_id":"ph-core/Phase/NArray/BufferUtil","path":"Phase/NArray/BufferUtil.html","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil","abstract":false,"locations":[{"filename":"src/n_array/buffer_util.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L7"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"ph-core/Phase/NArray","kind":"class","full_name":"Phase::NArray(T)","name":"NArray"}],"namespace":{"html_id":"ph-core/Phase/NArray","kind":"class","full_name":"Phase::NArray(T)","name":"NArray"},"class_methods":[{"html_id":"axis_strides(shape)-class-method","name":"axis_strides","doc":"Given an array of step sizes in each coordinate axis, returns the offset in the buffer\nthat a step of that size represents.\nThe buffer index of a multidimensional coordinate, x, is equal to x dotted with axis_strides","summary":"<p>Given an array of step sizes in each coordinate axis, returns the offset in the buffer that a step of that size represents.</p>","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(shape)","args_html":"(shape)","location":{"filename":"src/n_array/buffer_util.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L12"},"def":{"name":"axis_strides","args":[{"name":"shape","external_name":"shape","restriction":""}],"visibility":"Public","body":"ret = shape.clone\nret[-1] = (typeof(shape[0])).zero + 1\n((ret.size - 2)..0).step(-1) do |idx|\n  ret[idx] = ret[idx + 1] * shape[idx + 1]\nend\nret\n"}},{"html_id":"coord_to_index(coord,shape):Int-class-method","name":"coord_to_index","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(coord, shape) : Int","args_html":"(coord, shape) : Int","location":{"filename":"src/n_array/buffer_util.cr","line_number":29,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L29"},"def":{"name":"coord_to_index","args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"return_type":"Int","visibility":"Public","body":"coord = CoordUtil.canonicalize_coord(coord, shape)\nsteps = axis_strides(shape)\n({{ @type }}).coord_to_index_fast(coord, shape, steps)\n"}},{"html_id":"coord_to_index_fast(coord,shape,axis_strides):Int-class-method","name":"coord_to_index_fast","doc":"Assumes coord is canonical","summary":"<p>Assumes coord is canonical</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""},{"name":"axis_strides","external_name":"axis_strides","restriction":""}],"args_string":"(coord, shape, axis_strides) : Int","args_html":"(coord, shape, axis_strides) : Int","location":{"filename":"src/n_array/buffer_util.cr","line_number":36,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L36"},"def":{"name":"coord_to_index_fast","args":[{"name":"coord","external_name":"coord","restriction":""},{"name":"shape","external_name":"shape","restriction":""},{"name":"axis_strides","external_name":"axis_strides","restriction":""}],"return_type":"Int","visibility":"Public","body":"begin\n  index = (typeof(shape[0])).zero\n  coord.each_with_index do |elem, idx|\n    index = index + (elem * axis_strides[idx])\n  end\n  index\nrescue exception\n  raise(IndexError.new(\"Cannot convert coordinate to index: the given index is out of bounds for this {{@type}} along at least one dimension.\"))\nend"}},{"html_id":"index_to_coord(index,shape):Array-class-method","name":"index_to_coord","doc":"OPTIMIZE: This could (maybe) be improved with use of `axis_strides`","summary":"<p><span class=\"flag green\">OPTIMIZE</span>  This could (maybe) be improved with use of <code><a href=\"../../Phase/NArray/BufferUtil.html#axis_strides%28shape%29-class-method\">.axis_strides</a></code></p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(index, shape) : Array","args_html":"(index, shape) : Array","location":{"filename":"src/n_array/buffer_util.cr","line_number":52,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L52"},"def":{"name":"index_to_coord","args":[{"name":"index","external_name":"index","restriction":""},{"name":"shape","external_name":"shape","restriction":""}],"return_type":"Array","visibility":"Public","body":"if index > shape.product\n  raise(IndexError.new(\"Cannot convert index to coordinate: the given index is out of bounds for this {{@type}} along at least one dimension.\"))\nend\ncoord = shape.dup\nshape.reverse.each_with_index do |length, dim|\n  coord[dim] = index % length\n  index = index // length\nend\ncoord.reverse\n"}}],"instance_methods":[{"html_id":"coord_to_index(coord):Int-instance-method","name":"coord_to_index","doc":"Convert from n-dimensional indexing to a buffer location.","summary":"<p>Convert from n-dimensional indexing to a buffer location.</p>","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord) : Int","args_html":"(coord) : Int","location":{"filename":"src/n_array/buffer_util.cr","line_number":24,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L24"},"def":{"name":"coord_to_index","args":[{"name":"coord","external_name":"coord","restriction":""}],"return_type":"Int","visibility":"Public","body":"coord = CoordUtil.canonicalize_coord(coord, @shape)\n({{ @type }}).coord_to_index_fast(coord, @shape, @axis_strides)\n"}},{"html_id":"index_to_coord(index):Array-instance-method","name":"index_to_coord","doc":"Convert from a buffer location to an n-dimensional coord","summary":"<p>Convert from a buffer location to an n-dimensional coord</p>","abstract":false,"args":[{"name":"index","external_name":"index","restriction":""}],"args_string":"(index) : Array","args_html":"(index) : Array","location":{"filename":"src/n_array/buffer_util.cr","line_number":47,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L47"},"def":{"name":"index_to_coord","args":[{"name":"index","external_name":"index","restriction":""}],"return_type":"Array","visibility":"Public","body":"(typeof(self)).index_to_coord(index, @shape)"}}],"types":[{"html_id":"ph-core/Phase/NArray/BufferUtil/BufferedECIterator","path":"Phase/NArray/BufferUtil/BufferedECIterator.html","kind":"class","full_name":"Phase::NArray::BufferUtil::BufferedECIterator(T, I)","name":"BufferedECIterator","abstract":false,"superclass":{"html_id":"ph-core/Phase/ElemAndCoordIterator","kind":"class","full_name":"Phase::ElemAndCoordIterator","name":"ElemAndCoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/ElemAndCoordIterator","kind":"class","full_name":"Phase::ElemAndCoordIterator","name":"ElemAndCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/n_array/buffer_util.cr","line_number":145,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L145"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase/NArray/BufferUtil","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil"},"doc":"TODO: this should probably have S be a type parameter because it\ndoesn't actually work for all MultiIndexables","summary":"<p><span class=\"flag orange\">TODO</span>  this should probably have S be a type parameter because it doesn't actually work for all MultiIndexables</p>","class_methods":[{"html_id":"of(src,iter:CoordIterator(I))-class-method","name":"of","doc":"This is needed here to prevent the method below (def self.of(src, region = nil)) from taking priority","summary":"<p>This is needed here to prevent the method below (def self.of(src, region = nil)) from taking priority</p>","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"args_string":"(src, iter : CoordIterator(I))","args_html":"(src, iter : <a href=\"../../../Phase/CoordIterator.html\">CoordIterator</a>(I))","location":{"filename":"src/n_array/buffer_util.cr","line_number":147,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L147"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":""},{"name":"iter","external_name":"iter","restriction":"CoordIterator(I)"}],"visibility":"Public","body":"new(src, iter)"}},{"html_id":"of(src,region=nil)-class-method","name":"of","doc":"Overridden to replace default iterator type","summary":"<p>Overridden to replace default iterator type</p>","abstract":false,"args":[{"name":"src","external_name":"src","restriction":""},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"args_string":"(src, region = nil)","args_html":"(src, region = <span class=\"n\">nil</span>)","location":{"filename":"src/n_array/buffer_util.cr","line_number":152,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L152"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":""},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"visibility":"Public","body":"if region.nil?\n  iter = IndexedLexIterator.cover(src.shape)\nelse\n  iter = IndexedLexIterator.new(region, src.shape)\nend\nnew(src, iter)\n"}}],"instance_methods":[{"html_id":"next_value:T|Stop-instance-method","name":"next_value","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":174,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L174"},"def":{"name":"next_value","return_type":"T | Stop","visibility":"Public","body":"if @coord_iter.next.is_a?(Stop)\n  return stop\nend\nget_element\n"}},{"html_id":"unsafe_next_value:T-instance-method","name":"unsafe_next_value","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":179,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L179"},"def":{"name":"unsafe_next_value","return_type":"T","visibility":"Public","body":"@coord_iter.next\nget_element\n"}}]},{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedColexIterator","path":"Phase/NArray/BufferUtil/IndexedColexIterator.html","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedColexIterator(I)","name":"IndexedColexIterator","abstract":false,"superclass":{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedCoordIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedCoordIterator","name":"IndexedCoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedCoordIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedCoordIterator","name":"IndexedCoordIterator"},{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/n_array/buffer_util.cr","line_number":124,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L124"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase/NArray/BufferUtil","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil"},"instance_methods":[{"html_id":"advance_coord-instance-method","name":"advance_coord","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":127,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L127"},"def":{"name":"advance_coord","visibility":"Public","body":"0.upto(@coord.size - 1) do |i|\n  if (@coord.unsafe_fetch(i)) == (@last.unsafe_fetch(i))\n    @buffer_index = @buffer_index - (((@coord.unsafe_fetch(i)) - (@first.unsafe_fetch(i))) * (@buffer_step.unsafe_fetch(i)))\n    @coord[i] = @first.unsafe_fetch(i)\n    if i == (@coord.size - 1)\n      return stop\n    end\n  else\n    __temp_51 = i\n    @coord[__temp_51] = @coord[__temp_51] + @step[i]\n    @buffer_index = @buffer_index + ((@buffer_step.unsafe_fetch(i)) * (@step.unsafe_fetch(i)))\n    break\n  end\nend\n@coord\n"}},{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":125,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L125"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}}]},{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedCoordIterator","path":"Phase/NArray/BufferUtil/IndexedCoordIterator.html","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedCoordIterator(I)","name":"IndexedCoordIterator","abstract":true,"superclass":{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/n_array/buffer_util.cr","line_number":64,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L64"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedColexIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedColexIterator(I)","name":"IndexedColexIterator"},{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedLexIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedLexIterator(I)","name":"IndexedLexIterator"}],"namespace":{"html_id":"ph-core/Phase/NArray/BufferUtil","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil"},"class_methods":[{"html_id":"cover(shape)-class-method","name":"cover","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(shape)","args_html":"(shape)","location":{"filename":"src/n_array/buffer_util.cr","line_number":68,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L68"},"def":{"name":"cover","args":[{"name":"shape","external_name":"shape","restriction":""}],"visibility":"Public","body":"new(IndexRegion.cover(shape), shape)"}}],"instance_methods":[{"html_id":"current_index:I-instance-method","name":"current_index","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":95,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L95"},"def":{"name":"current_index","return_type":"I","visibility":"Public","body":"@buffer_index"}},{"html_id":"reset:self-instance-method","name":"reset","doc":"Set up any incrementing variables (such as @coord) here prior to iteration.","summary":"<p>Set up any incrementing variables (such as @coord) here prior to iteration.</p>","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":86,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L86"},"def":{"name":"reset","return_type":"self","visibility":"Public","body":"@buffer_index = @buffer_step.map_with_index do |e, i|\n  e * @first[i]\nend.sum\nsuper()\n"}},{"html_id":"unsafe_next_index:I-instance-method","name":"unsafe_next_index","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":99,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L99"},"def":{"name":"unsafe_next_index","return_type":"I","visibility":"Public","body":"self.next\n@buffer_index\n"}},{"html_id":"unsafe_next_with_index-instance-method","name":"unsafe_next_with_index","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":91,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L91"},"def":{"name":"unsafe_next_with_index","visibility":"Public","body":"{self.next.unsafe_as(Array(I)), @buffer_index}"}}]},{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedLexIterator","path":"Phase/NArray/BufferUtil/IndexedLexIterator.html","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedLexIterator(I)","name":"IndexedLexIterator","abstract":false,"superclass":{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedCoordIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedCoordIterator","name":"IndexedCoordIterator"},"ancestors":[{"html_id":"ph-core/Phase/NArray/BufferUtil/IndexedCoordIterator","kind":"class","full_name":"Phase::NArray::BufferUtil::IndexedCoordIterator","name":"IndexedCoordIterator"},{"html_id":"ph-core/Phase/CoordIterator","kind":"class","full_name":"Phase::CoordIterator","name":"CoordIterator"},{"html_id":"ph-core/Phase/GeneralCoordIterator","kind":"class","full_name":"Phase::GeneralCoordIterator","name":"GeneralCoordIterator"},{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/n_array/buffer_util.cr","line_number":105,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L105"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase/NArray/BufferUtil","kind":"module","full_name":"Phase::NArray::BufferUtil","name":"BufferUtil"},"instance_methods":[{"html_id":"advance_coord-instance-method","name":"advance_coord","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":108,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L108"},"def":{"name":"advance_coord","visibility":"Public","body":"(@coord.size - 1).downto(0) do |i|\n  if (@coord.unsafe_fetch(i)) == (@last.unsafe_fetch(i))\n    @buffer_index = @buffer_index - (((@coord.unsafe_fetch(i)) - (@first.unsafe_fetch(i))) * (@buffer_step.unsafe_fetch(i)))\n    @coord[i] = @first.unsafe_fetch(i)\n    if i == 0\n      return stop\n    end\n  else\n    __temp_49 = i\n    @coord[__temp_49] = @coord[__temp_49] + (@step.unsafe_fetch(i))\n    @buffer_index = @buffer_index + ((@buffer_step.unsafe_fetch(i)) * (@step.unsafe_fetch(i)))\n    break\n  end\nend\n@coord\n"}},{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/n_array/buffer_util.cr","line_number":106,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/n_array/buffer_util.cr#L106"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}}]}]}]},{"html_id":"ph-core/Phase/PermuteTransform","path":"Phase/PermuteTransform.html","kind":"struct","full_name":"Phase::PermuteTransform","name":"PermuteTransform","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},"ancestors":[{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":195,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L195"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(size:Int32)-class-method","name":"new","abstract":false,"args":[{"name":"size","external_name":"size","restriction":"Int32"}],"args_string":"(size : Int32)","args_html":"(size : Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":204,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L204"},"def":{"name":"new","args":[{"name":"size","external_name":"size","restriction":"Int32"}],"visibility":"Public","body":"_ = allocate\n_.initialize(size)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(pattern)-class-method","name":"new","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":""}],"args_string":"(pattern)","args_html":"(pattern)","location":{"filename":"src/view_util/transforms.cr","line_number":200,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L200"},"def":{"name":"new","args":[{"name":"pattern","external_name":"pattern","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(pattern)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":236,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L236"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":"unpermute(coord, @buffer)"}},{"html_id":"compose(t:CoordTransform):CoordTransform-instance-method","name":"compose","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : CoordTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":209,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L209"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"CoordTransform","visibility":"Public","body":"case t\nwhen PermuteTransform\n  return new(t.permute(@pattern))\nelse\n  return super(t)\nend"}},{"html_id":"pattern:Array(Int32)-instance-method","name":"pattern","doc":"each of these has size = dimensions","summary":"<p>each of these has size = dimensions</p>","abstract":false,"location":{"filename":"src/view_util/transforms.cr","line_number":197,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L197"},"def":{"name":"pattern","return_type":"Array(Int32)","visibility":"Public","body":"@pattern"}},{"html_id":"permute(src_coord)-instance-method","name":"permute","abstract":false,"args":[{"name":"src_coord","external_name":"src_coord","restriction":""}],"args_string":"(src_coord)","args_html":"(src_coord)","location":{"filename":"src/view_util/transforms.cr","line_number":218,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L218"},"def":{"name":"permute","args":[{"name":"src_coord","external_name":"src_coord","restriction":""}],"visibility":"Public","body":"view_coord = Array.new(@pattern.size) do |src_idx|\n  src_coord[pattern[src_idx]]\nend"}},{"html_id":"unpermute(view_coord,src_coord_buffer)-instance-method","name":"unpermute","abstract":false,"args":[{"name":"view_coord","external_name":"view_coord","restriction":""},{"name":"src_coord_buffer","external_name":"src_coord_buffer","restriction":""}],"args_string":"(view_coord, src_coord_buffer)","args_html":"(view_coord, src_coord_buffer)","location":{"filename":"src/view_util/transforms.cr","line_number":229,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L229"},"def":{"name":"unpermute","args":[{"name":"view_coord","external_name":"view_coord","restriction":""},{"name":"src_coord_buffer","external_name":"src_coord_buffer","restriction":""}],"visibility":"Public","body":"@pattern.each_with_index do |el, idx|\n  src_coord_buffer[el] = view_coord[idx]\nend\nsrc_coord_buffer\n"}},{"html_id":"unpermute(view_coord)-instance-method","name":"unpermute","abstract":false,"args":[{"name":"view_coord","external_name":"view_coord","restriction":""}],"args_string":"(view_coord)","args_html":"(view_coord)","location":{"filename":"src/view_util/transforms.cr","line_number":224,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L224"},"def":{"name":"unpermute","args":[{"name":"view_coord","external_name":"view_coord","restriction":""}],"visibility":"Public","body":"src_coord = view_coord.clone\nunpermute(view_coord, src_coord)\n"}}]},{"html_id":"ph-core/Phase/ProcView","path":"Phase/ProcView.html","kind":"class","full_name":"Phase::ProcView(S, T, R)","name":"ProcView","abstract":false,"superclass":{"html_id":"ph-core/Phase/ReadonlyView","kind":"class","full_name":"Phase::ReadonlyView","name":"ReadonlyView"},"ancestors":[{"html_id":"ph-core/Phase/ReadonlyView","kind":"class","full_name":"Phase::ReadonlyView","name":"ReadonlyView"},{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/proc_view.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"class_methods":[{"html_id":"of(src:S,proc:T->R):ProcView(S,T,R)forallT,R-class-method","name":"of","doc":"DOCUMENT","summary":"<p>DOCUMENT</p>","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"S"},{"name":"proc","external_name":"proc","restriction":"(T -> R)"}],"args_string":"(src : S, proc : T -> R) : ProcView(S, T, R) forall T, R","args_html":"(src : S, proc : T -> R) : <a href=\"../Phase/ProcView.html\">ProcView</a>(S, T, R) forall T, R","location":{"filename":"src/proc_view.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L6"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":"S"},{"name":"proc","external_name":"proc","restriction":"(T -> R)"}],"return_type":"ProcView(S, T, R)","visibility":"Public","body":"{% if true %}\n                {% if S < MultiIndexable(T) %}{% else %}\n                    {% raise(\"Error creating ProcView: proc input type does not match source element type.\") %}\n                {% end %}\n            {% end %}\ncase src\nwhen ReadonlyView\n  return src.process(proc)\nelse\n  return ProcView(S, T, R).new(src, src.shape, proc)\nend\n"}},{"html_id":"of(src:B,&block:T->R):ProcView(S,T,R)forallT,R-class-method","name":"of","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"B"}],"args_string":"(src : B, &block : T -> R) : ProcView(S, T, R) forall T, R","args_html":"(src : B, &block : T -> R) : <a href=\"../Phase/ProcView.html\">ProcView</a>(S, T, R) forall T, R","location":{"filename":"src/proc_view.cr","line_number":21,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L21"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":"B"}],"yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(T -> R)"},"return_type":"ProcView(S, T, R)","visibility":"Public","body":"self.of(src, block)"}}],"instance_methods":[{"html_id":"clone:self-instance-method","name":"clone","abstract":false,"location":{"filename":"src/proc_view.cr","line_number":28,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L28"},"def":{"name":"clone","return_type":"self","visibility":"Public","body":"new(@src, @shape.clone, @proc.clone, @transform.clone)"}},{"html_id":"process(new_proc:R->U):ProcView(S,T,U)forallU-instance-method","name":"process","abstract":false,"args":[{"name":"new_proc","external_name":"new_proc","restriction":"(R -> U)"}],"args_string":"(new_proc : R -> U) : ProcView(S, T, U) forall U","args_html":"(new_proc : R -> U) : <a href=\"../Phase/ProcView.html\">ProcView</a>(S, T, U) forall U","location":{"filename":"src/proc_view.cr","line_number":36,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L36"},"def":{"name":"process","args":[{"name":"new_proc","external_name":"new_proc","restriction":"(R -> U)"}],"return_type":"ProcView(S, T, U)","visibility":"Public","body":"composition = Proc(T, U).new do |x|\n  new_proc.call(@proc.clone.call(x))\nend\nProcView(S, T, U).new(@src, @shape.clone, composition, @transform.clone)\n"}},{"html_id":"unsafe_fetch_element(coord):R-instance-method","name":"unsafe_fetch_element","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord) : R","args_html":"(coord) : R","location":{"filename":"src/proc_view.cr","line_number":32,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/proc_view.cr#L32"},"def":{"name":"unsafe_fetch_element","args":[{"name":"coord","external_name":"coord","restriction":""}],"return_type":"R","visibility":"Public","body":"@proc.call(@src.unsafe_fetch_element(@transform.apply(coord)))"}}]},{"html_id":"ph-core/Phase/RangeSyntax","path":"Phase/RangeSyntax.html","kind":"module","full_name":"Phase::RangeSyntax","name":"RangeSyntax","abstract":false,"locations":[{"filename":"src/range_syntax/range_syntax.cr","line_number":4,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L4"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"extended_modules":[{"html_id":"ph-core/Phase/RangeSyntax","kind":"module","full_name":"Phase::RangeSyntax","name":"RangeSyntax"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"instance_methods":[{"html_id":"bounded?(range_literal:Int32)-instance-method","name":"bounded?","abstract":false,"args":[{"name":"range_literal","external_name":"range_literal","restriction":"Int32"}],"args_string":"(range_literal : Int32)","args_html":"(range_literal : Int32)","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":19,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L19"},"def":{"name":"bounded?","args":[{"name":"range_literal","external_name":"range_literal","restriction":"Int32"}],"visibility":"Public","body":"true"}},{"html_id":"bounded?(range_literal)-instance-method","name":"bounded?","abstract":false,"args":[{"name":"range_literal","external_name":"range_literal","restriction":""}],"args_string":"(range_literal)","args_html":"(range_literal)","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":23,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L23"},"def":{"name":"bounded?","args":[{"name":"range_literal","external_name":"range_literal","restriction":""}],"visibility":"Public","body":"vals = parse_range(range_literal)\nstep = vals[:step]\nif step.nil? || step >= 0\n  if vals[:last].nil?\n    return false\n  end\nelse\n  if vals[:first].nil?\n    return false\n  end\nend\ntrue\n"}},{"html_id":"canonicalize_range(range,bound:T):NamedTuple(first:T,step:Int32,last:T,size:T)forallT-instance-method","name":"canonicalize_range","doc":"canonicalize_range(range, bound)\ninfer_range(range, bound)\nall hte other stuff","summary":"<p>canonicalize_range(range, bound) infer_range(range, bound) all hte other stuff</p>","abstract":false,"args":[{"name":"range","external_name":"range","restriction":""},{"name":"bound","external_name":"bound","restriction":"T"}],"args_string":"(range, bound : T) : NamedTuple(first: T, step: Int32, last: T, size: T) forall T","args_html":"(range, bound : T) : NamedTuple(first: T, step: Int32, last: T, size: T) forall T","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":145,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L145"},"def":{"name":"canonicalize_range","args":[{"name":"range","external_name":"range","restriction":""},{"name":"bound","external_name":"bound","restriction":"T"}],"return_type":"NamedTuple(first: T, step: Int32, last: T, size: T)","visibility":"Public","body":"r = infer_range(range, bound)\nif range_valid?(r[:first], r[:last], bound)\nelse\n  raise(IndexError.new(\"Could not canonicalize range: #{range} is not a sensible index range for axis of length #{bound}.\"))\nend\nr\n"}},{"html_id":"ensure_nonnegative(index:Int?)-instance-method","name":"ensure_nonnegative","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int | ::Nil"}],"args_string":"(index : Int?)","args_html":"(index : Int?)","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":71,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L71"},"def":{"name":"ensure_nonnegative","args":[{"name":"index","external_name":"index","restriction":"Int | ::Nil"}],"visibility":"Public","body":"if index.nil?\n  return\nend\nif index < 0\n  raise(IndexError.new(\"Negative indices have no meaning when a bounding shape is not provided.\"))\nend\n"}},{"html_id":"ensure_nonnegative(range_literal)-instance-method","name":"ensure_nonnegative","abstract":false,"args":[{"name":"range_literal","external_name":"range_literal","restriction":""}],"args_string":"(range_literal)","args_html":"(range_literal)","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":78,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L78"},"def":{"name":"ensure_nonnegative","args":[{"name":"range_literal","external_name":"range_literal","restriction":""}],"visibility":"Public","body":"vals = parse_range(range_literal)\nensure_nonnegative(vals[:first])\nensure_nonnegative(vals[:last])\n"}},{"html_id":"get_size(first,last,step)-instance-method","name":"get_size","abstract":false,"args":[{"name":"first","external_name":"first","restriction":""},{"name":"last","external_name":"last","restriction":""},{"name":"step","external_name":"step","restriction":""}],"args_string":"(first, last, step)","args_html":"(first, last, step)","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":7,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L7"},"def":{"name":"get_size","args":[{"name":"first","external_name":"first","restriction":""},{"name":"last","external_name":"last","restriction":""},{"name":"step","external_name":"step","restriction":""}],"visibility":"Public","body":"if (last != first) && (step.sign != (last <=> first))\n  raise(IndexError.new(\"Could not get size of range - step direction disagrees with first and last.\"))\n  return 0\nelse\n  if last >= first\n    return ((last - first) // step) + 1\n  else\n    return ((first - last) // (-step)) + 1\n  end\nend"}},{"html_id":"infer_range(index:Int,bound:T)forallT-instance-method","name":"infer_range","abstract":false,"args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"bound","external_name":"bound","restriction":"T"}],"args_string":"(index : Int, bound : T) forall T","args_html":"(index : Int, bound : T) forall T","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":84,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L84"},"def":{"name":"infer_range","args":[{"name":"index","external_name":"index","restriction":"Int"},{"name":"bound","external_name":"bound","restriction":"T"}],"visibility":"Public","body":"canonical = T.new(CoordUtil.canonicalize_index_unsafe(index, bound))\n{first: canonical, step: 1, last: canonical, size: T.new(1)}\n"}},{"html_id":"infer_range(range_literal,bound:T):NamedTuple(first:T,step:Int32,last:T,size:T)forallT-instance-method","name":"infer_range","abstract":false,"args":[{"name":"range_literal","external_name":"range_literal","restriction":""},{"name":"bound","external_name":"bound","restriction":"T"}],"args_string":"(range_literal, bound : T) : NamedTuple(first: T, step: Int32, last: T, size: T) forall T","args_html":"(range_literal, bound : T) : NamedTuple(first: T, step: Int32, last: T, size: T) forall T","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":89,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L89"},"def":{"name":"infer_range","args":[{"name":"range_literal","external_name":"range_literal","restriction":""},{"name":"bound","external_name":"bound","restriction":"T"}],"return_type":"NamedTuple(first: T, step: Int32, last: T, size: T)","visibility":"Public","body":"vals = parse_range(range_literal)\nf = vals[:first]\nl = vals[:last]\nstep = vals[:step]\nif step.nil?\n  first = f.nil? ? T.zero : CoordUtil.canonicalize_index_unsafe(f, bound)\n  temp_last = l.nil? ? bound - 1 : CoordUtil.canonicalize_index_unsafe(l, bound)\n  step = (  temp_last >= first) ? 1 : -1\nelse\n  first = f.nil? ? (  step > 0 ? T.zero : bound - 1) : CoordUtil.canonicalize_index_unsafe(f, bound)\n  temp_last = l.nil? ? (  step > 0 ? bound - 1 : T.zero) : CoordUtil.canonicalize_index_unsafe(l, bound)\nend\nif (!l.nil?) && vals[:exclusive]\n  if temp_last == first\n    return {first: T.zero, step: 0, last: T.zero, size: T.zero}\n  end\n  temp_last = temp_last - step.sign\nend\nif first < 0 || temp_last < 0\n  raise(IndexError.new(\"Invalid index: At least one endpoint of #{Range.new(f, l, vals[:exclusive])} is negative after canonicalization.\"))\nend\nbegin\n  first = T.new(first)\n  size = T.new(get_size(first, temp_last, step))\n  last = T.new(first + (step * (size - 1)))\n  {first: first, step: step.to_i32, last: last, size: size}\nrescue ex : IndexError\n  raise(IndexError.new(\"Could not canonicalize range: Conflict between implicit direction of #{Range.new(f, l, vals[:exclusive])} and provided step #{step}\"))\nend\n"}},{"html_id":"range_valid?(first,last,bound)-instance-method","name":"range_valid?","abstract":false,"args":[{"name":"first","external_name":"first","restriction":""},{"name":"last","external_name":"last","restriction":""},{"name":"bound","external_name":"bound","restriction":""}],"args_string":"(first, last, bound)","args_html":"(first, last, bound)","location":{"filename":"src/range_syntax/range_syntax.cr","line_number":138,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/range_syntax/range_syntax.cr#L138"},"def":{"name":"range_valid?","args":[{"name":"first","external_name":"first","restriction":""},{"name":"last","external_name":"last","restriction":""},{"name":"bound","external_name":"bound","restriction":""}],"visibility":"Public","body":"(last.in?(0...bound)) && (first.in?(0...bound))"}}]},{"html_id":"ph-core/Phase/ReadonlyView","path":"Phase/ReadonlyView.html","kind":"class","full_name":"Phase::ReadonlyView(S, R)","name":"ReadonlyView","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/readonly_view.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"}],"subclasses":[{"html_id":"ph-core/Phase/ProcView","kind":"class","full_name":"Phase::ProcView(S, T, R)","name":"ProcView"},{"html_id":"ph-core/Phase/View","kind":"class","full_name":"Phase::View(S, R)","name":"View"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"of(src:S,region=nil):self-class-method","name":"of","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"S"},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"args_string":"(src : S, region = nil) : self","args_html":"(src : S, region = <span class=\"n\">nil</span>) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":10,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L10"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":"S"},{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"return_type":"self","visibility":"Public","body":"case src\nwhen ReadonlyView\n  return src.view(region)\nelse\n  new_view = ReadonlyView(S, typeof(src.sample)).new(src)\n  if region\n    new_view.restrict_to(region)\n  end\n  return new_view\nend"}}],"instance_methods":[{"html_id":"clone:self-instance-method","name":"clone","abstract":false,"location":{"filename":"src/readonly_view.cr","line_number":32,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L32"},"def":{"name":"clone","return_type":"self","visibility":"Public","body":"(typeof(self)).new(@src, @shape.clone, @transform.clone)"}},{"html_id":"permute(order:Enumerable?=nil):self-instance-method","name":"permute","abstract":false,"args":[{"name":"order","default_value":"nil","external_name":"order","restriction":"Enumerable | ::Nil"}],"args_string":"(order : Enumerable? = nil) : self","args_html":"(order : Enumerable? = <span class=\"n\">nil</span>) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":75,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L75"},"def":{"name":"permute","args":[{"name":"order","default_value":"nil","external_name":"order","restriction":"Enumerable | ::Nil"}],"return_type":"self","visibility":"Public","body":"clone.permute!(order)"}},{"html_id":"permute!(order:Enumerable?=nil):self-instance-method","name":"permute!","abstract":false,"args":[{"name":"order","default_value":"nil","external_name":"order","restriction":"Enumerable | ::Nil"}],"args_string":"(order : Enumerable? = nil) : self","args_html":"(order : Enumerable? = <span class=\"n\">nil</span>) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":68,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L68"},"def":{"name":"permute!","args":[{"name":"order","default_value":"nil","external_name":"order","restriction":"Enumerable | ::Nil"}],"return_type":"self","visibility":"Public","body":"pt = PermuteTransform.new(order || self.dimensions)\n@shape = pt.permute(@shape)\n@transform.compose!(pt)\nself\n"}},{"html_id":"process(new_proc:R->U):ProcView(S,R,U)forallU-instance-method","name":"process","abstract":false,"args":[{"name":"new_proc","external_name":"new_proc","restriction":"(R -> U)"}],"args_string":"(new_proc : R -> U) : ProcView(S, R, U) forall U","args_html":"(new_proc : R -> U) : <a href=\"../Phase/ProcView.html\">ProcView</a>(S, R, U) forall U","location":{"filename":"src/readonly_view.cr","line_number":97,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L97"},"def":{"name":"process","args":[{"name":"new_proc","external_name":"new_proc","restriction":"(R -> U)"}],"return_type":"ProcView(S, R, U)","visibility":"Public","body":"ProcView(S, R, U).new(@src, @shape.clone, new_proc, @transform.clone)"}},{"html_id":"process(&block:R->U):ProcView(S,R,U)forallU-instance-method","name":"process","abstract":false,"location":{"filename":"src/readonly_view.cr","line_number":101,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L101"},"def":{"name":"process","yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(R -> U)"},"return_type":"ProcView(S, R, U)","visibility":"Public","body":"process(block)"}},{"html_id":"reshape(new_shape):self-instance-method","name":"reshape","abstract":false,"args":[{"name":"new_shape","external_name":"new_shape","restriction":""}],"args_string":"(new_shape) : self","args_html":"(new_shape) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":64,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L64"},"def":{"name":"reshape","args":[{"name":"new_shape","external_name":"new_shape","restriction":""}],"return_type":"self","visibility":"Public","body":"clone.reshape!(new_shape)"}},{"html_id":"reshape!(new_shape):self-instance-method","name":"reshape!","abstract":false,"args":[{"name":"new_shape","external_name":"new_shape","restriction":""}],"args_string":"(new_shape) : self","args_html":"(new_shape) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":54,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L54"},"def":{"name":"reshape!","args":[{"name":"new_shape","external_name":"new_shape","restriction":""}],"return_type":"self","visibility":"Public","body":"if new_shape.product != @shape.product\n  raise(\"number of elements can't change on reshape.\")\nend\n@transform.compose!(ReshapeTransform.new(@shape, new_shape))\n@shape = new_shape\nself\n"}},{"html_id":"reverse:self-instance-method","name":"reverse","abstract":false,"location":{"filename":"src/readonly_view.cr","line_number":84,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L84"},"def":{"name":"reverse","return_type":"self","visibility":"Public","body":"clone.reverse!"}},{"html_id":"reverse!:self-instance-method","name":"reverse!","abstract":false,"location":{"filename":"src/readonly_view.cr","line_number":79,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L79"},"def":{"name":"reverse!","return_type":"self","visibility":"Public","body":"@transform.compose!(ReverseTransform.new(@shape))\nself\n"}},{"html_id":"shape:Array(Int32)-instance-method","name":"shape","doc":"Returns the capacity of each axis spanned by `self`.\nFor example, a matrix with 4 rows and 2 columns will have the shape\n[4, 2]. This must always return a clone of the actual shape, and is\nsafe to mutate without affecting the MultiIndexable.","summary":"<p>Returns the capacity of each axis spanned by <code>self</code>.</p>","abstract":false,"location":{"filename":"src/readonly_view.cr","line_number":36,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L36"},"def":{"name":"shape","return_type":"Array(Int32)","visibility":"Public","body":"@shape.clone"}},{"html_id":"to_narr:NArray-instance-method","name":"to_narr","doc":"Creates an `NArray` duplicate of this `MultiIndexable`.\n\n```crystal\n# not_an_narray : MultiIndexable\nnarr = not_an_narray.to_narr # => NArray\nnot_an_narray.equals?(narr) { |el_1, el_2| el_1 == el_2 } # => true\n```","summary":"<p>Creates an <code><a href=\"../Phase/NArray.html\">NArray</a></code> duplicate of this <code><a href=\"../Phase/MultiIndexable.html\">MultiIndexable</a></code>.</p>","abstract":false,"location":{"filename":"src/readonly_view.cr","line_number":105,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L105"},"def":{"name":"to_narr","return_type":"NArray","visibility":"Public","body":"iter = self.each\nNArray.build(@shape) do |coord, i|\n  unsafe_fetch_element(coord)\nend\n"}},{"html_id":"unsafe_fetch_chunk(region:IndexRegion,drop:Bool):self-instance-method","name":"unsafe_fetch_chunk","abstract":false,"args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"drop","external_name":"drop","restriction":"Bool"}],"args_string":"(region : IndexRegion, drop : Bool) : self","args_html":"(region : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>, drop : Bool) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":88,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L88"},"def":{"name":"unsafe_fetch_chunk","args":[{"name":"region","external_name":"region","restriction":"IndexRegion"},{"name":"drop","external_name":"drop","restriction":"Bool"}],"return_type":"self","visibility":"Public","body":"view(region)"}},{"html_id":"unsafe_fetch_element(coord):R-instance-method","name":"unsafe_fetch_element","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":""}],"args_string":"(coord) : R","args_html":"(coord) : R","location":{"filename":"src/readonly_view.cr","line_number":93,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L93"},"def":{"name":"unsafe_fetch_element","args":[{"name":"coord","external_name":"coord","restriction":""}],"return_type":"R","visibility":"Public","body":"(@src.unsafe_fetch_element(@transform.apply(coord))).as(R)"}},{"html_id":"view(region=nil):self-instance-method","name":"view","abstract":false,"args":[{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"args_string":"(region = nil) : self","args_html":"(region = <span class=\"n\">nil</span>) : <span class=\"k\">self</span>","location":{"filename":"src/readonly_view.cr","line_number":40,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/readonly_view.cr#L40"},"def":{"name":"view","args":[{"name":"region","default_value":"nil","external_name":"region","restriction":""}],"return_type":"self","visibility":"Public","body":"new_view = clone\nif region\n  new_view.restrict_to(region)\nend\nnew_view\n"}}]},{"html_id":"ph-core/Phase/RegionIterator","path":"Phase/RegionIterator.html","kind":"class","full_name":"Phase::RegionIterator(I)","name":"RegionIterator","abstract":false,"superclass":{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/region_iterator.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Iterator","kind":"module","full_name":"Iterator","name":"Iterator"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(src_shape:Shape(I),chunk_shape:Shape(I),strides:Coord?=nil,degeneracy=nil,fringe_behaviour:FringeBehaviour=FringeBehaviour::DISCARD,&block:IndexRegion(I)->CoordIterator(I))-class-method","name":"new","doc":"getter size : Int32\nTODO: iter inputs, etc","summary":"<p>getter size : Int32 TODO: iter inputs, etc</p>","abstract":false,"args":[{"name":"src_shape","external_name":"src_shape","restriction":"Shape(I)"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape(I)"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FringeBehaviour::DISCARD","external_name":"fringe_behaviour","restriction":"FringeBehaviour"}],"args_string":"(src_shape : Shape(I), chunk_shape : Shape(I), strides : Coord? = nil, degeneracy = nil, fringe_behaviour : FringeBehaviour = FringeBehaviour::DISCARD, &block : IndexRegion(I) -> CoordIterator(I))","args_html":"(src_shape : <a href=\"../Phase/Shape.html\">Shape</a>(I), chunk_shape : <a href=\"../Phase/Shape.html\">Shape</a>(I), strides : <a href=\"../Phase/Coord.html\">Coord</a>? = <span class=\"n\">nil</span>, degeneracy = <span class=\"n\">nil</span>, fringe_behaviour : <a href=\"../Phase/RegionIterator/FringeBehaviour.html\">FringeBehaviour</a> = <span class=\"t\">FringeBehaviour</span><span class=\"t\">::</span><span class=\"t\">DISCARD</span>, &block : <a href=\"../Phase/IndexRegion.html\">IndexRegion</a>(I) -> <a href=\"../Phase/CoordIterator.html\">CoordIterator</a>(I))","location":{"filename":"src/iterators/region_iterator.cr","line_number":19,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L19"},"def":{"name":"new","args":[{"name":"src_shape","external_name":"src_shape","restriction":"Shape(I)"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape(I)"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FringeBehaviour::DISCARD","external_name":"fringe_behaviour","restriction":"FringeBehaviour"}],"yields":1,"block_arg":{"name":"block","external_name":"block","restriction":"(IndexRegion(I) -> CoordIterator(I))"},"visibility":"Public","body":"strides || (strides = chunk_shape)\nif strides.any? do |x|\n  x <= 0\nend\n  raise(DimensionError.new(\"Stride size must be greater than 0.\"))\nend\nlast = self.compute_lasts(src_shape, chunk_shape, strides, fringe_behaviour)\nregion = IndexRegion.new(Array(I).new(src_shape.size, 0), strides, last: last)\ncoord_iter = yield region\nnew(src_shape, chunk_shape, coord_iter, degeneracy, fringe_behaviour)\n"}},{"html_id":"new(src_shape:Indexable(I),chunk_shape:Shape(I),strides:Coord?=nil,degeneracy=nil,fringe_behaviour:FringeBehaviour=FringeBehaviour::DISCARD)-class-method","name":"new","abstract":false,"args":[{"name":"src_shape","external_name":"src_shape","restriction":"Indexable(I)"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape(I)"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FringeBehaviour::DISCARD","external_name":"fringe_behaviour","restriction":"FringeBehaviour"}],"args_string":"(src_shape : Indexable(I), chunk_shape : Shape(I), strides : Coord? = nil, degeneracy = nil, fringe_behaviour : FringeBehaviour = FringeBehaviour::DISCARD)","args_html":"(src_shape : Indexable(I), chunk_shape : <a href=\"../Phase/Shape.html\">Shape</a>(I), strides : <a href=\"../Phase/Coord.html\">Coord</a>? = <span class=\"n\">nil</span>, degeneracy = <span class=\"n\">nil</span>, fringe_behaviour : <a href=\"../Phase/RegionIterator/FringeBehaviour.html\">FringeBehaviour</a> = <span class=\"t\">FringeBehaviour</span><span class=\"t\">::</span><span class=\"t\">DISCARD</span>)","location":{"filename":"src/iterators/region_iterator.cr","line_number":34,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L34"},"def":{"name":"new","args":[{"name":"src_shape","external_name":"src_shape","restriction":"Indexable(I)"},{"name":"chunk_shape","external_name":"chunk_shape","restriction":"Shape(I)"},{"name":"strides","default_value":"nil","external_name":"strides","restriction":"Coord | ::Nil"},{"name":"degeneracy","default_value":"nil","external_name":"degeneracy","restriction":""},{"name":"fringe_behaviour","default_value":"FringeBehaviour::DISCARD","external_name":"fringe_behaviour","restriction":"FringeBehaviour"}],"visibility":"Public","body":"new(src_shape, chunk_shape, strides, degeneracy, fringe_behaviour) do |region|\n  LexIterator.new(region)\nend"}}],"instance_methods":[{"html_id":"clone-instance-method","name":"clone","doc":"Returns a copy of `self` with all instance variables cloned.","summary":"<p>Returns a copy of <code>self</code> with all instance variables cloned.</p>","abstract":false,"location":{"filename":"src/iterators/region_iterator.cr","line_number":12,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L12"},"def":{"name":"clone","visibility":"Public","body":"{% if @type < Reference && (!@type.instance_vars.map(&.type).all? do |t|\n  ((((t == ::Bool) || (t == ::Char)) || (t == ::Symbol)) || (t == ::String)) || t < ::Number::Primitive\nend) %}\n        exec_recursive_clone do |hash|\n          clone = {{ @type }}.allocate\n          hash[object_id] = clone.object_id\n          clone.initialize_copy(self)\n          GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n          clone\n        end\n      {% else %}\n        clone = {{ @type }}.allocate\n        clone.initialize_copy(self)\n        GC.add_finalizer(clone) if clone.responds_to?(:finalize)\n        clone\n      {% end %}"}},{"html_id":"next-instance-method","name":"next","doc":"Returns the next element in this iterator, or `Iterator::Stop::INSTANCE` if there\nare no more elements.","summary":"<p>Returns the next element in this iterator, or <code>Iterator::Stop::INSTANCE</code> if there are no more elements.</p>","abstract":false,"location":{"filename":"src/iterators/region_iterator.cr","line_number":115,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L115"},"def":{"name":"next","visibility":"Public","body":"coord = @coord_iter.next\ncase coord\nwhen Stop\n  return stop\nelse\n  compute_region(coord)\nend\n"}},{"html_id":"reset(*args,**options)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/iterators/region_iterator.cr","line_number":13,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L13"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@coord_iter.reset(*args, **options)"}},{"html_id":"reset(*args,**options,&)-instance-method","name":"reset","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/iterators/region_iterator.cr","line_number":13,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L13"},"def":{"name":"reset","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"visibility":"Public","body":"@coord_iter.reset(*args, **options) do |*yield_args|\n  yield *yield_args\nend"}},{"html_id":"unsafe_next-instance-method","name":"unsafe_next","abstract":false,"location":{"filename":"src/iterators/region_iterator.cr","line_number":125,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L125"},"def":{"name":"unsafe_next","visibility":"Public","body":"compute_region(@coord_iter.unsafe_next)"}}],"types":[{"html_id":"ph-core/Phase/RegionIterator/FringeBehaviour","path":"Phase/RegionIterator/FringeBehaviour.html","kind":"enum","full_name":"Phase::RegionIterator::FringeBehaviour","name":"FringeBehaviour","abstract":false,"ancestors":[{"html_id":"ph-core/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"ph-core/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/iterators/region_iterator.cr","line_number":129,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L129"}],"repository_name":"ph-core","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"DISCARD","name":"DISCARD","value":"0"},{"id":"COVER","name":"COVER","value":"1"},{"id":"ALL_START_POINTS","name":"ALL_START_POINTS","value":"2"}],"namespace":{"html_id":"ph-core/Phase/RegionIterator","kind":"class","full_name":"Phase::RegionIterator(I)","name":"RegionIterator"},"instance_methods":[{"html_id":"all_start_points?-instance-method","name":"all_start_points?","abstract":false,"location":{"filename":"src/iterators/region_iterator.cr","line_number":132,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L132"},"def":{"name":"all_start_points?","visibility":"Public","body":"self == ALL_START_POINTS"}},{"html_id":"cover?-instance-method","name":"cover?","abstract":false,"location":{"filename":"src/iterators/region_iterator.cr","line_number":131,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L131"},"def":{"name":"cover?","visibility":"Public","body":"self == COVER"}},{"html_id":"discard?-instance-method","name":"discard?","abstract":false,"location":{"filename":"src/iterators/region_iterator.cr","line_number":130,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/iterators/region_iterator.cr#L130"},"def":{"name":"discard?","visibility":"Public","body":"self == DISCARD"}}]}]},{"html_id":"ph-core/Phase/RegionTransform","path":"Phase/RegionTransform.html","kind":"struct","full_name":"Phase::RegionTransform","name":"RegionTransform","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},"ancestors":[{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":168,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L168"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(region)-class-method","name":"new","abstract":false,"args":[{"name":"region","external_name":"region","restriction":""}],"args_string":"(region)","args_html":"(region)","location":{"filename":"src/view_util/transforms.cr","line_number":174,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L174"},"def":{"name":"new","args":[{"name":"region","external_name":"region","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(region)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":190,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L190"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":"@region.unsafe_fetch_element(coord)"}},{"html_id":"compose(t:CoordTransform):CoordTransform-instance-method","name":"compose","doc":"TODO: check reaaaaally carefully","summary":"<p><span class=\"flag orange\">TODO</span>  check reaaaaally carefully</p>","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : CoordTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":179,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L179"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"CoordTransform","visibility":"Public","body":"case t\nwhen self\n  @region.unsafe_fetch_chunk(t.region)\nwhen ReverseTransform\nelse\n  return super(t)\nend"}},{"html_id":"region:IndexRegion(Int32)-instance-method","name":"region","doc":"each of these has size = dimensions\nTODO: Try to make this accept a generic coordinate type","summary":"<p>each of these has size = dimensions TODO: Try to make this accept a generic coordinate type</p>","abstract":false,"location":{"filename":"src/view_util/transforms.cr","line_number":171,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L171"},"def":{"name":"region","return_type":"IndexRegion(Int32)","visibility":"Public","body":"@region"}}]},{"html_id":"ph-core/Phase/ReshapeTransform","path":"Phase/ReshapeTransform.html","kind":"struct","full_name":"Phase::ReshapeTransform","name":"ReshapeTransform","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},"ancestors":[{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":100,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L100"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"doc":"probably done","summary":"<p>probably done</p>","constructors":[{"html_id":"new(src_shape,new_shape)-class-method","name":"new","abstract":false,"args":[{"name":"src_shape","external_name":"src_shape","restriction":""},{"name":"new_shape","external_name":"new_shape","restriction":""}],"args_string":"(src_shape, new_shape)","args_html":"(src_shape, new_shape)","location":{"filename":"src/view_util/transforms.cr","line_number":107,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L107"},"def":{"name":"new","args":[{"name":"src_shape","external_name":"src_shape","restriction":""},{"name":"new_shape","external_name":"new_shape","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(src_shape, new_shape)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":162,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L162"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":"index = coord_to_index(coord, @view_axis_strides)\nindex_to_coord(index, @src_shape, @buffer)\n"}},{"html_id":"compose(t:CoordTransform):CoordTransform-instance-method","name":"compose","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : CoordTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":112,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L112"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"CoordTransform","visibility":"Public","body":"case t\nwhen self\n  return t\nelse\n  return super(t)\nend"}}]},{"html_id":"ph-core/Phase/ReverseTransform","path":"Phase/ReverseTransform.html","kind":"struct","full_name":"Phase::ReverseTransform","name":"ReverseTransform","abstract":false,"superclass":{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},"ancestors":[{"html_id":"ph-core/Phase/CoordTransform","kind":"struct","full_name":"Phase::CoordTransform","name":"CoordTransform"},{"html_id":"ph-core/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"ph-core/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view_util/transforms.cr","line_number":241,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L241"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"new(shape)-class-method","name":"new","abstract":false,"args":[{"name":"shape","external_name":"shape","restriction":""}],"args_string":"(shape)","args_html":"(shape)","location":{"filename":"src/view_util/transforms.cr","line_number":246,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L246"},"def":{"name":"new","args":[{"name":"shape","external_name":"shape","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(shape)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"apply(coord:Array(Int32)):Array(Int32)-instance-method","name":"apply","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"args_string":"(coord : Array(Int32)) : Array(Int32)","args_html":"(coord : Array(Int32)) : Array(Int32)","location":{"filename":"src/view_util/transforms.cr","line_number":264,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L264"},"def":{"name":"apply","args":[{"name":"coord","external_name":"coord","restriction":"Array(Int32)"}],"return_type":"Array(Int32)","visibility":"Public","body":"coord.each_with_index do |el, i|\n  @buffer[i] = (@shape[i] - 1) - el\nend\n@buffer\n"}},{"html_id":"compose(t:CoordTransform):CoordTransform-instance-method","name":"compose","abstract":false,"args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"args_string":"(t : CoordTransform) : CoordTransform","args_html":"(t : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>) : <a href=\"../Phase/CoordTransform.html\">CoordTransform</a>","location":{"filename":"src/view_util/transforms.cr","line_number":250,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view_util/transforms.cr#L250"},"def":{"name":"compose","args":[{"name":"t","external_name":"t","restriction":"CoordTransform"}],"return_type":"CoordTransform","visibility":"Public","body":"case t\nwhen self\n  return IdentityTransform.new\nelse\n  return super(t)\nend"}}]},{"html_id":"ph-core/Phase/Shape","path":"Phase/Shape.html","kind":"alias","full_name":"Phase::Shape","name":"Shape","abstract":false,"locations":[{"filename":"src/type_aliases.cr","line_number":13,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/type_aliases.cr#L13"}],"repository_name":"ph-core","program":false,"enum":false,"alias":true,"aliased":"Indexable(T)","aliased_html":"Indexable(T)","const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"}},{"html_id":"ph-core/Phase/ShapeError","path":"Phase/ShapeError.html","kind":"class","full_name":"Phase::ShapeError","name":"ShapeError","abstract":false,"superclass":{"html_id":"ph-core/IndexError","kind":"class","full_name":"IndexError","name":"IndexError"},"ancestors":[{"html_id":"ph-core/IndexError","kind":"class","full_name":"IndexError","name":"IndexError"},{"html_id":"ph-core/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/exceptions/exceptions.cr","line_number":8,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/exceptions/exceptions.cr#L8"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"class_methods":[{"html_id":"initialize(message=\"Shapewasinvalidforthisoperation.\")-class-method","name":"initialize","abstract":false,"args":[{"name":"message","default_value":"\"Shape was invalid for this operation.\"","external_name":"message","restriction":""}],"args_string":"(message = \"Shape was invalid for this operation.\")","args_html":"(message = <span class=\"s\">&quot;Shape was invalid for this operation.&quot;</span>)","location":{"filename":"src/exceptions/exceptions.cr","line_number":9,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/exceptions/exceptions.cr#L9"},"def":{"name":"initialize","args":[{"name":"message","default_value":"\"Shape was invalid for this operation.\"","external_name":"message","restriction":""}],"visibility":"Public","body":"super(message)"}}]},{"html_id":"ph-core/Phase/ShapeUtil","path":"Phase/ShapeUtil.html","kind":"module","full_name":"Phase::ShapeUtil","name":"ShapeUtil","abstract":false,"locations":[{"filename":"src/shape_util.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/shape_util.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"extended_modules":[{"html_id":"ph-core/Phase/ShapeUtil","kind":"module","full_name":"Phase::ShapeUtil","name":"ShapeUtil"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"instance_methods":[{"html_id":"compatible_shapes?(shape1,shape2)-instance-method","name":"compatible_shapes?","doc":"checks if two shapes define the same data layout, i.e. are equal up to trailing ones.","summary":"<p>checks if two shapes define the same data layout, i.e.</p>","abstract":false,"args":[{"name":"shape1","external_name":"shape1","restriction":""},{"name":"shape2","external_name":"shape2","restriction":""}],"args_string":"(shape1, shape2)","args_html":"(shape1, shape2)","location":{"filename":"src/shape_util.cr","line_number":6,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/shape_util.cr#L6"},"def":{"name":"compatible_shapes?","args":[{"name":"shape1","external_name":"shape1","restriction":""},{"name":"shape2","external_name":"shape2","restriction":""}],"visibility":"Public","body":"if shape1.size > shape2.size\n  larger = shape1\n  shared_dims = shape2.size\nelse\n  larger = shape2\n  shared_dims = shape1.size\nend\nshared_dims.times do |i|\n  if shape1[i] != shape2[i]\n    return false\n  end\nend\n(shared_dims...larger.size).step(1) do |i|\n  if larger[i] != 1\n    return false\n  end\nend\ntrue\n"}}]},{"html_id":"ph-core/Phase/View","path":"Phase/View.html","kind":"class","full_name":"Phase::View(S, R)","name":"View","abstract":false,"superclass":{"html_id":"ph-core/Phase/ReadonlyView","kind":"class","full_name":"Phase::ReadonlyView","name":"ReadonlyView"},"ancestors":[{"html_id":"ph-core/Phase/MultiWritable","kind":"module","full_name":"Phase::MultiWritable","name":"MultiWritable"},{"html_id":"ph-core/Phase/ReadonlyView","kind":"class","full_name":"Phase::ReadonlyView","name":"ReadonlyView"},{"html_id":"ph-core/Phase/MultiIndexable","kind":"module","full_name":"Phase::MultiIndexable","name":"MultiIndexable"},{"html_id":"ph-core/Enumerable","kind":"module","full_name":"Enumerable","name":"Enumerable"},{"html_id":"ph-core/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"ph-core/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/view.cr","line_number":2,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view.cr#L2"}],"repository_name":"ph-core","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"ph-core/Phase/MultiWritable","kind":"module","full_name":"Phase::MultiWritable","name":"MultiWritable"}],"namespace":{"html_id":"ph-core/Phase","kind":"module","full_name":"Phase","name":"Phase"},"constructors":[{"html_id":"of(src:S,region:Enumerable?=nil):self-class-method","name":"of","abstract":false,"args":[{"name":"src","external_name":"src","restriction":"S"},{"name":"region","default_value":"nil","external_name":"region","restriction":"Enumerable | ::Nil"}],"args_string":"(src : S, region : Enumerable? = nil) : self","args_html":"(src : S, region : Enumerable? = <span class=\"n\">nil</span>) : <span class=\"k\">self</span>","location":{"filename":"src/view.cr","line_number":5,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view.cr#L5"},"def":{"name":"of","args":[{"name":"src","external_name":"src","restriction":"S"},{"name":"region","default_value":"nil","external_name":"region","restriction":"Enumerable | ::Nil"}],"return_type":"self","visibility":"Public","body":"case src\nwhen ReadonlyView\n  return src.view(region)\nelse\n  new_view = View(S, typeof(src.sample)).new(src)\n  if region\n    new_view.restrict_to(region)\n  end\n  return new_view\nend"}}],"instance_methods":[{"html_id":"unsafe_set_element(coord:Indexable,value:R)-instance-method","name":"unsafe_set_element","abstract":false,"args":[{"name":"coord","external_name":"coord","restriction":"Indexable"},{"name":"value","external_name":"value","restriction":"R"}],"args_string":"(coord : Indexable, value : R)","args_html":"(coord : Indexable, value : R)","location":{"filename":"src/view.cr","line_number":16,"url":"https://github.com/in-phase/ph-core/blob/3ff5b2cfb6e2da39ceb936d85cdff13127cfffc5/src/view.cr#L16"},"def":{"name":"unsafe_set_element","args":[{"name":"coord","external_name":"coord","restriction":"Indexable"},{"name":"value","external_name":"value","restriction":"R"}],"visibility":"Public","body":"@src.ensure_writable\n@src.unsafe_set_element(@transform.apply(coord), value)\n"}}]}]}]}})